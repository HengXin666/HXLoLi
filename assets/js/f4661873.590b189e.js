"use strict";(self.webpackChunkhx_loli=self.webpackChunkhx_loli||[]).push([[99728],{28453:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>d});var i=t(96540);const s={},o=i.createContext(s);function r(n){const e=i.useContext(o);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),i.createElement(o.Provider,{value:e},n.children)}},68603:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"\u8ba1\u4f6c\u5e38\u8b58/\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5/\u3010\u677f\u5b50\u3011\u7b97\u6cd5\u6a21\u7248/\u5e38\u7528\u6570\u636e\u7ed3\u6784/\u5b57\u5178\u6811\u4e36/index","title":"\u5b57\u5178\u6811","description":"- \u5b66\u4e60: \u5b57\u5178\u6811","source":"@site/docs/001-\u8ba1\u4f6c\u5e38\u8b58/001-\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5/014-\u3010\u677f\u5b50\u3011\u7b97\u6cd5\u6a21\u7248/005-\u5e38\u7528\u6570\u636e\u7ed3\u6784/005-\u5b57\u5178\u6811\u4e36/index.md","sourceDirName":"001-\u8ba1\u4f6c\u5e38\u8b58/001-\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5/014-\u3010\u677f\u5b50\u3011\u7b97\u6cd5\u6a21\u7248/005-\u5e38\u7528\u6570\u636e\u7ed3\u6784/005-\u5b57\u5178\u6811\u4e36","slug":"/\u8ba1\u4f6c\u5e38\u8b58/\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5/\u3010\u677f\u5b50\u3011\u7b97\u6cd5\u6a21\u7248/\u5e38\u7528\u6570\u636e\u7ed3\u6784/\u5b57\u5178\u6811\u4e36/","permalink":"/HXLoLi/docs/\u8ba1\u4f6c\u5e38\u8b58/\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5/\u3010\u677f\u5b50\u3011\u7b97\u6cd5\u6a21\u7248/\u5e38\u7528\u6570\u636e\u7ed3\u6784/\u5b57\u5178\u6811\u4e36/","draft":false,"unlisted":false,"editUrl":"https://github.com/HengXin666/HXLoLi/edit/main/docs/001-\u8ba1\u4f6c\u5e38\u8b58/001-\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5/014-\u3010\u677f\u5b50\u3011\u7b97\u6cd5\u6a21\u7248/005-\u5e38\u7528\u6570\u636e\u7ed3\u6784/005-\u5b57\u5178\u6811\u4e36/index.md","tags":[],"version":"current","lastUpdatedBy":"Heng_Xin_666","lastUpdatedAt":1745851959000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u5806\u306e\u6280\u5de7","permalink":"/HXLoLi/docs/\u8ba1\u4f6c\u5e38\u8b58/\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5/\u3010\u677f\u5b50\u3011\u7b97\u6cd5\u6a21\u7248/\u5e38\u7528\u6570\u636e\u7ed3\u6784/\u5806\u306e\u6280\u5de7/"},"next":{"title":"\u5e76\u67e5\u96c6\u4e36","permalink":"/HXLoLi/docs/\u8ba1\u4f6c\u5e38\u8b58/\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5/\u3010\u677f\u5b50\u3011\u7b97\u6cd5\u6a21\u7248/\u5e38\u7528\u6570\u636e\u7ed3\u6784/\u5e76\u67e5\u96c6\u4e36/"}}');var s=t(74848),o=t(28453);const r={},d="\u5b57\u5178\u6811",c={},l=[{value:"\u4e00\u3001\u6a21\u7248: \u4e24\u79cd\u5199\u6cd5",id:"\u4e00\u6a21\u7248-\u4e24\u79cd\u5199\u6cd5",level:2},{value:"1.1 \u6307\u9488\u5f0f",id:"11-\u6307\u9488\u5f0f",level:3},{value:"1.2 \u6570\u7ec4\u54c8\u5e0c\u5f0f",id:"12-\u6570\u7ec4\u54c8\u5e0c\u5f0f",level:3}];function a(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\u5b57\u5178\u6811",children:"\u5b57\u5178\u6811"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u5b66\u4e60: ",(0,s.jsx)(e.a,{href:"https://blog.HXLoLi.com/blog/#/articles?articleId=20558",title:"##20558##",children:"\u5b57\u5178\u6811"})]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u4e00\u6a21\u7248-\u4e24\u79cd\u5199\u6cd5",children:"\u4e00\u3001\u6a21\u7248: \u4e24\u79cd\u5199\u6cd5"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u4f8b\u9898: ",(0,s.jsx)(e.a,{href:"https://leetcode.cn/problems/k-divisible-elements-subarrays/",children:"2261. \u542b\u6700\u591a K \u4e2a\u53ef\u6574\u9664\u5143\u7d20\u7684\u5b50\u6570\u7ec4"})]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"11-\u6307\u9488\u5f0f",children:"1.1 \u6307\u9488\u5f0f"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-C++",children:"struct Node {\n    map<int, Node*> next{};  \n};\n\nclass Solution {\npublic:\n    int countDistinct(vector<int>& nums, int k, int p) {\n        int res = 0, n = nums.size();\n        Node* root = new Node;\n        for (int i = 0; i < n; ++i) { // \u4ece i \u5f00\u59cb, \u4e00\u76f4\u6784\u5efa\u5b50\u6570\u7ec4\n            Node* node = root;\n            Node* mae = nullptr;\n            for (int j = i, cnt = 0; j < n; ++j) {\n                int x = nums[j];\n                if (x % p == 0 && ++cnt > k)\n                    break;\n                mae = node;\n                node = node->next[x];\n                if (!node) {\n                    node = mae->next[x] = new Node;\n                    ++res;\n                }\n            }\n        }\n        return res;\n    }\n};\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u6bd4\u8f83\u597d\u5199, \u4f46\u662f\u56e0\u4e3a\u4f7f\u7528",(0,s.jsx)(e.code,{children:"new"}),"\u800c\u6ca1\u6709",(0,s.jsx)(e.code,{children:"del"}),"(\u56e0\u4e3adel\u4e5f\u9700\u8981\u65f6\u95f4), \u56e0\u6b64\u53ef\u80fd\u6ca1\u6709\u90a3\u4e48\u5de5\u7a0b..."]}),"\n",(0,s.jsx)(e.h3,{id:"12-\u6570\u7ec4\u54c8\u5e0c\u5f0f",children:"1.2 \u6570\u7ec4\u54c8\u5e0c\u5f0f"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-C++",children:"class Solution {\npublic:\n    int countDistinct(vector<int>& nums, int k, int p) {\n        /*\n    \u9898\u76ee\u8981\u6c42\u7684\u5b50\u6570\u7ec4: \u5b50\u6570\u7ec4\u4e2d\u6700\u591a k \u4e2a\u53ef\u88ab p \u6574\u9664\u7684\u5143\u7d20\n    \n    \u4ec0\u4e48\u662f\u4e0d\u540c\u7684\u5b50\u6570\u7ec4:\n        \u957f\u5ea6\u4e0d\u540c || (\u957f\u5ea6\u76f8\u540c && \u91cc\u9762\u7684\u5143\u7d20\u4e0d\u540c)\n        */\n\n        // \u6784\u5efa\u4e00\u4e2a\u5b57\u5178\u6811\n        // ne[i][j] \u4e3a \u7b2c ne \u7d22\u5f15\u4e3a i \u7684\u7ed3\u70b9, \n        // \u5b83\u7684\u5b50\u7ed3\u70b9\u662f j \u5bf9\u5e94\u7684\u7ed3\u70b9\u7684\u5b57\u5178\u6811 ne\u7d22\u5f15\u4e3a ne[i][j]\n        vector<map<int, int>> ne;\n        // ps: \u5982\u679c\u4f7f\u7528struct Node\u5b57\u5178\u6811\u7684\u505a\u6cd5, \u53ea\u9700\u8981\u4e00\u4e2a\u5168\u5c40\u7684cnt\n        // \u4ee5\u8bb0\u5f55new\u7684\u7ed3\u70b9\u6570\u91cf\u5373\u53ef (\u89c1\u4e0a)\n\n        auto get = [&]() -> int {\n            ne.push_back(map<int, int>()); \n            return (int)ne.size() - 1; \n        };\n\n        get(); // \u751f\u6210\u5b57\u5178\u6811\u7684\u6839\n        \n        for (int i = 0; i < nums.size(); ++i) {\n            for (int j = i, node = 0, cnt = 0; j < nums.size(); ++j) {\n                // \u9898\u76ee\u7684\u7ea6\u675f\n                if (nums[j] % p == 0 && ++cnt > k) \n                    break;\n                \n                // \u5982\u679c\u7ed3\u70b9\u4e0d\u5b58\u5728, \u5219\u751f\u6210\u65b0\u7ed3\u70b9\n                if (!ne[node].count(nums[j])) {\n                    ne[node][nums[j]] = get();\n                }\n                node = ne[node][nums[j]];\n            }\n        }\n        \n        return (int)ne.size() - 1;\n    }\n};\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u597d\u5904, RAII\u53ef\u4ee5\u81ea\u52a8\u91ca\u653e\u5b57\u5178\u6811; \u4f46\u662f\u5199\u8d77\u6765\u53ef\u80fd\u4e0d\u662f\u5f88\u987a? \u5c24\u5176\u662f\u5728\u9700\u8981\u81ea\u5b9a\u4e49\u7684\u65f6\u5019."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-C++",children:"struct Node {\n    map<int, int> next;\n    int isEnd = false;\n}\n\nvector<Node> ne;\nauto get = [&]() -> int {\n    ne.push_back(Node{});\n    return ne.size() - 1;\n};\n\nfor (int j = i, node = 0, cnt = 0; j < nums.size(); ++j) {\n    // \u9898\u76ee\u7684\u7ea6\u675f\n    if (nums[j] % p == 0 && ++cnt > k) \n        break;\n    \n    // \u5982\u679c\u7ed3\u70b9\u4e0d\u5b58\u5728, \u5219\u751f\u6210\u65b0\u7ed3\u70b9\n    if (!ne[node].next.count(nums[j])) {\n        ne[node].next[nums[j]] = get();\n    }\n    node = ne[node].next[nums[j]];\n}\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u5f53\u7136, \u4f60\u53ef\u4ee5\u91cd\u8f7d",(0,s.jsx)(e.code,{children:"[]"}),"\u8fd0\u7b97\u7b26, \u8fd9\u6837\u53c8\u987a\u624b\u4e86! (C++\u9b45\u529b\u65f6\u523b!)"]})]})}function u(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}}}]);