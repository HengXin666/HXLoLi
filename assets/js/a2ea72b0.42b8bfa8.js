"use strict";(self.webpackChunkhx_loli=self.webpackChunkhx_loli||[]).push([[98689],{28453:(s,n,e)=>{e.d(n,{R:()=>i,x:()=>l});var t=e(96540);const c={},a=t.createContext(c);function i(s){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof s?s(n):{...n,...s}}),[n,s])}function l(s){let n;return n=s.disableParentContext?"function"==typeof s.components?s.components(c):s.components||c:i(s.components),t.createElement(a.Provider,{value:n},s.children)}},69556:(s,n,e)=>{e.r(n),e.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"\u7a0b\u5e8f\u8bed\u8a00/C++/tmp\u4e36C++\u4e36memo/C++\u65b0\u7279\u6027/C++\u5e38\u7528\u65b0\u7279\u6027/as\u4e36const/index","title":"std::as_const","description":"\u6982\u8ff0","source":"@site/docs/002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/002-tmp\u4e36C++\u4e36memo/003-C++\u65b0\u7279\u6027/001-C++\u5e38\u7528\u65b0\u7279\u6027/029-as\u4e36const/index.md","sourceDirName":"002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/002-tmp\u4e36C++\u4e36memo/003-C++\u65b0\u7279\u6027/001-C++\u5e38\u7528\u65b0\u7279\u6027/029-as\u4e36const","slug":"/\u7a0b\u5e8f\u8bed\u8a00/C++/tmp\u4e36C++\u4e36memo/C++\u65b0\u7279\u6027/C++\u5e38\u7528\u65b0\u7279\u6027/as\u4e36const/","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/tmp\u4e36C++\u4e36memo/C++\u65b0\u7279\u6027/C++\u5e38\u7528\u65b0\u7279\u6027/as\u4e36const/","draft":false,"unlisted":false,"editUrl":"https://github.com/HengXin666/HXLoLi/edit/main/docs/002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/002-tmp\u4e36C++\u4e36memo/003-C++\u65b0\u7279\u6027/001-C++\u5e38\u7528\u65b0\u7279\u6027/029-as\u4e36const/index.md","tags":[],"version":"current","lastUpdatedBy":"Heng_Xin_666","lastUpdatedAt":1745851959000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"string\u4e36view","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/tmp\u4e36C++\u4e36memo/C++\u65b0\u7279\u6027/C++\u5e38\u7528\u65b0\u7279\u6027/string\u4e36view/"},"next":{"title":"filesystem","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/tmp\u4e36C++\u4e36memo/C++\u65b0\u7279\u6027/C++\u5e38\u7528\u65b0\u7279\u6027/filesystem/"}}');var c=e(74848),a=e(28453);const i={},l="std::as_const",r={},d=[{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u4f5c\u7528",id:"\u4f5c\u7528",level:3}];function o(s){const n={annotation:"annotation",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",math:"math",mrow:"mrow",mtext:"mtext",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,a.R)(),...s.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"stdas_const",children:"std::as_const"})}),"\n",(0,c.jsx)(n.h2,{id:"\u6982\u8ff0",children:"\u6982\u8ff0"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"C++17"}),"\u5f15\u5165\u4e86\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u6a21\u677f",(0,c.jsx)(n.code,{children:"std::as_const"}),"\uff0c\u5b83\u7528\u4e8e",(0,c.jsx)(n.strong,{children:"\u5c06\u4e00\u4e2a\u503c\u8f6c\u6362\u4e3aconst\u5f15\u7528"}),"\u3002\u8fd9\u4e2a\u51fd\u6570\u5728\u6cdb\u578b\u7f16\u7a0b\u4e2d\u975e\u5e38\u6709\u7528\uff0c\u7279\u522b\u662f\u5728\u5904\u7406\u53f3\u503c\u5f15\u7528\u65f6\u3002"]}),"\n",(0,c.jsxs)(n.p,{children:["\u4f7f\u7528",(0,c.jsx)(n.code,{children:"std::as_const"}),"\u53ef\u4ee5",(0,c.jsx)(n.strong,{children:"\u786e\u4fdd\u4e00\u4e2a\u503c\u4e0d\u4f1a\u88ab\u4fee\u6539\uff0c\u5373\u4f7f\u5b83\u539f\u672c\u662f\u4e00\u4e2a\u975e\u5e38\u91cf\u5bf9\u8c61"}),"\u3002\u8fd9\u5bf9\u4e8e\u4f20\u9012\u53c2\u6570\u7ed9\u63a5\u53d7const\u5f15\u7528\u7684\u51fd\u6570\u6216\u7b97\u6cd5\u975e\u5e38\u6709\u7528\u3002\u5b83\u8fd8\u53ef\u4ee5\u7528\u6765\u5728\u53f3\u503c\u4e0a\u8fdb\u884c\u4e00\u4e9b\u64cd\u4f5c\uff0c\u800c\u4e0d\u4f1a\u6539\u53d8\u5176\u72b6\u6001\u3002"]}),"\n",(0,c.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsx)(n.li,{children:"\u7b80\u5355\u7684\u5b9e\u4f8b"}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"\u5c06\u5de6\u503c\u8f6c\u5316\u4e3aconst\u7c7b\u578b"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-C++",children:'#include <iostream>\nusing namespace std;\n\nint main() {\n    string str={ "C++ as const test" };\n    cout << is_const<decltype(str)>::value << endl;\n  \n    const string str_const = as_const(str);\n    cout << is_const<decltype(str_const)>::value << endl;\n  \n    return 0;\n}\n'})}),"\n",(0,c.jsx)(n.h3,{id:"\u4f5c\u7528",children:"\u4f5c\u7528"}),"\n",(0,c.jsxs)(n.p,{children:["\u5728\u4f60\u7684\u4ee3\u7801\u4e2d\uff0c\u4f60\u4f7f\u7528",(0,c.jsx)(n.code,{children:"as_const"}),"\u51fd\u6570\u5c06\u4e00\u4e2a\u5de6\u503c\u5b57\u7b26\u4e32 ",(0,c.jsx)(n.code,{children:"str"})," \u8f6c\u6362\u4e3a\u4e00\u4e2a ",(0,c.jsx)(n.code,{children:"const"})," \u7c7b\u578b\u7684\u5b57\u7b26\u4e32 ",(0,c.jsx)(n.code,{children:"str_const"}),"\u3002"]}),"\n",(0,c.jsxs)(n.p,{children:["\u5c06\u4e00\u4e2a\u5de6\u503c\u8f6c\u6362\u4e3a ",(0,c.jsx)(n.code,{children:"const"})," \u7c7b\u578b\u6709\u51e0\u4e2a\u7528\u9014\uff1a"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsxs)(n.span,{className:"katex",children:[(0,c.jsx)(n.span,{className:"katex-mathml",children:(0,c.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,c.jsxs)(n.semantics,{children:[(0,c.jsx)(n.mrow,{children:(0,c.jsx)(n.mtext,{children:"\u4fdd\u62a4\u6570\u636e\u4e0d\u88ab\u4fee\u6539"})}),(0,c.jsx)(n.annotation,{encoding:"application/x-tex",children:"\u4fdd\u62a4\u6570\u636e\u4e0d\u88ab\u4fee\u6539"})]})})}),(0,c.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,c.jsxs)(n.span,{className:"base",children:[(0,c.jsx)(n.span,{className:"strut",style:{height:"0.6833em"}}),(0,c.jsx)(n.span,{className:"mord cjk_fallback",children:"\u4fdd\u62a4\u6570\u636e\u4e0d\u88ab\u4fee\u6539"})]})})]}),"\uff1a\u5f53\u4f60\u60f3\u786e\u4fdd\u67d0\u4e2a\u53d8\u91cf\u7684\u503c\u5728\u4f20\u9012\u7ed9\u51fd\u6570\u6216\u7b97\u6cd5\u65f6\u4e0d\u88ab\u4fee\u6539\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"as_const"})," \u5c06\u5176\u8f6c\u6362\u4e3a ",(0,c.jsx)(n.code,{children:"const"})," \u7c7b\u578b\u3002\u8fd9\u6837\uff0c\u5373\u4f7f\u4f60\u4f20\u9012\u4e86\u4e00\u4e2a\u5de6\u503c\u5f15\u7528\u7ed9\u4e00\u4e2a\u63a5\u53d7 const \u5f15\u7528\u7684\u51fd\u6570\uff0c\u4e5f\u80fd\u786e\u4fdd\u51fd\u6570\u5185\u90e8\u4e0d\u4f1a\u4fee\u6539\u8fd9\u4e2a\u503c\u3002"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsxs)(n.span,{className:"katex",children:[(0,c.jsx)(n.span,{className:"katex-mathml",children:(0,c.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,c.jsxs)(n.semantics,{children:[(0,c.jsx)(n.mrow,{children:(0,c.jsx)(n.mtext,{children:"\u5141\u8bb8\u5904\u7406\u53f3\u503c\u5f15\u7528"})}),(0,c.jsx)(n.annotation,{encoding:"application/x-tex",children:"\u5141\u8bb8\u5904\u7406\u53f3\u503c\u5f15\u7528"})]})})}),(0,c.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,c.jsxs)(n.span,{className:"base",children:[(0,c.jsx)(n.span,{className:"strut",style:{height:"0.6833em"}}),(0,c.jsx)(n.span,{className:"mord cjk_fallback",children:"\u5141\u8bb8\u5904\u7406\u53f3\u503c\u5f15\u7528"})]})})]}),"\uff1a",(0,c.jsx)(n.code,{children:"as_const"})," \u51fd\u6570\u53ef\u4ee5\u7528\u4e8e\u5c06\u5de6\u503c\u8f6c\u6362\u4e3a ",(0,c.jsx)(n.code,{children:"const"})," \u5f15\u7528\uff0c\u4ece\u800c\u4f7f\u5176\u53ef\u4ee5\u7ed1\u5b9a\u5230\u53f3\u503c\u5f15\u7528\u53c2\u6570\u4e0a\u3002\u8fd9\u5728\u6a21\u677f\u7f16\u7a0b\u548c\u5143\u7f16\u7a0b\u4e2d\u662f\u975e\u5e38\u6709\u7528\u7684\uff0c\u56e0\u4e3a",(0,c.jsx)(n.strong,{children:"\u53f3\u503c\u5f15\u7528\u53ef\u4ee5\u63d0\u4f9b\u66f4\u597d\u7684\u6027\u80fd\u548c\u8bed\u4e49"}),"\u3002"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsxs)(n.span,{className:"katex",children:[(0,c.jsx)(n.span,{className:"katex-mathml",children:(0,c.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,c.jsxs)(n.semantics,{children:[(0,c.jsx)(n.mrow,{children:(0,c.jsx)(n.mtext,{children:"\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u62f7\u8d1d"})}),(0,c.jsx)(n.annotation,{encoding:"application/x-tex",children:"\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u62f7\u8d1d"})]})})}),(0,c.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,c.jsxs)(n.span,{className:"base",children:[(0,c.jsx)(n.span,{className:"strut",style:{height:"0.6833em"}}),(0,c.jsx)(n.span,{className:"mord cjk_fallback",children:"\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u62f7\u8d1d"})]})})]}),"\uff1a\u5c06\u4e00\u4e2a\u5de6\u503c\u8f6c\u6362\u4e3a ",(0,c.jsx)(n.code,{children:"const"})," \u7c7b\u578b\u65f6\uff0c\u4e0d\u4f1a\u53d1\u751f\u5b9e\u9645\u7684\u6570\u636e\u62f7\u8d1d\u3002\u76f8\u53cd\uff0c\u5b83\u53ea\u662f\u6539\u53d8\u7c7b\u578b\u7684\u5e38\u91cf\u6027\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u539f\u59cb\u5bf9\u8c61\u7684 ",(0,c.jsx)(n.code,{children:"const"})," \u5f15\u7528\u3002\u8fd9\u6837\u53ef\u4ee5",(0,c.jsx)(n.strong,{children:"\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u6570\u636e\u62f7\u8d1d\uff0c\u63d0\u9ad8\u6027\u80fd"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["\u603b\u4e4b\uff0c\u901a\u8fc7\u5c06\u5de6\u503c\u8f6c\u6362\u4e3a ",(0,c.jsx)(n.code,{children:"const"})," \u7c7b\u578b\uff0c\u4f60\u53ef\u4ee5\u5728\u4fdd\u62a4\u6570\u636e\u4e0d\u88ab\u4fee\u6539\u3001\u5904\u7406\u53f3\u503c\u5f15\u7528\u548c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u62f7\u8d1d\u7b49\u65b9\u9762\u53d1\u6325\u4f5c\u7528\u3002\u8fd9\u5728\u7f16\u5199\u5b89\u5168\u3001\u9ad8\u6548\u7684\u4ee3\u7801\u65f6\u975e\u5e38\u6709\u7528\u3002"]}),"\n",(0,c.jsxs)(n.ol,{start:"2",children:["\n",(0,c.jsx)(n.li,{children:"GPT-3.5 \u63d0\u4f9b\u7684:"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-C++",children:'#include <iostream>\n#include <type_traits>\n\nvoid process(const int& value) {\n    std::cout << "Processing const int: " << value << std::endl;\n}\n\nint main() {\n    int x = 42;\n    auto&& ref = std::as_const(x);\n    \n    static_assert(std::is_same_v<decltype(ref), const int&>, "Type mismatch");\n    \n    process(ref);\n    \n    return 0;\n}\n'})}),"\n",(0,c.jsxs)(n.p,{children:["\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528",(0,c.jsx)(n.code,{children:"std::as_const"}),"\u5c06\u975e\u5e38\u91cf\u6574\u6570x\u8f6c\u6362\u4e3aconst\u5f15\u7528\uff0c\u5e76\u5c06\u5176\u7ed1\u5b9a\u5230ref\u53d8\u91cf\u4e0a\u3002\u7136\u540e\uff0c\u6211\u4eec\u5c06ref\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9",(0,c.jsx)(n.code,{children:"process"}),"\u51fd\u6570\uff0c\u56e0\u4e3a",(0,c.jsx)(n.code,{children:"process"}),"\u63a5\u53d7const\u5f15\u7528\u53c2\u6570\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u53ef\u4ee5\u786e\u4fddx\u5728process\u51fd\u6570\u5185\u90e8\u4e0d\u4f1a\u88ab\u4fee\u6539\u3002"]}),"\n",(0,c.jsxs)(n.p,{children:["\u8bf7\u6ce8\u610f\uff0c",(0,c.jsx)(n.code,{children:"std::as_const"}),"\u53ea\u80fd\u7528\u4e8e\u5c06\u4e00\u4e2a\u503c\u8f6c\u6362\u4e3aconst\u5f15\u7528\uff0c\u4e0d\u80fd\u7528\u4e8e\u5c06\u4e00\u4e2a\u503c\u8f6c\u6362\u4e3a\u975econst\u5f15\u7528\u6216\u53f3\u503c\u5f15\u7528\u3002\u5b83\u4ec5\u7528\u4e8e\u786e\u4fdd\u503c\u7684\u5e38\u91cf\u6027\uff0c\u800c\u4e0d\u662f\u4fee\u6539\u5176\u7ed1\u5b9a\u65b9\u5f0f\u3002"]})]})}function h(s={}){const{wrapper:n}={...(0,a.R)(),...s.components};return n?(0,c.jsx)(n,{...s,children:(0,c.jsx)(o,{...s})}):o(s)}}}]);