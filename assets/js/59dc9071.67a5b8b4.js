"use strict";(self.webpackChunkhx_loli=self.webpackChunkhx_loli||[]).push([[88701],{28453:(n,e,s)=>{s.d(e,{R:()=>t,x:()=>c});var i=s(96540);const r={},l=i.createContext(r);function t(n){const e=i.useContext(l);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:t(n.components),i.createElement(l.Provider,{value:e},n.children)}},77302:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"\u5d4c\u5165\u5f0f/\u6742\u9879/\u5b89\u88c5ROS/index","title":"\u5b89\u88c5ROS in ubt20.04","description":"- https://www.bilibili.com/video/BV1aP41137k9/","source":"@site/docs/011-\u5d4c\u5165\u5f0f/001-\u6742\u9879/005-\u5b89\u88c5ROS/index.md","sourceDirName":"011-\u5d4c\u5165\u5f0f/001-\u6742\u9879/005-\u5b89\u88c5ROS","slug":"/\u5d4c\u5165\u5f0f/\u6742\u9879/\u5b89\u88c5ROS/","permalink":"/HXLoLi/docs/\u5d4c\u5165\u5f0f/\u6742\u9879/\u5b89\u88c5ROS/","draft":false,"unlisted":false,"editUrl":"https://github.com/HengXin666/HXLoLi/edit/main/docs/011-\u5d4c\u5165\u5f0f/001-\u6742\u9879/005-\u5b89\u88c5ROS/index.md","tags":[],"version":"current","lastUpdatedBy":"Heng_Xin_666","lastUpdatedAt":1745851959000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u5728WSL\u5b89\u88c5ubt","permalink":"/HXLoLi/docs/\u5d4c\u5165\u5f0f/\u6742\u9879/\u5728WSL\u5b89\u88c5ubt/"},"next":{"title":"\u5728WSL\u4e0b\u5b89\u88c5ubt\u3010\u663e\u5361\u76f4\u901a\u5e76\u56fe\u5f62\u5316\u3011","permalink":"/HXLoLi/docs/\u5d4c\u5165\u5f0f/\u73af\u5883\u5b89\u88c5/WSL/\u5728WSL\u4e0b\u5b89\u88c5ubt\u3010\u663e\u5361\u76f4\u901a\u5e76\u56fe\u5f62\u5316\u3011/"}}');var r=s(74848),l=s(28453);const t={},c="\u5b89\u88c5ROS in ubt20.04",d={},o=[];function a(n){const e={a:"a",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"\u5b89\u88c5ros-in-ubt2004",children:"\u5b89\u88c5ROS in ubt20.04"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.bilibili.com/video/BV1aP41137k9/",children:"https://www.bilibili.com/video/BV1aP41137k9/"})}),"\n"]}),"\n",(0,r.jsx)(e.h1,{id:"\u7ed9\u865a\u62df\u673a\u914d\u7f6e\u4ee3\u7406",children:"\u7ed9\u865a\u62df\u673a\u914d\u7f6e\u4ee3\u7406"}),"\n",(0,r.jsx)(e.p,{children:"\u9ed8\u8ba4\u7b97\u662f\u5728\u5c40\u57df\u7f51\u7684, \u6240\u4ee5\u5728\u4ee3\u7406\u4e0a\u9762\u5141\u8bb8\u5c40\u57df\u7f51\u4f7f\u7528\u4ee3\u7406, \u7136\u540e\u914d\u7f6e\u5373\u53ef"}),"\n",(0,r.jsx)(e.p,{children:"\u547d\u4ee4\u884c\u4f7f\u7528\u4ee3\u7406:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"export http_proxy=socks5://192.168.213.1:2333\nexport https_proxy=socks5://192.168.213.1:2333\n"})}),"\n",(0,r.jsx)(e.h1,{id:"\u53ef\u80fd\u9700\u8981\u7684",children:"\u53ef\u80fd\u9700\u8981\u7684"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Hyper-V\u5b89\u88c5\u7684Ubuntu\u865a\u62df\u673a\u63d0\u793a\u201c\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\u201d\u7684\u786c\u76d8\u6269\u5bb9\u65b9\u6848\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.cnblogs.com/kendoziyu/p/16276417.html",children:"https://www.cnblogs.com/kendoziyu/p/16276417.html"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h1,{id:"\u5ffd\u7565\u4ee5\u4e0b\u5185\u5bb9",children:"\u5ffd\u7565\u4ee5\u4e0b\u5185\u5bb9"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"https://blog.vogelcs.com/2024/05/21/Windows%E4%B8%8B%E7%9B%B4%E9%80%9AGPU%E8%AE%BE%E5%A4%87%E5%88%B0Hyper-V%E7%9A%84Ubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA/",children:"https://blog.vogelcs.com/2024/05/21/Windows%E4%B8%8B%E7%9B%B4%E9%80%9AGPU%E8%AE%BE%E5%A4%87%E5%88%B0Hyper-V%E7%9A%84Ubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA/"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u8bbe\u7f6e\u5171\u4eab\u5206\u533a"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"mount -o username=loli,password=llh282 //192.168.213.1/loli-all ~/loli-all\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-CPP",children:'#!/bin/bash -e\nBRANCH=linux-msft-wsl-5.10.y\n\nif [ "$EUID" -ne 0 ]; then\n    echo "Swithing to root..."\n    exec sudo $0 "$@"\nfi\n\napt-get install -y git dkms\n\ngit clone -b $BRANCH --depth=1 https://github.com/microsoft/WSL2-Linux-Kernel\ncd WSL2-Linux-Kernel\nVERSION=$(git rev-parse --short HEAD)\n\ncp -r drivers/hv/dxgkrnl /usr/src/dxgkrnl-$VERSION\nmkdir -p /usr/src/dxgkrnl-$VERSION/inc/{uapi/misc,linux}\ncp include/uapi/misc/d3dkmthk.h /usr/src/dxgkrnl-$VERSION/inc/uapi/misc/d3dkmthk.h\ncp include/linux/hyperv.h /usr/src/dxgkrnl-$VERSION/inc/linux/hyperv_dxgkrnl.h\nsed -i \'s/\\$(CONFIG_DXGKRNL)/m/\' /usr/src/dxgkrnl-$VERSION/Makefile\nsed -i \'s#linux/hyperv.h#linux/hyperv_dxgkrnl.h#\' /usr/src/dxgkrnl-$VERSION/dxgmodule.c\necho "EXTRA_CFLAGS=-I\\$(PWD)/inc" >> /usr/src/dxgkrnl-$VERSION/Makefile\n\ncat > /usr/src/dxgkrnl-$VERSION/dkms.conf <<EOF\nPACKAGE_NAME="dxgkrnl"\nPACKAGE_VERSION="$VERSION"\nBUILT_MODULE_NAME="dxgkrnl"\nDEST_MODULE_LOCATION="/kernel/drivers/hv/dxgkrnl/"\nAUTOINSTALL="yes"\nEOF\n\ndkms add dxgkrnl/$VERSION\ndkms build dxgkrnl/$VERSION\ndkms install dxgkrnl/$VERSION\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u6bcf\u6b21\u90fd\u8981\u5206\u914dgpu"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-C++",children:"Set-VM -VMName ubt -GuestControlledCacheTypes $true -LowMemoryMappedIoSpace 1GB -HighMemoryMappedIoSpace 32GB\nAdd-VMGpuPartitionAdapter -VMName ubt\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u518d\u6b21\u6253\u5f00, \u62a5\u9519, \u5c31\u5148\u5173\u95ed: \u518d\u6253\u5f00\u2191"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"Remove-VMGpuPartitionAdapter -Vmname ubt\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u53bb\u9664\u5206\u533a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-C++",children:"Set-VMProcessor -VMName ubt -ExposeVirtualizationExtensions $false\n\nSet-VMProcessor -VMName ubt -ExposeVirtualizationExtensions $true\n\nRemove-VMGpuPartitionAdapter -Vmname ubt\n"})})]})}function u(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}}}]);