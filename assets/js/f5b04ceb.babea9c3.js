"use strict";(self.webpackChunkhx_loli=self.webpackChunkhx_loli||[]).push([[99884],{88:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-03_15-36-05-4cdb7b7c5a2acfa54051e4f7a7cee778.png"},3153:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-06_19-58-36-86296ad0a6b460fdf37118151af2d98f.png"},5003:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-03_15-27-22-7db4e6860696ad994d59db923b67826f.png"},5264:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-03_14-49-51-1fe6084f9e5535fb4a3591061b5a3066.png"},10117:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-05_22-38-19-602705c214d831aeef337e962370751d.png"},12138:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-06_20-43-00-bf5d6d733249e0f586fed9344e7d0e45.png"},12619:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-02_17-08-11-1ce824c78df791175da162ba79d2d020.png"},14809:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-06_21-02-41-da97785be7dce49823665a33ec6e533c.png"},16881:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-03_20-29-13-0c53689511d5dd964070526febe8b3e9.png"},21408:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-03_20-31-13-f800975f5877b3f4cc9cb6873bdba7df.png"},28453:(n,e,s)=>{s.d(e,{R:()=>r,x:()=>l});var i=s(96540);const a={},t=i.createContext(a);function r(n){const e=i.useContext(t);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:r(n.components),i.createElement(t.Provider,{value:e},n.children)}},33210:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-05_20-57-39-9d5cc5c18930dde8859e9e3996832f13.png"},34497:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-03_11-54-40-a9352a1c75673f3abfba90b3d1016a93.png"},39017:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-04_15-39-31-83dc039ec0116fbb6e862b44cf41af0c.png"},39138:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-04_15-29-37-5096c3af1928a0674f47ad338b66f51f.png"},42479:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/\u516d\u3001\u7406\u89e3\u5e38\u7528\u5e76\u884c\u7b97\u6cd5\u53ca\u5176\u5b9e\u73b0\u539f\u7406/index","title":"\u516d\u3001\u7406\u89e3\u5e38\u7528\u5e76\u884c\u7b97\u6cd5\u53ca\u5176\u5b9e\u73b0\u539f\u7406","description":"\u5b66\u4e60\u81ea:","source":"@site/docs/002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/002-\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/006-\u516d\u3001\u7406\u89e3\u5e38\u7528\u5e76\u884c\u7b97\u6cd5\u53ca\u5176\u5b9e\u73b0\u539f\u7406/index.md","sourceDirName":"002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/002-\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/006-\u516d\u3001\u7406\u89e3\u5e38\u7528\u5e76\u884c\u7b97\u6cd5\u53ca\u5176\u5b9e\u73b0\u539f\u7406","slug":"/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/\u516d\u3001\u7406\u89e3\u5e38\u7528\u5e76\u884c\u7b97\u6cd5\u53ca\u5176\u5b9e\u73b0\u539f\u7406/","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/\u516d\u3001\u7406\u89e3\u5e38\u7528\u5e76\u884c\u7b97\u6cd5\u53ca\u5176\u5b9e\u73b0\u539f\u7406/","draft":false,"unlisted":false,"editUrl":"https://github.com/HengXin666/HXLoLi/edit/main/docs/002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/002-\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/006-\u516d\u3001\u7406\u89e3\u5e38\u7528\u5e76\u884c\u7b97\u6cd5\u53ca\u5176\u5b9e\u73b0\u539f\u7406/index.md","tags":[],"version":"current","lastUpdatedBy":"Heng_Xin_666","lastUpdatedAt":1745851959000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u4e94\u3001C++\u5f00\u59cb\u7684\u591a\u7ebf\u7a0b\u7f16\u7a0b","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/\u4e94\u3001C++\u5f00\u59cb\u7684\u591a\u7ebf\u7a0b\u7f16\u7a0b/"},"next":{"title":"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u9700\u8981\u5c01\u88c5get\u548cset","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++\u9879\u76ee\u5b9e\u6218/\u4ec0\u4e48\u60c5\u51b5\u4e0b\u9700\u8981\u5c01\u88c5get\u548cset/"}}');var a=s(74848),t=s(28453);const r={},l="\u516d\u3001\u7406\u89e3\u5e38\u7528\u5e76\u884c\u7b97\u6cd5\u53ca\u5176\u5b9e\u73b0\u539f\u7406",c={},d=[{value:"\u7b2c0\u7ae0: \u4ece\u5e76\u53d1\u5230\u5e76\u884c",id:"\u7b2c0\u7ae0-\u4ece\u5e76\u53d1\u5230\u5e76\u884c",level:2},{value:"0.1 \u6469\u5c14\u5b9a\u5f8b: \u505c\u6b62\u589e\u957f\u4e86\u5417?",id:"01-\u6469\u5c14\u5b9a\u5f8b-\u505c\u6b62\u589e\u957f\u4e86\u5417",level:3},{value:"0.2 \u795e\u8bdd\u4e0e\u73b0\u5b9e: 2 * 3GHz &lt; 6GHz",id:"02-\u795e\u8bdd\u4e0e\u73b0\u5b9e-2--3ghz--6ghz",level:3},{value:"0.3 \u5e76\u53d1\u548c\u5e76\u884c\u7684\u533a\u522b",id:"03-\u5e76\u53d1\u548c\u5e76\u884c\u7684\u533a\u522b",level:3},{value:"0.4 \u82f1\u7279\u5c14\u5f00\u53d1\u7684tbb\u7684\u5b89\u88c5\u4e0e\u98df\u7528",id:"04-\u82f1\u7279\u5c14\u5f00\u53d1\u7684tbb\u7684\u5b89\u88c5\u4e0e\u98df\u7528",level:3},{value:"0.4.1 \u5b89\u88c5",id:"041-\u5b89\u88c5",level:4},{value:"0.4.2 cmake\u94fe\u63a5",id:"042-cmake\u94fe\u63a5",level:4},{value:"0.4.3 \u57fa\u4e8e\u6807\u51c6\u5e93\u7684\u5b9e\u73b0",id:"043-\u57fa\u4e8e\u6807\u51c6\u5e93\u7684\u5b9e\u73b0",level:4},{value:"0.4.4 tbb: \u4efb\u52a1\u7ec4",id:"044-tbb-\u4efb\u52a1\u7ec4",level:4},{value:"0.4.5 parallel_invoke",id:"045-parallel_invoke",level:4},{value:"\u7b2c1\u7ae0: \u5e76\u884c\u5faa\u73af",id:"\u7b2c1\u7ae0-\u5e76\u884c\u5faa\u73af",level:2},{value:"1.1 \u65f6\u95f4\u590d\u6742\u5ea6(time-efficiency)\u4e0e\u5de5\u4f5c\u91cf\u590d\u6742\u5ea6(work-efficiency)",id:"11-\u65f6\u95f4\u590d\u6742\u5ea6time-efficiency\u4e0e\u5de5\u4f5c\u91cf\u590d\u6742\u5ea6work-efficiency",level:3},{value:"1.2 \u6620\u5c04 (map)",id:"12-\u6620\u5c04-map",level:3},{value:"1.2.1 \u6734\u7d20\u7248\u672c",id:"121-\u6734\u7d20\u7248\u672c",level:4},{value:"1.2.2 \u5e76\u884c\u6620\u5c04",id:"122-\u5e76\u884c\u6620\u5c04",level:4},{value:"1.2.3 \u5c01\u88c5\u597d\u7684: parallel_for",id:"123-\u5c01\u88c5\u597d\u7684-parallel_for",level:4},{value:"1.2.4 \u9762\u5411\u521d\u5b66\u8005\u7684: parallel_for",id:"124-\u9762\u5411\u521d\u5b66\u8005\u7684-parallel_for",level:4},{value:"1.2.5 \u57fa\u4e8e\u8fed\u4ee3\u5668\u7684: parallel_for_each",id:"125-\u57fa\u4e8e\u8fed\u4ee3\u5668\u7684-parallel_for_each",level:4},{value:"1.2.6 \u4e8c\u7ef4\u533a\u95f4\u4e0a\u7684 for \u5faa\u73af: blocked_range2d",id:"126-\u4e8c\u7ef4\u533a\u95f4\u4e0a\u7684-for-\u5faa\u73af-blocked_range2d",level:4},{value:"1.2.7 \u4e09\u7ef4\u533a\u95f4\u4e0a\u7684 for \u5faa\u73af: blocked_range3d",id:"127-\u4e09\u7ef4\u533a\u95f4\u4e0a\u7684-for-\u5faa\u73af-blocked_range3d",level:4},{value:"1.2.8 \u6240\u6709\u533a\u95f4\u7c7b\u578b",id:"128-\u6240\u6709\u533a\u95f4\u7c7b\u578b",level:4},{value:"\u7b2c2\u7ae0: \u7f29\u5e76\u4e0e\u626b\u63cf",id:"\u7b2c2\u7ae0-\u7f29\u5e76\u4e0e\u626b\u63cf",level:2},{value:"2.1 \u7f29\u5e76 (reduce)",id:"21-\u7f29\u5e76-reduce",level:3},{value:"2.1.1 \u6734\u7d20\u7248\u672c",id:"211-\u6734\u7d20\u7248\u672c",level:4},{value:"2.1.2 \u5e76\u884c\u7f29\u5e76",id:"212-\u5e76\u884c\u7f29\u5e76",level:4},{value:"2.1.3 \u6539\u8fdb\u7684\u5e76\u884c\u7f29\u5e76 (GPU)",id:"213-\u6539\u8fdb\u7684\u5e76\u884c\u7f29\u5e76-gpu",level:4},{value:"2.1.4 \u5c01\u88c5\u597d\u7684: parallel_reduce",id:"214-\u5c01\u88c5\u597d\u7684-parallel_reduce",level:4},{value:"2.1.5 \u4fdd\u8bc1\u6bcf\u6b21\u8fd0\u884c\u7ed3\u679c\u4e00\u81f4: parallel_deterministic_reduce",id:"215-\u4fdd\u8bc1\u6bcf\u6b21\u8fd0\u884c\u7ed3\u679c\u4e00\u81f4-parallel_deterministic_reduce",level:4},{value:"2.1.6 \u5e76\u884c\u7f29\u5e76\u7684\u989d\u5916\u597d\u5904: \u80fd\u907f\u514d\u6d6e\u70b9\u8bef\u5dee",id:"216-\u5e76\u884c\u7f29\u5e76\u7684\u989d\u5916\u597d\u5904-\u80fd\u907f\u514d\u6d6e\u70b9\u8bef\u5dee",level:4},{value:"2.2 \u626b\u63cf (scan)",id:"22-\u626b\u63cf-scan",level:3},{value:"2.2.1 \u6734\u7d20\u7248\u672c",id:"221-\u6734\u7d20\u7248\u672c",level:4},{value:"2.2.2 \u5e76\u884c\u626b\u63cf",id:"222-\u5e76\u884c\u626b\u63cf",level:4},{value:"2.2.3 \u6539\u8fdb\u7684\u5e76\u884c\u626b\u63cf (GPU)",id:"223-\u6539\u8fdb\u7684\u5e76\u884c\u626b\u63cf-gpu",level:4},{value:"2.2.4 \u5c01\u88c5\u597d\u4e86: parallel_scan",id:"224-\u5c01\u88c5\u597d\u4e86-parallel_scan",level:4},{value:"\u7b2c3\u7ae0: \u6027\u80fd\u6d4b\u8bd5",id:"\u7b2c3\u7ae0-\u6027\u80fd\u6d4b\u8bd5",level:2},{value:"3.1 \u5e76\u884c\u548c\u4e32\u884c\u7684\u901f\u5ea6\u6bd4\u8f83",id:"31-\u5e76\u884c\u548c\u4e32\u884c\u7684\u901f\u5ea6\u6bd4\u8f83",level:3},{value:"3.2 \u5982\u4f55\u8bc4\u4ef7",id:"32-\u5982\u4f55\u8bc4\u4ef7",level:3},{value:"\u7b2c4\u7ae0: \u4efb\u52a1\u57df\u4e0e\u5d4c\u5957",id:"\u7b2c4\u7ae0-\u4efb\u52a1\u57df\u4e0e\u5d4c\u5957",level:2},{value:"4.1 \u4efb\u52a1\u57df",id:"41-\u4efb\u52a1\u57df",level:3},{value:"4.1.1 \u4efb\u52a1\u57df: task_arena",id:"411-\u4efb\u52a1\u57df-task_arena",level:4},{value:"4.1.2 \u4efb\u52a1\u57df: \u6307\u5b9a\u4f7f\u75284\u4e2a\u7ebf\u7a0b",id:"412-\u4efb\u52a1\u57df-\u6307\u5b9a\u4f7f\u75284\u4e2a\u7ebf\u7a0b",level:4},{value:"4.2 \u5d4c\u5957",id:"42-\u5d4c\u5957",level:3},{value:"4.2.1 \u5d4c\u5957 for \u5faa\u73af",id:"421-\u5d4c\u5957-for-\u5faa\u73af",level:4},{value:"4.2.2 \u5d4c\u5957 for \u5faa\u73af: \u6b7b\u9501\u95ee\u9898",id:"422-\u5d4c\u5957-for-\u5faa\u73af-\u6b7b\u9501\u95ee\u9898",level:4},{value:"4.2.2.1 \u6b7b\u9501\u95ee\u9898\u7684\u539f\u56e0",id:"4221-\u6b7b\u9501\u95ee\u9898\u7684\u539f\u56e0",level:5},{value:"4.2.2.2 \u89e3\u51b31: \u7528\u6807\u51c6\u5e93\u7684\u9012\u5f52\u9501 std::recursive_mutex",id:"4222-\u89e3\u51b31-\u7528\u6807\u51c6\u5e93\u7684\u9012\u5f52\u9501-stdrecursive_mutex",level:5},{value:"4.2.2.3 \u89e3\u51b32: \u521b\u5efa\u53e6\u4e00\u4e2a\u4efb\u52a1\u57df, \u8fd9\u6837\u4e0d\u540c\u57df\u4e4b\u95f4\u5c31\u4e0d\u4f1a\u7a83\u53d6\u5de5\u4f5c",id:"4223-\u89e3\u51b32-\u521b\u5efa\u53e6\u4e00\u4e2a\u4efb\u52a1\u57df-\u8fd9\u6837\u4e0d\u540c\u57df\u4e4b\u95f4\u5c31\u4e0d\u4f1a\u7a83\u53d6\u5de5\u4f5c",level:5},{value:"4.2.2.4 \u89e3\u51b33: \u540c\u4e00\u4e2a\u4efb\u52a1\u57df, \u4f46\u7528 isolate \u9694\u79bb, \u7981\u6b62\u5176\u5185\u90e8\u7684\u5de5\u4f5c\u88ab\u7a83\u53d6 (\u63a8\u8350)",id:"4224-\u89e3\u51b33-\u540c\u4e00\u4e2a\u4efb\u52a1\u57df-\u4f46\u7528-isolate-\u9694\u79bb-\u7981\u6b62\u5176\u5185\u90e8\u7684\u5de5\u4f5c\u88ab\u7a83\u53d6-\u63a8\u8350",level:5},{value:"\u7b2c5\u7ae0: \u4efb\u52a1\u5206\u914d",id:"\u7b2c5\u7ae0-\u4efb\u52a1\u5206\u914d",level:2},{value:"5.1 \u5e76\u884c: \u5982\u4f55\u5747\u5300\u5206\u914d\u4efb\u52a1\u5230\u6bcf\u4e2a\u7ebf\u7a0b?",id:"51-\u5e76\u884c-\u5982\u4f55\u5747\u5300\u5206\u914d\u4efb\u52a1\u5230\u6bcf\u4e2a\u7ebf\u7a0b",level:3},{value:"5.2 \u89e3\u51b31: \u7ebf\u7a0b\u6570\u91cf\u8d85\u8fc7CPU\u6838\u5fc3\u6570\u91cf, \u8ba9\u7cfb\u7edf\u8c03\u5ea6\u4fdd\u8bc1\u5404\u4e2a\u6838\u5fc3\u59cb\u7ec8\u9971\u548c",id:"52-\u89e3\u51b31-\u7ebf\u7a0b\u6570\u91cf\u8d85\u8fc7cpu\u6838\u5fc3\u6570\u91cf-\u8ba9\u7cfb\u7edf\u8c03\u5ea6\u4fdd\u8bc1\u5404\u4e2a\u6838\u5fc3\u59cb\u7ec8\u9971\u548c",level:3},{value:"5.3 \u89e3\u51b32: \u7ebf\u7a0b\u6570\u91cf\u4e0d\u53d8, \u4f46\u662f\u7528\u4e00\u4e2a\u961f\u5217\u5206\u53d1\u548c\u8ba4\u9886\u4efb\u52a1",id:"53-\u89e3\u51b32-\u7ebf\u7a0b\u6570\u91cf\u4e0d\u53d8-\u4f46\u662f\u7528\u4e00\u4e2a\u961f\u5217\u5206\u53d1\u548c\u8ba4\u9886\u4efb\u52a1",level:3},{value:"5.4 \u89e3\u51b33: \u6bcf\u4e2a\u7ebf\u7a0b\u4e00\u4e2a\u4efb\u52a1\u961f\u5217, \u505a\u5b8c\u672c\u804c\u5de5\u4f5c\u540e\u53ef\u4ee5\u8ba4\u9886\u5176\u4ed6\u7ebf\u7a0b\u7684\u4efb\u52a1",id:"54-\u89e3\u51b33-\u6bcf\u4e2a\u7ebf\u7a0b\u4e00\u4e2a\u4efb\u52a1\u961f\u5217-\u505a\u5b8c\u672c\u804c\u5de5\u4f5c\u540e\u53ef\u4ee5\u8ba4\u9886\u5176\u4ed6\u7ebf\u7a0b\u7684\u4efb\u52a1",level:3},{value:"5.5 \u89e3\u51b34: \u968f\u673a\u5206\u914d\u6cd5 (\u901a\u8fc7\u54c8\u5e0c\u51fd\u6570\u6216\u7ebf\u6027\u51fd\u6570)",id:"55-\u89e3\u51b34-\u968f\u673a\u5206\u914d\u6cd5-\u901a\u8fc7\u54c8\u5e0c\u51fd\u6570\u6216\u7ebf\u6027\u51fd\u6570",level:3},{value:"5.6 tbb::static_partitioner",id:"56-tbbstatic_partitioner",level:3},{value:"5.7 tbb::simple_partitioner",id:"57-tbbsimple_partitioner",level:3},{value:"5.8 tbb::auto_partitioner (\u9ed8\u8ba4)",id:"58-tbbauto_partitioner-\u9ed8\u8ba4",level:3},{value:"5.9 \u5faa\u73af\u4e0d\u5747\u5300\u60c5\u51b5\u7684\u6bd4\u8f83",id:"59-\u5faa\u73af\u4e0d\u5747\u5300\u60c5\u51b5\u7684\u6bd4\u8f83",level:3},{value:"5.10 tbb::affinity_partitioner \u8bb0\u5f55\u5386\u53f2, \u4e0b\u6b21\u6839\u636e\u7ecf\u9a8c\u81ea\u52a8\u8d1f\u8f7d\u5747\u8861",id:"510-tbbaffinity_partitioner-\u8bb0\u5f55\u5386\u53f2-\u4e0b\u6b21\u6839\u636e\u7ecf\u9a8c\u81ea\u52a8\u8d1f\u8f7d\u5747\u8861",level:3},{value:"5.11 \u9897\u7c92\u5ea6\u95ee\u9898",id:"511-\u9897\u7c92\u5ea6\u95ee\u9898",level:3},{value:"5.12 \u4f8b\u5b50: \u77e9\u9635\u8f6c\u7f6e",id:"512-\u4f8b\u5b50-\u77e9\u9635\u8f6c\u7f6e",level:3},{value:"\u7b2c6\u7ae0: \u5e76\u53d1\u5bb9\u5668",id:"\u7b2c6\u7ae0-\u5e76\u53d1\u5bb9\u5668",level:2},{value:"6.1 std::vector \u6269\u5bb9\u65f6\u4f1a\u79fb\u52a8\u5143\u7d20",id:"61-stdvector-\u6269\u5bb9\u65f6\u4f1a\u79fb\u52a8\u5143\u7d20",level:3},{value:"6.2 \u4e0d\u8fde\u7eed\u7684 tbb::concurrent_vector",id:"62-\u4e0d\u8fde\u7eed\u7684-tbbconcurrent_vector",level:3},{value:"6.2.1 \u6269\u5bb9\u4e0d\u9700\u79fb\u52a8\u4f4d\u306econcurrent_vector",id:"621-\u6269\u5bb9\u4e0d\u9700\u79fb\u52a8\u4f4d\u306econcurrent_vector",level:4},{value:"6.2.2 grow_by \u4e00\u6b21\u6027\u6269\u5bb9\u4e00\u5b9a\u5927\u5c0f",id:"622-grow_by-\u4e00\u6b21\u6027\u6269\u5bb9\u4e00\u5b9a\u5927\u5c0f",level:4},{value:"6.2.3 \u53ef\u5b89\u5168\u5730\u88ab\u591a\u7ebf\u7a0b\u5e76\u53d1\u8bbf\u95ee",id:"623-\u53ef\u5b89\u5168\u5730\u88ab\u591a\u7ebf\u7a0b\u5e76\u53d1\u8bbf\u95ee",level:4},{value:"6.2.4 \u4e0d\u5efa\u8bae\u901a\u8fc7\u7d22\u5f15\u968f\u673a\u8bbf\u95ee",id:"624-\u4e0d\u5efa\u8bae\u901a\u8fc7\u7d22\u5f15\u968f\u673a\u8bbf\u95ee",level:4},{value:"6.2.5 parallel_for \u4e5f\u652f\u6301\u8fed\u4ee3\u5668",id:"625-parallel_for-\u4e5f\u652f\u6301\u8fed\u4ee3\u5668",level:4},{value:"6.3 TBB \u4e2d\u5176\u4ed6\u5e76\u53d1\u5bb9\u5668",id:"63-tbb-\u4e2d\u5176\u4ed6\u5e76\u53d1\u5bb9\u5668",level:3},{value:"\u7b2c7\u7ae0: \u5e76\u884c\u7b5b\u9009",id:"\u7b2c7\u7ae0-\u5e76\u884c\u7b5b\u9009",level:2},{value:"7.1 \u6734\u7d20\u7248\u672c",id:"71-\u6734\u7d20\u7248\u672c",level:3},{value:"7.2 \u5e76\u884c\u7b5b\u90091 (\u9519\u7684)",id:"72-\u5e76\u884c\u7b5b\u90091-\u9519\u7684",level:3},{value:"7.3 \u5e76\u884c\u7b5b\u90092",id:"73-\u5e76\u884c\u7b5b\u90092",level:3},{value:"7.4 \u5e76\u884c\u7b5b\u90093",id:"74-\u5e76\u884c\u7b5b\u90093",level:3},{value:"7.5 \u5e76\u884c\u7b5b\u90094",id:"75-\u5e76\u884c\u7b5b\u90094",level:3},{value:"7.6 \u5e76\u884c\u7b5b\u90095 (\u5c0f\u5f6d\u8001\u5e08\u63a8\u8350\u65b9\u6848)",id:"76-\u5e76\u884c\u7b5b\u90095-\u5c0f\u5f6d\u8001\u5e08\u63a8\u8350\u65b9\u6848",level:3},{value:"7.7 \u5e76\u884c\u7b5b\u90096",id:"77-\u5e76\u884c\u7b5b\u90096",level:3},{value:"7.8 \u5e76\u884c\u7b5b\u90097 pod",id:"78-\u5e76\u884c\u7b5b\u90097-pod",level:3},{value:"7.9 \u5e76\u884c\u7b5b\u90098 (\u4e0d\u63a8\u8350)",id:"79-\u5e76\u884c\u7b5b\u90098-\u4e0d\u63a8\u8350",level:3},{value:"7.10 \u5e76\u884c\u7b5b\u90099 (\u7528\u4e8eGPU)",id:"710-\u5e76\u884c\u7b5b\u90099-\u7528\u4e8egpu",level:3},{value:"\u7b2c8\u7ae0: \u5206\u6cbb\u4e0e\u6392\u5e8f",id:"\u7b2c8\u7ae0-\u5206\u6cbb\u4e0e\u6392\u5e8f",level:2},{value:"8.1 \u5206\u6cbb",id:"81-\u5206\u6cbb",level:3},{value:"8.1.1 \u6734\u7d20\u7248\u672c",id:"811-\u6734\u7d20\u7248\u672c",level:4},{value:"8.1.2 \u6734\u7d20\u5e76\u884c\u7248\u672c",id:"812-\u6734\u7d20\u5e76\u884c\u7248\u672c",level:4},{value:"8.1.3 \u5e76\u884c: \u4f7f\u7528parallel_invoke",id:"813-\u5e76\u884c-\u4f7f\u7528parallel_invoke",level:4},{value:"8.1.4 \u4efb\u52a1\u5212\u5206\u5f97\u591f\u7ec6\u65f6, \u8f6c\u4e3a\u4e32\u884c",id:"814-\u4efb\u52a1\u5212\u5206\u5f97\u591f\u7ec6\u65f6-\u8f6c\u4e3a\u4e32\u884c",level:4},{value:"8.2 \u6392\u5e8f",id:"82-\u6392\u5e8f",level:3},{value:"8.2.1 \u6807\u51c6\u5e93\u7684\u6392\u5e8f",id:"821-\u6807\u51c6\u5e93\u7684\u6392\u5e8f",level:4},{value:"8.2.2 \u624b\u5199\u7684\u57fa\u4e8estd::hash\u7684\u5feb\u6392",id:"822-\u624b\u5199\u7684\u57fa\u4e8estdhash\u7684\u5feb\u6392",level:4},{value:"8.2.3 \u5e76\u884c\u5feb\u901f\u6392\u5e8f",id:"823-\u5e76\u884c\u5feb\u901f\u6392\u5e8f",level:4},{value:"8.2.4 \u6539\u8fdb: \u6570\u636e\u8db3\u591f\u5c0f\u65f6, \u5f00\u59cb\u7528\u6807\u51c6\u5e93\u4e32\u884c\u7684\u6392\u5e8f",id:"824-\u6539\u8fdb-\u6570\u636e\u8db3\u591f\u5c0f\u65f6-\u5f00\u59cb\u7528\u6807\u51c6\u5e93\u4e32\u884c\u7684\u6392\u5e8f",level:4},{value:"8.2.5 \u5c01\u88c5\u597d\u4e86: tbb::parallel_sort",id:"825-\u5c01\u88c5\u597d\u4e86-tbbparallel_sort",level:4},{value:"8.3 \u91cd\u65b0\u8ba4\u8bc6\u6539\u8fdb\u7684\u5e76\u884c\u7f29\u5e76",id:"83-\u91cd\u65b0\u8ba4\u8bc6\u6539\u8fdb\u7684\u5e76\u884c\u7f29\u5e76",level:3},{value:"\u7b2c9\u7ae0: \u6d41\u6c34\u7ebf\u5e76\u884c",id:"\u7b2c9\u7ae0-\u6d41\u6c34\u7ebf\u5e76\u884c",level:2},{value:"9.1 \u6848\u4f8b: \u6279\u91cf\u5904\u7406\u6570\u636e",id:"91-\u6848\u4f8b-\u6279\u91cf\u5904\u7406\u6570\u636e",level:3},{value:"9.2 \u7b80\u5355\u7c97\u66b4\u5e76\u884c for",id:"92-\u7b80\u5355\u7c97\u66b4\u5e76\u884c-for",level:3},{value:"9.3 \u62c6\u5206\u4e3a\u56db\u4e2a for",id:"93-\u62c6\u5206\u4e3a\u56db\u4e2a-for",level:3},{value:"9.4 \u53e6\u8f9f\u8e4a\u5f84: \u6d41\u6c34\u7ebf\u5e76\u884c",id:"94-\u53e6\u8f9f\u8e4a\u5f84-\u6d41\u6c34\u7ebf\u5e76\u884c",level:3},{value:"9.5 \u6d41\u6c34\u7ebf\u5e76\u884c: filter \u53c2\u6570",id:"95-\u6d41\u6c34\u7ebf\u5e76\u884c-filter-\u53c2\u6570",level:3},{value:"9.6 \u6d41\u6c34\u7ebf\u7684\u5229\u5f0a",id:"96-\u6d41\u6c34\u7ebf\u7684\u5229\u5f0a",level:3},{value:"\u603b\u7ed3: \u5404\u79cd\u5e76\u884c\u6a21\u5f0f",id:"\u603b\u7ed3-\u5404\u79cd\u5e76\u884c\u6a21\u5f0f",level:2}];function h(n){const e={a:"a",annotation:"annotation",blockquote:"blockquote",code:"code",div:"div",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",img:"img",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",mspace:"mspace",msub:"msub",msup:"msup",mtext:"mtext",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"\u516d\u7406\u89e3\u5e38\u7528\u5e76\u884c\u7b97\u6cd5\u53ca\u5176\u5b9e\u73b0\u539f\u7406",children:"\u516d\u3001\u7406\u89e3\u5e38\u7528\u5e76\u884c\u7b97\u6cd5\u53ca\u5176\u5b9e\u73b0\u539f\u7406"})}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsx)(e.p,{children:"\u5b66\u4e60\u81ea:"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.a,{href:"https://www.bilibili.com/video/BV1gu411m7kN",children:"\u3010C++\u3011transform, reduce, scan\u662f\u4ec0\u4e48\u610f\u601d\uff1f\u7406\u89e3\u5e38\u7528\u5e76\u884c\u7b97\u6cd5\u53ca\u5176\u5b9e\u73b0\u539f\u7406"})}),"\n",(0,a.jsx)(e.p,{children:"\u63a8\u8350\u9605\u8bfb: \u300aPro TBB\u300b"}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"\u7b2c0\u7ae0-\u4ece\u5e76\u53d1\u5230\u5e76\u884c",children:"\u7b2c0\u7ae0: \u4ece\u5e76\u53d1\u5230\u5e76\u884c"}),"\n",(0,a.jsx)(e.h3,{id:"01-\u6469\u5c14\u5b9a\u5f8b-\u505c\u6b62\u589e\u957f\u4e86\u5417",children:"0.1 \u6469\u5c14\u5b9a\u5f8b: \u505c\u6b62\u589e\u957f\u4e86\u5417?"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-02_17-02-49.png ##w600##",src:s(81378).A+"",width:"849",height:"548"})})})})]}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsx)(e.p,{children:"\u4f60\u9192\u5566\uff1f\u514d\u8d39\u5348\u9910\u7ed3\u675f\u4e86\uff01"}),"\n",(0,a.jsx)(e.p,{children:"\u6307\u671b\u9760\u5355\u6838\u6027\u80fd\u7684\u589e\u957f\u5e26\u6765\u7a0b\u5e8f\u6027\u80fd\u63d0\u5347\u7684\u65f6\u4ee3\u4e00\u53bb\u4e0d\u590d\u8fd4\u4e86, \u73b0\u5728\u8981\u6211\u4eec\u52a8\u52a8\u624b\u4e3a\u591a\u6838\u4f18\u5316\u4e00\u4e0b\u8001\u7684\u7a0b\u5e8f, \u624d\u80fd\u642d\u4e0a\u6469\u5c14\u5b9a\u5f8b\u7684\u987a\u98ce\u8f66\u3002"}),"\n"]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u6676\u4f53\u7ba1\u7684\u5bc6\u5ea6\u7684\u786e\u4ecd\u5728\u6307\u6570\u589e\u957f, \u4f46\u5904\u7406\u5668\u4e3b\u9891\u5374\u5f00\u59cb\u505c\u6b62\u589e\u957f\u4e86, \u751a\u81f3\u6709\u6240\u4e0b\u964d\u3002"}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u5f88\u957f\u65f6\u95f4\u4e4b\u524d\u6211\u4eec\u5c31\u53ef\u4ee5\u8fbe\u52302GHz(2001\u5e748\u6708), \u6839\u636e2003\u5e74\u7684\u8d8b\u52bf, \u57282005\u5e74\u521d\u6211\u4eec\u5c31\u5e94\u8be5\u7814\u53d1\u51fa10GHz\u7684\u82af\u7247\u3002"}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u53ef\u4e3a\u4f55\u76f4\u5230\u4eca\u5929\u4e5f\u751f\u4ea7\u4e0d\u51fa10GHz\u7684\u82af\u7247\uff1f"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["\u7ed3\u8bba: \u72ed\u4e49\u7684\u6469\u5c14\u5b9a\u5f8b\u6ca1\u6709\u5931\u6548\u3002\u4f46\u6676\u4f53\u7ba1\u6570\u91cf\u7684\u589e\u52a0, ",(0,a.jsx)(e.strong,{children:"\u4e0d\u518d"})," \u7528\u4e8e\u7ee7\u7eed\u63d0\u5347\u5355\u6838\u9891\u7387, \u8f6c\u800c\u7528\u4e8e\u589e\u52a0 ",(0,a.jsx)(e.strong,{children:"\u6838\u5fc3\u6570\u91cf"}),"\u3002\u5355\u6838\u6027\u80fd ",(0,a.jsx)(e.strong,{children:"\u4e0d\u518d"})," \u6307\u6570\u589e\u957f\uff01"]}),"\n",(0,a.jsx)(e.h3,{id:"02-\u795e\u8bdd\u4e0e\u73b0\u5b9e-2--3ghz--6ghz",children:"0.2 \u795e\u8bdd\u4e0e\u73b0\u5b9e: 2 * 3GHz < 6GHz"}),"\n",(0,a.jsx)(e.p,{children:"\u4e00\u4e2a\u7531\u53cc\u6838\u7ec4\u6210\u76843GHz\u7684CPU\u5b9e\u9645\u4e0a\u63d0\u4f9b\u4e866GHz\u7684\u5904\u7406\u80fd\u529b, \u662f\u5417?"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u663e\u7136\u4e0d\u662f\u3002\u751a\u81f3\u5728\u4e24\u4e2a\u5904\u7406\u5668\u4e0a\u540c\u65f6\u8fd0\u884c\u4e24\u4e2a\u7ebf\u7a0b\u4e5f\u4e0d\u89c1\u5f97\u53ef\u4ee5\u83b7\u5f97\u4e24\u500d\u7684\u6027\u80fd\u3002\u76f8\u4f3c\u7684, \u5927\u591a\u6570\u591a\u7ebf\u7a0b\u7684\u5e94\u7528\u4e0d\u4f1a\u6bd4\u53cc\u6838\u5904\u7406\u5668\u7684\u4e24\u500d\u5feb\u3002\u4ed6\u4eec\u5e94\u8be5\u6bd4\u5355\u6838\u5904\u7406\u5668\u8fd0\u884c\u7684\u5feb, \u4f46\u662f\u6027\u80fd\u6bd5\u7adf\u4e0d\u662f\u7ebf\u6027\u589e\u957f\u3002"}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u4e3a\u4ec0\u4e48\u65e0\u6cd5\u505a\u5230\u5462\uff1f\u9996\u5148, \u4e3a\u4e86\u4fdd\u8bc1\u7f13\u5b58\u4e00\u81f4\u6027\u4ee5\u53ca\u5176\u4ed6\u63e1\u624b\u534f\u8bae\u9700\u8981\u8fd0\u884c\u65f6\u95f4\u5f00\u9500\u3002\u5728\u4eca\u5929, \u53cc\u6838\u6216\u8005\u56db\u6838\u673a\u5668\u5728\u591a\u7ebf\u7a0b\u5e94\u7528\u65b9\u9762, \u5176\u6027\u80fd\u4e0d\u89c1\u5f97\u7684\u662f\u5355\u6838\u673a\u5668\u7684\u4e24\u500d\u6216\u8005\u56db\u500d\u3002\u8fd9\u4e00\u95ee\u9898\u4e00\u76f4\u4f34\u968fCPU\u53d1\u5c55\u81f3\u4eca\u3002"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(e.h3,{id:"03-\u5e76\u53d1\u548c\u5e76\u884c\u7684\u533a\u522b",children:"0.3 \u5e76\u53d1\u548c\u5e76\u884c\u7684\u533a\u522b"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"\u5e76\u53d1"}),": \u5355\u6838\u5904\u7406\u5668, \u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7",(0,a.jsx)(e.code,{children:"\u65f6\u95f4\u7247\u8c03\u5ea6\u7b97\u6cd5"}),", \u8f6e\u6362\u7740\u6267\u884c\u7740\u4e0d\u540c\u7684\u7ebf\u7a0b, \u770b\u8d77\u6765\u5c31\u597d\u50cf\u662f\u540c\u65f6\u8fd0\u884c\u4e00\u6837, \u5176\u5b9e\u6bcf\u4e00\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u5728\u8fd0\u884c\u3002\u76ee\u7684: \u5f02\u6b65\u5730\u5904\u7406\u591a\u4e2a\u4e0d\u540c\u7684\u4efb\u52a1, \u907f\u514d\u540c\u6b65\u9020\u6210\u7684\u963b\u585e\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"\u5e76\u884c"}),": \u591a\u6838\u5904\u7406\u5668, \u6bcf\u4e2a\u5904\u7406\u5668\u6267\u884c\u4e00\u4e2a\u7ebf\u7a0b, \u771f\u6b63\u7684\u540c\u65f6\u8fd0\u884c\u3002\u76ee\u7684: \u5c06\u4e00\u4e2a\u4efb\u52a1\u5206\u6d3e\u5230\u591a\u4e2a\u6838\u4e0a, \u4ece\u800c\u66f4\u5feb\u5b8c\u6210\u4efb\u52a1\u3002"]}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-02_17-08-11.png ##w300##",src:s(12619).A+"",width:"558",height:"704"})})})})]}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsx)(e.p,{children:"\u4e3e\u4f8b:"}),"\n",(0,a.jsx)(e.p,{children:"\u56fe\u5f62\u5b66\u7231\u597d\u8005: \u6211\u770b\u4e2d\u7684\u662f\u591a\u6838, \u76ee\u7684\u662f\u52a0\u901f\u6bd4, \u5982\u679c\u662f\u5355\u6838, \u90a3\u591a\u7ebf\u7a0b\u5bf9\u6211\u65e0\u7528\uff01"}),"\n",(0,a.jsx)(e.p,{children:"\u67d0\u4e92\u8054\u7f51\u516c\u53f8: \u6211\u770b\u4e2d\u7684\u662f\u5f02\u6b65, \u76ee\u7684\u662f\u65e0\u963b\u585e, \u5373\u4f7f\u662f\u5355\u6838, \u591a\u7ebf\u7a0b\u5bf9\u6211\u4e5f\u6709\u7528\u3002"}),"\n"]}),"\n",(0,a.jsx)(e.h3,{id:"04-\u82f1\u7279\u5c14\u5f00\u53d1\u7684tbb\u7684\u5b89\u88c5\u4e0e\u98df\u7528",children:"0.4 \u82f1\u7279\u5c14\u5f00\u53d1\u7684tbb\u7684\u5b89\u88c5\u4e0e\u98df\u7528"}),"\n",(0,a.jsx)(e.h4,{id:"041-\u5b89\u88c5",children:"0.4.1 \u5b89\u88c5"}),"\n",(0,a.jsx)(e.p,{children:"Ubuntu:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sh",children:"sudo apt-get install libtbb-dev\n"})}),"\n",(0,a.jsx)(e.p,{children:"Arch Linux:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sh",children:"sudo pacman -S tbb\n"})}),"\n",(0,a.jsx)(e.p,{children:"Windows:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sh",children:".\\vcpkg install tbb:x64-windows\n"})}),"\n",(0,a.jsx)(e.p,{children:"Mac OS:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sh",children:".\\vcpkg install tbb:x64-macos\n"})}),"\n",(0,a.jsxs)(e.div,{className:"markdown-alert markdown-alert-tip",children:["\n",(0,a.jsxs)(e.p,{className:"markdown-alert-title",children:[(0,a.jsx)(e.span,{className:"octicon octicon-tip",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-light-bulb mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Tip"]}),"\n",(0,a.jsxs)(e.p,{children:["\u5b89\u88c5\u5305\u7ba1\u7406\u5668, Linux\u53ef\u4ee5\u4f7f\u7528\u81ea\u5e26\u7684, \u5982",(0,a.jsx)(e.code,{children:"pacman -S fmt"})]}),"\n",(0,a.jsxs)(e.p,{children:["win\u9700\u8981\u641e",(0,a.jsx)(e.code,{children:"vcpkg"}),". \u8be6\u89c1 ",(0,a.jsx)(e.a,{href:"https://www.bilibili.com/video/BV1fa411r7zp",children:"https://www.bilibili.com/video/BV1fa411r7zp"})," \u7684 1:18:48"]}),"\n"]}),"\n",(0,a.jsx)(e.h4,{id:"042-cmake\u94fe\u63a5",children:"0.4.2 cmake\u94fe\u63a5"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-CMake",children:"project(03-tbb LANGUAGES CXX)\n\nfile(GLOB_RECURSE srcs CONFIGURE_DEPENDS \n    *.cpp \n    *.h\n    *.hpp\n)\n\n# \u7f16\u8bd1\u53ef\u6267\u884c\u6587\u4ef6\nadd_executable(03-tbb ${srcs})\n\n# \u6dfb\u52a0TBB\u4f9d\u8d56\nfind_package(TBB REQUIRED)\ntarget_link_libraries(03-tbb TBB::tbb)\n"})}),"\n",(0,a.jsx)(e.h4,{id:"043-\u57fa\u4e8e\u6807\u51c6\u5e93\u7684\u5b9e\u73b0",children:"0.4.3 \u57fa\u4e8e\u6807\u51c6\u5e93\u7684\u5b9e\u73b0"}),"\n",(0,a.jsxs)(e.p,{children:["\u56de\u987e",(0,a.jsx)(e.a,{href:"https://blog.HXLoLi.com/blog/#/articles?articleId=20915",title:"##20915##",children:"\u4e94\u3001C++11\u5f00\u59cb\u7684\u591a\u7ebf\u7a0b\u7f16\u7a0b"}),", \u6211\u4eec\u5b9e\u73b0\u4e86:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <iostream>\n#include <string>\n#include <thread>\n\nvoid download(std::string file) {\n    for (int i = 0; i < 10; ++i) {\n        std::cout << "Downloading " << file\n                  << " (" << i * 10 << "%)..." << \'\\n\';\n        std::this_thread::sleep_for(std::chrono::milliseconds(400));\n    }\n    std::cout << "Download complete: " << file << \'\\n\';\n}\n\nvoid interact() {\n    std::string name;\n    std::cin >> name;\n    std::cout << "Hi, " << name << \'\\n\';\n}\n\nint main() {\n    std::thread t([&]{\n        download("loli.zip");\n    });\n    interact();\n    t.join();\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u540c\u7406, \u5728tbb\u4e2d, \u6211\u4eec\u4e5f\u53ef\u4ee5\u590d\u523b\u4e0a\u9762\u7684\u529f\u80fd"}),"\n",(0,a.jsx)(e.h4,{id:"044-tbb-\u4efb\u52a1\u7ec4",children:"0.4.4 tbb: \u4efb\u52a1\u7ec4"}),"\n",(0,a.jsxs)(e.p,{children:["\u7528\u4e00\u4e2a\u4efb\u52a1\u7ec4",(0,a.jsx)(e.code,{children:"tbb::task_group"}),"\u542f\u52a8\u591a\u4e2a\u4efb\u52a1, \u4e00\u4e2a\u8d1f\u8d23\u4e0b\u8f7d, \u4e00\u4e2a\u8d1f\u8d23\u548c\u7528\u6237\u4ea4\u4e92\u3002\u5e76\u5728\u4e3b\u7ebf\u7a0b\u4e2d\u7b49\u5f85\u8be5\u4efb\u52a1\u7ec4\u91cc\u7684\u4efb\u52a1\u5168\u90e8\u6267\u884c\u5b8c\u6bd5\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["\u533a\u522b\u5728\u4e8e, \u4e00\u4e2a\u4efb\u52a1 ",(0,a.jsx)(e.strong,{children:"\u4e0d\u4e00\u5b9a"})," \u5bf9\u5e94\u4e00\u4e2a\u7ebf\u7a0b, \u5982\u679c\u4efb\u52a1\u6570\u91cf\u8d85\u8fc7CPU\u6700\u5927\u7684\u7ebf\u7a0b\u6570, \u4f1a\u7531 TBB \u5728\u7528\u6237\u5c42\u8d1f\u8d23\u8c03\u5ea6\u4efb\u52a1\u8fd0\u884c\u5728\u591a\u4e2a\u9884\u5148\u5206\u914d\u597d\u7684\u7ebf\u7a0b, \u800c ",(0,a.jsx)(e.strong,{children:"\u4e0d\u662f"})," \u7531\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u8c03\u5ea6\u7ebf\u7a0b\u8fd0\u884c\u5728\u591a\u4e2a\u7269\u7406\u6838\u5fc3\u3002"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <iostream>\n#include <string>\n#include <tbb/task_group.h>\n\nvoid download(std::string file) {\n    for (int i = 0; i < 10; ++i) {\n        std::cout << "Downloading " << file\n                  << " (" << i * 10 << "%)..." << \'\\n\';\n        std::this_thread::sleep_for(std::chrono::milliseconds(400));\n    }\n    std::cout << "Download complete: " << file << \'\\n\';\n}\n\nvoid interact() {\n    std::string name;\n    std::cin >> name;\n    std::cout << "Hi, " << name << \'\\n\';\n}\n\nint main() {\n    tbb::task_group tg;\n    tg.run([]{\n        download("loli.zip");\n    });\n    tg.run([]{\n        interact();\n    });\n    // interact();\n    tg.wait();\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.h4,{id:"045-parallel_invoke",children:"0.4.5 parallel_invoke"}),"\n",(0,a.jsxs)(e.p,{children:["\u5c01\u88c5\u597d\u7684",(0,a.jsx)(e.code,{children:"task_group"}),", \u591a\u4e2a\u51fd\u6570\u5bf9\u8c61\u7684\u5e76\u884c\u6267\u884c."]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"template<typename... Fs>\nvoid parallel_invoke(Fs&&... fs) {\n    invoke_helper<std::tuple<>, Fs...>()(std::forward<Fs>(fs)...);\n}\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <tbb/parallel_invoke.h>\n\n// ...\n\nint main() {\n    tbb::parallel_invoke([]{\n        download("loli.zip");\n    }, []{\n        interact();\n    });\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u66f4\u597d\u7684\u4f8b\u5b50:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"std::string str{\"Hello Loli~\"};\nchar c = 'L';\ntbb::parallel_invoke([&]{\n    for (uint32_t i = 0; i < str.size() / 2; ++i)\n        if (c == str[i])\n            std::cout << \"find!\" << '\\n';\n}, [&]{\n    for (uint32_t i = str.size() / 2; i < str.size(); ++i)\n        if (c == str[i])\n            std::cout << \"find!\" << '\\n';\n});\n"})}),"\n",(0,a.jsx)(e.h2,{id:"\u7b2c1\u7ae0-\u5e76\u884c\u5faa\u73af",children:"\u7b2c1\u7ae0: \u5e76\u884c\u5faa\u73af"}),"\n",(0,a.jsx)(e.h3,{id:"11-\u65f6\u95f4\u590d\u6742\u5ea6time-efficiency\u4e0e\u5de5\u4f5c\u91cf\u590d\u6742\u5ea6work-efficiency",children:"1.1 \u65f6\u95f4\u590d\u6742\u5ea6(time-efficiency)\u4e0e\u5de5\u4f5c\u91cf\u590d\u6742\u5ea6(work-efficiency)"}),"\n",(0,a.jsx)(e.p,{children:"\u5bf9\u4e8e\u5e76\u884c\u7b97\u6cd5, \u590d\u6742\u5ea6\u7684\u8bc4\u4f30\u5219\u8981\u5206\u4e3a\u4e24\u79cd:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"\u65f6\u95f4\u590d\u6742\u5ea6: \u7a0b\u5e8f\u6240\u7528\u7684\u603b\u65f6\u95f4(\u91cd\u70b9)"}),"\n",(0,a.jsx)(e.li,{children:"\u5de5\u4f5c\u590d\u6742\u5ea6: \u7a0b\u5e8f\u6240\u7528\u7684\u8ba1\u7b97\u91cf(\u6b21\u8981)"}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"\u8fd9\u4e24\u4e2a\u6307\u6807\u90fd\u662f\u8d8a\u4f4e\u8d8a\u597d\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u51b3\u5b9a\u4e86\u5feb\u6162, \u5de5\u4f5c\u590d\u6742\u5ea6\u51b3\u5b9a\u4e86\u8017\u7535\u91cf\u3002"}),"\n",(0,a.jsxs)(e.p,{children:["\u901a\u5e38\u6765\u8bf4, ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mtext,{children:"\u5de5\u4f5c\u590d\u6742\u5ea6"}),(0,a.jsx)(e.mo,{children:"="}),(0,a.jsx)(e.mtext,{children:"\u65f6\u95f4\u590d\u6742\u5ea6"}),(0,a.jsx)(e.mo,{children:"\xd7"}),(0,a.jsx)(e.mtext,{children:"\u6838\u5fc3\u6570\u91cf"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"\u5de5\u4f5c\u590d\u6742\u5ea6 = \u65f6\u95f4\u590d\u6742\u5ea6 \\times \u6838\u5fc3\u6570\u91cf"})]})})}),(0,a.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,a.jsx)(e.span,{className:"mord cjk_fallback",children:"\u5de5\u4f5c\u590d\u6742\u5ea6"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:"="}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}}),(0,a.jsx)(e.span,{className:"mord cjk_fallback",children:"\u65f6\u95f4\u590d\u6742\u5ea6"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\xd7"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,a.jsx)(e.span,{className:"mord cjk_fallback",children:"\u6838\u5fc3\u6570\u91cf"})]})]})]})]}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsx)(e.p,{children:"1\u4e2a\u6838\u5fc3\u5de5\u4f5c\u4e00\u5c0f\u65f6, 4\u4e2a\u6838\u5fc3\u5de5\u4f5c\u4e00\u5c0f\u65f6\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e00\u6837, \u800c\u540e\u8005\u5de5\u4f5c\u590d\u6742\u5ea6\u66f4\u9ad8\u3002"}),"\n",(0,a.jsx)(e.p,{children:"1\u4e2a\u6838\u5fc3\u5de5\u4f5c\u4e00\u5c0f\u65f6, 4\u4e2a\u6838\u5fc3\u5de5\u4f5c1/4\u5c0f\u65f6\u3002\u5de5\u4f5c\u590d\u6742\u5ea6\u4e00\u6837, \u800c\u540e\u8005\u65f6\u95f4\u590d\u6742\u5ea6\u66f4\u4f4e\u3002"}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["\u5e76\u884c\u7684\u4e3b\u8981\u76ee\u7684\u662f ",(0,a.jsx)(e.strong,{children:"\u964d\u4f4e\u65f6\u95f4\u590d\u6742\u5ea6"}),", \u5de5\u4f5c\u590d\u6742\u5ea6\u901a\u5e38\u662f\u4e0d\u53d8\u7684\u3002\u751a\u81f3\u6709\u727a\u7272\u5de5\u4f5c\u590d\u6742\u5ea6\u6362\u53d6\u65f6\u95f4\u590d\u6742\u5ea6\u7684\u60c5\u5f62\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["\u5e76\u884c\u7b97\u6cd5\u7684\u590d\u6742\u5ea6\u53d6\u51b3\u4e8e\u6570\u636e\u91cf ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsx)(e.mrow,{children:(0,a.jsx)(e.mi,{children:"n"})}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"})]})})]}),", \u8fd8\u53d6\u51b3\u4e8e\u7ebf\u7a0b\u6570\u91cf ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsx)(e.mrow,{children:(0,a.jsx)(e.mi,{children:"c"})}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"c"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"c"})]})})]}),", \u6bd4\u5982 ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsxs)(e.mfrac,{children:[(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mi,{children:"c"})]}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(\\frac{n}{c})"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1.095em",verticalAlign:"-0.345em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsxs)(e.span,{className:"mord",children:[(0,a.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,a.jsx)(e.span,{className:"mfrac",children:(0,a.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(e.span,{className:"vlist-r",children:[(0,a.jsxs)(e.span,{className:"vlist",style:{height:"0.6954em"},children:[(0,a.jsxs)(e.span,{style:{top:"-2.655em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(e.span,{className:"mord mtight",children:(0,a.jsx)(e.span,{className:"mord mathnormal mtight",children:"c"})})})]}),(0,a.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,a.jsxs)(e.span,{style:{top:"-3.394em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(e.span,{className:"mord mtight",children:(0,a.jsx)(e.span,{className:"mord mathnormal mtight",children:"n"})})})]})]}),(0,a.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(e.span,{className:"vlist-r",children:(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.345em"},children:(0,a.jsx)(e.span,{})})})]})}),(0,a.jsx)(e.span,{className:"mclose nulldelimiter"})]}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]}),"\u3002\u4e0d\u8fc7\u8981\u6ce8\u610f\u5982\u679c\u7ebf\u7a0b\u6570\u91cf\u8d85\u8fc7\u4e86 CPU \u6838\u5fc3\u6570\u91cf, \u901a\u5e38\u5c31\u65e0\u6cd5\u518d\u52a0\u901f\u4e86, \u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u8981\u4e70\u66f4\u591a\u6838\u7684\u7535\u8111\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["\u4e5f\u6709\u4e00\u79cd\u8bf4\u6cd5, \u8ba4\u4e3a\u8981\u7528 ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsx)(e.mrow,{children:(0,a.jsx)(e.mi,{children:"c"})}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"c"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"c"})]})})]})," \u8d8b\u5411\u4e8e\u65e0\u7a77\u65f6\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u6765\u8861\u91cf, \u6bd4\u5982 ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsxs)(e.mfrac,{children:[(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mi,{children:"c"})]}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(\\frac{n}{c})"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1.095em",verticalAlign:"-0.345em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsxs)(e.span,{className:"mord",children:[(0,a.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,a.jsx)(e.span,{className:"mfrac",children:(0,a.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(e.span,{className:"vlist-r",children:[(0,a.jsxs)(e.span,{className:"vlist",style:{height:"0.6954em"},children:[(0,a.jsxs)(e.span,{style:{top:"-2.655em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(e.span,{className:"mord mtight",children:(0,a.jsx)(e.span,{className:"mord mathnormal mtight",children:"c"})})})]}),(0,a.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,a.jsxs)(e.span,{style:{top:"-3.394em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(e.span,{className:"mord mtight",children:(0,a.jsx)(e.span,{className:"mord mathnormal mtight",children:"n"})})})]})]}),(0,a.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(e.span,{className:"vlist-r",children:(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.345em"},children:(0,a.jsx)(e.span,{})})})]})}),(0,a.jsx)(e.span,{className:"mclose nulldelimiter"})]}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]})," \u5e94\u8be5\u53d8\u6210 ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mn,{children:"1"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(1)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord",children:"1"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]}),"\u3002"]}),"\n",(0,a.jsx)(e.h3,{id:"12-\u6620\u5c04-map",children:"1.2 \u6620\u5c04 (map)"}),"\n",(0,a.jsx)(e.h4,{id:"121-\u6734\u7d20\u7248\u672c",children:"1.2.1 \u6734\u7d20\u7248\u672c"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"#include <vector>\n#include <cmath>\n\nint main() {\n    int n = 1 << 26;\n    std::vector<float> arr(n);\n    for (size_t i = 0; i < arr.size(); ++i) {\n        arr[i] = std::sin(i);\n    }\n    return 0;\n}\n"})}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-03_10-45-13.png ##w400##",src:s(59686).A+"",width:"761",height:"752"})})})})]}),"\n",(0,a.jsx)(e.p,{children:"1\u4e2a\u7ebf\u7a0b, \u72ec\u81ea\u5904\u74068\u4e2a\u5143\u7d20\u7684\u6620\u5c04, \u82b1\u4e868\u79d2"}),"\n",(0,a.jsx)(e.p,{children:"\u7528\u7535\u91cf: 1 * 8 = 8\u5ea6\u7535"}),"\n",(0,a.jsxs)(e.p,{children:["\u7ed3\u8bba: \u4e32\u884c\u6620\u5c04\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(n)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]}),", \u5de5\u4f5c\u590d\u6742\u5ea6\u4e3a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(n)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]}),", \u5176\u4e2d ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsx)(e.mrow,{children:(0,a.jsx)(e.mi,{children:"n"})}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"})]})})]})," \u662f\u5143\u7d20\u4e2a\u6570."]}),"\n",(0,a.jsx)(e.h4,{id:"122-\u5e76\u884c\u6620\u5c04",children:"1.2.2 \u5e76\u884c\u6620\u5c04"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"#include <vector>\n#include <cmath>\n#include <tbb/task_group.h>\n\nint main() {\n    size_t n = 1 << 26;\n    std::vector<float> arr(n);\n    tbb::task_group tg;\n    size_t maxt = 32; // \u5206\u5757\u4e2a\u6570\n    for (size_t t = 0; t < maxt; ++t) {\n        size_t begin = t * n / maxt, end = std::min(n, (t + 1) * n / maxt);\n        tg.run([&, begin, end] {\n            for (size_t i = begin; i < end; ++i) {\n                arr[i] = std::sin(i);\n            }\n        });\n    }\n    tg.wait();\n    return 0;\n}\n"})}),"\n",(0,a.jsx)(e.h4,{id:"123-\u5c01\u88c5\u597d\u7684-parallel_for",children:"1.2.3 \u5c01\u88c5\u597d\u7684: parallel_for"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"template<typename Range, typename Body>\n    __TBB_requires(tbb_range<Range> && parallel_for_body<Body, Range>)\nvoid parallel_for(const Range& range, const Body& body);\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"#include <vector>\n#include <cmath>\n#include <tbb/parallel_for.h>\n\nint main() {\n    size_t n = 1 << 26;\n    std::vector<float> arr(n);\n    tbb::parallel_for(tbb::blocked_range<size_t>{0, n},\n    [&](tbb::blocked_range<size_t> r) {\n        for (size_t i = r.begin(); i < r.end(); ++i) {\n            arr[i] = std::sin(i);\n        }\n    });\n    return 0;\n}\n"})}),"\n",(0,a.jsx)(e.h4,{id:"124-\u9762\u5411\u521d\u5b66\u8005\u7684-parallel_for",children:"1.2.4 \u9762\u5411\u521d\u5b66\u8005\u7684: parallel_for"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"template <typename Index, typename Function>\n    __TBB_requires(parallel_for_index<Index> && parallel_for_function<Function, Index>)\nvoid parallel_for(Index first, Index last, const Function& f);\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u53ef\u4ee5\u76f4\u63a5\u6307\u5b9a\u8303\u56f4, \u4f46\u662f\u56e0\u4e3a",(0,a.jsx)(e.code,{children:"Function"}),"\u662f\u72ec\u7acb\u8c03\u7528\u7684, \u56e0\u6b64\u4f1a\u7f3a\u5c11\u7f16\u8bd1\u5668\u7684\u4f18\u5316(\u4e0a\u4f8b\u53ef\u4ee5\u88ab\u7f16\u8bd1\u5668\u77e2\u91cf\u5316, \u800c\u672c\u4f8b\u4e0d\u80fd)."]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"tbb::parallel_for((size_t)0, (size_t)n, [&](size_t i) {\n    arr[i] = std::sin(i);\n});\n"})}),"\n",(0,a.jsx)(e.h4,{id:"125-\u57fa\u4e8e\u8fed\u4ee3\u5668\u7684-parallel_for_each",children:"1.2.5 \u57fa\u4e8e\u8fed\u4ee3\u5668\u7684: parallel_for_each"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"template<typename Iterator, typename Body>\n    __TBB_requires(std::input_iterator<Iterator> && parallel_for_each_iterator_body<Body, Iterator>)\nvoid parallel_for_each(Iterator first, Iterator last, const Body& body);\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"#include <tbb/parallel_for_each.h>\n\ntbb::parallel_for_each(arr.begin(), arr.end(), [&](float& v) {\n    v = 32.f;\n});\n"})}),"\n",(0,a.jsx)(e.h4,{id:"126-\u4e8c\u7ef4\u533a\u95f4\u4e0a\u7684-for-\u5faa\u73af-blocked_range2d",children:"1.2.6 \u4e8c\u7ef4\u533a\u95f4\u4e0a\u7684 for \u5faa\u73af: blocked_range2d"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"template<typename RowValue, typename ColValue = RowValue>\n    __TBB_requires(blocked_range_value<RowValue> &&\n                   blocked_range_value<ColValue>)\nclass blocked_range2d;\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"#include <vector>\n#include <cmath>\n#include <tbb/parallel_for.h>\n#include <tbb/blocked_range2d.h>\n\nint main() {\n    size_t n = 1 << 13;\n    std::vector<float> arr(n * n);\n    tbb::parallel_for(tbb::blocked_range2d<size_t>(0, n, 0, n),\n    [&](tbb::blocked_range2d<size_t> r) {\n        for (size_t i = r.cols().begin(); i < r.cols().end(); ++i) {\n            for (size_t j = r.rows().begin(); j < r.rows().end(); ++j) {\n                arr[i * n + j] = std::sin(i) * std::sin(j);\n            }\n        }\n    });\n    return 0;\n}\n"})}),"\n",(0,a.jsx)(e.h4,{id:"127-\u4e09\u7ef4\u533a\u95f4\u4e0a\u7684-for-\u5faa\u73af-blocked_range3d",children:"1.2.7 \u4e09\u7ef4\u533a\u95f4\u4e0a\u7684 for \u5faa\u73af: blocked_range3d"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"template<typename PageValue, typename RowValue = PageValue, typename ColValue = RowValue>\n    __TBB_requires(blocked_range_value<PageValue> &&\n                   blocked_range_value<RowValue> &&\n                   blocked_range_value<ColValue>)\nclass blocked_range3d;\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <tbb/blocked_range3d.h>\n\nn = 1000;\narr.resize(n * n * n);\nHX::STL::utils::TickTock<> _{"map_blocked_range3d"};\ntbb::parallel_for(tbb::blocked_range3d<size_t>(0, n, 0, n, 0, n),\n[&](tbb::blocked_range3d<size_t> r) {\n    for (size_t i = r.pages().begin(); i < r.pages().end(); ++i) {\n        for (size_t j = r.cols().begin(); j < r.cols().end(); ++j) {\n            for (size_t k = r.rows().begin(); k < r.rows().end(); ++k) {\n                arr[(i * n + j) * n + k] = std::sin(i) * std::sin(j) * std::sin(k);\n            }\n        }\n    }\n});\n'})}),"\n",(0,a.jsx)(e.h4,{id:"128-\u6240\u6709\u533a\u95f4\u7c7b\u578b",children:"1.2.8 \u6240\u6709\u533a\u95f4\u7c7b\u578b"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-03_11-54-40.png ##w600##",src:s(34497).A+"",width:"1061",height:"758"})})})})]}),"\n",(0,a.jsx)(e.h2,{id:"\u7b2c2\u7ae0-\u7f29\u5e76\u4e0e\u626b\u63cf",children:"\u7b2c2\u7ae0: \u7f29\u5e76\u4e0e\u626b\u63cf"}),"\n",(0,a.jsx)(e.h3,{id:"21-\u7f29\u5e76-reduce",children:"2.1 \u7f29\u5e76 (reduce)"}),"\n",(0,a.jsx)(e.h4,{id:"211-\u6734\u7d20\u7248\u672c",children:"2.1.1 \u6734\u7d20\u7248\u672c"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <cmath>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 26;\n    float res = 0;\n    for (size_t i = 0; i < n; ++i) {\n        res += std::sin(i);\n    }\n    HX::print::println("res: ", res);\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"1\u4e2a\u7ebf\u7a0b, \u4f9d\u6b21\u5904\u74068\u4e2a\u5143\u7d20\u7684\u7f29\u5e76, \u82b1\u4e867\u79d2"}),"\n",(0,a.jsx)(e.p,{children:"\u7528\u7535\u91cf: 1 * 7 = 7\u5ea6\u7535"}),"\n",(0,a.jsx)(e.p,{children:"\u603b\u7528\u65f6: 1 * 7 = 7\u79d2"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-03_14-46-57.png ##w500##",src:s(43591).A+"",width:"894",height:"653"})})})})]}),"\n",(0,a.jsxs)(e.p,{children:["\u7ed3\u8bba: \u4e32\u884c\u7f29\u5e76\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(n)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]}),", \u5de5\u4f5c\u590d\u6742\u5ea6\u4e3a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(n)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]}),", \u5176\u4e2d ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsx)(e.mrow,{children:(0,a.jsx)(e.mi,{children:"n"})}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"})]})})]})," \u662f\u5143\u7d20\u4e2a\u6570"]}),"\n",(0,a.jsx)(e.h4,{id:"212-\u5e76\u884c\u7f29\u5e76",children:"2.1.2 \u5e76\u884c\u7f29\u5e76"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <cmath>\n#include <vector>\n#include <tbb/task_group.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 26;\n    float res = 0;\n    tbb::task_group tg;\n    size_t maxt = 16;\n    std::vector<float> arr(maxt);\n    for (size_t t = 0; t < maxt; ++t) {\n        size_t begin = t * n / maxt, end = std::min(n, (t + 1) * n / maxt);\n        tg.run([&, begin, end, t] {\n            float ans = 0;\n            for (size_t i = begin; i < end; ++i) {\n                ans += std::sin(i);\n            }\n            arr[t] = ans;\n        });\n    }\n    tg.wait();\n    for (auto v : arr)\n        res += v;\n    HX::print::println("res: ", res);\n    return 0;\n}\n'})}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-03_14-47-31.png ##w500##",src:s(96596).A+"",width:"892",height:"672"})})})})]}),"\n",(0,a.jsx)(e.p,{children:"\u7b2c\u4e00\u6b65\u30014\u4e2a\u7ebf\u7a0b, \u6bcf\u4eba\u5904\u74062\u4e2a\u5143\u7d20\u7684\u7f29\u5e76, \u82b1\u4e861\u79d2"}),"\n",(0,a.jsx)(e.p,{children:"\u7b2c\u4e8c\u6b65\u30011\u4e2a\u7ebf\u7a0b, \u72ec\u81ea\u5904\u74064\u4e2a\u5143\u7d20\u7684\u7f29\u5e76, \u82b1\u4e863\u79d2"}),"\n",(0,a.jsx)(e.p,{children:"\u7528\u7535\u91cf: 4 * 1 + 1 * 3 = 7\u5ea6\u7535"}),"\n",(0,a.jsx)(e.p,{children:"\u603b\u7528\u65f6: 1 + 3 = 4\u79d2"}),"\n",(0,a.jsxs)(e.p,{children:["\u7ed3\u8bba: \u5e76\u884c\u7f29\u5e76\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsxs)(e.mfrac,{children:[(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mi,{children:"c"})]}),(0,a.jsx)(e.mo,{children:"+"}),(0,a.jsx)(e.mi,{children:"c"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(\\frac{n}{c}+c)"})]})})}),(0,a.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1.095em",verticalAlign:"-0.345em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsxs)(e.span,{className:"mord",children:[(0,a.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,a.jsx)(e.span,{className:"mfrac",children:(0,a.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(e.span,{className:"vlist-r",children:[(0,a.jsxs)(e.span,{className:"vlist",style:{height:"0.6954em"},children:[(0,a.jsxs)(e.span,{style:{top:"-2.655em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(e.span,{className:"mord mtight",children:(0,a.jsx)(e.span,{className:"mord mathnormal mtight",children:"c"})})})]}),(0,a.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,a.jsxs)(e.span,{style:{top:"-3.394em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(e.span,{className:"mord mtight",children:(0,a.jsx)(e.span,{className:"mord mathnormal mtight",children:"n"})})})]})]}),(0,a.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(e.span,{className:"vlist-r",children:(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.345em"},children:(0,a.jsx)(e.span,{})})})]})}),(0,a.jsx)(e.span,{className:"mclose nulldelimiter"})]}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"+"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"c"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})]})]}),", \u5de5\u4f5c\u590d\u6742\u5ea6\u4e3a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(n)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]}),", \u5176\u4e2d ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsx)(e.mrow,{children:(0,a.jsx)(e.mi,{children:"n"})}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"})]})})]})," \u662f\u5143\u7d20\u4e2a\u6570"]}),"\n",(0,a.jsx)(e.h4,{id:"213-\u6539\u8fdb\u7684\u5e76\u884c\u7f29\u5e76-gpu",children:"2.1.3 \u6539\u8fdb\u7684\u5e76\u884c\u7f29\u5e76 (GPU)"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-03_14-49-51.png ##w500##",src:s(5264).A+"",width:"917",height:"676"})})})})]}),"\n",(0,a.jsx)(e.p,{children:"\u521a\u624d\u90a3\u79cd\u65b9\u5f0f\u5bf9 c \u6bd4\u8f83\u5927\u7684\u60c5\u51b5\u4e0d\u53cb\u597d, \u6700\u540e\u4e00\u4e2a\u4e32\u884c\u7684 for \u8fd8\u662f\u4f1a\u6d88\u8017\u5f88\u591a\u65f6\u95f4\u3002"}),"\n",(0,a.jsxs)(e.p,{children:["\u56e0\u6b64\u53ef\u4ee5\u7528\u9012\u5f52\u7684\u6a21\u5f0f, \u6bcf\u6b21\u53ea\u4f7f\u6570\u636e\u7f29\u5c0f\u4e00\u534a, \u8fd9\u6837\u57fa\u672c\u6bcf\u6b21\u90fd\u53ef\u4ee5\u770b\u505a\u5e76\u884c\u7684 for, \u53ea\u9700 ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsxs)(e.msub,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"log"}),(0,a.jsx)(e.mo,{children:"\u2061"})]}),(0,a.jsx)(e.mn,{children:"2"})]}),(0,a.jsx)(e.mi,{children:"n"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\log_2n"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.9386em",verticalAlign:"-0.2441em"}}),(0,a.jsxs)(e.span,{className:"mop",children:[(0,a.jsxs)(e.span,{className:"mop",children:["lo",(0,a.jsx)(e.span,{style:{marginRight:"0.01389em"},children:"g"})]}),(0,a.jsx)(e.span,{className:"msupsub",children:(0,a.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(e.span,{className:"vlist-r",children:[(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.207em"},children:(0,a.jsxs)(e.span,{style:{top:"-2.4559em",marginRight:"0.05em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(e.span,{className:"mord mtight",children:"2"})})]})}),(0,a.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(e.span,{className:"vlist-r",children:(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.2441em"},children:(0,a.jsx)(e.span,{})})})]})})]}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"})]})})]})," \u6b21\u5e76\u884c for \u5373\u53ef\u5b8c\u6210\u7f29\u5e76\u3002"]}),"\n",(0,a.jsx)(e.p,{children:"\u8fd9\u79cd\u5e38\u7528\u4e8e\u6838\u5fc3\u6570\u91cf\u5f88\u591a, \u6bd4\u5982 GPU \u4e0a\u7684\u7f29\u5e76\u3002"}),"\n",(0,a.jsxs)(e.p,{children:["\u7ed3\u8bba: \u6539\u8fdb\u540e\u7684\u5e76\u884c\u7f29\u5e76\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"log"}),(0,a.jsx)(e.mo,{children:"\u2061"}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(\\log{n})"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsxs)(e.span,{className:"mop",children:["lo",(0,a.jsx)(e.span,{style:{marginRight:"0.01389em"},children:"g"})]}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(e.span,{className:"mord",children:(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"})}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]}),", \u5de5\u4f5c\u590d\u6742\u5ea6\u4e3a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(n)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]})]}),"\n",(0,a.jsx)(e.h4,{id:"214-\u5c01\u88c5\u597d\u7684-parallel_reduce",children:"2.1.4 \u5c01\u88c5\u597d\u7684: parallel_reduce"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"template<typename Range, typename Value, typename RealBody, typename Reduction>\n    __TBB_requires(tbb_range<Range> && parallel_reduce_function<RealBody, Range, Value> &&\n                   parallel_reduce_combine<Reduction, Value>)\nValue parallel_reduce(\n    const Range& range,        // \u8303\u56f4\n    const Value& identity,     // \u7f29\u5e76\u521d\u59cb\u503c (\u540c\u65f6\u4ee3\u8868\u7f29\u5e76\u8ba1\u7b97\u4e2d\u7684\u7d2f\u79ef\u503c\u7c7b\u578b)\n    const RealBody& real_body, // \u8303\u56f4\u5185\u7f29\u5e76\u7684\u64cd\u4f5c\u51fd\u6570, \u51fd\u6570\u7b7e\u540d\u89c1\u4e0b\n    const Reduction& reduction // \u5408\u5e76\u4e24\u4e2a\u7f29\u5e76\u7ed3\u679c\n);\n\n// RealBody \u7684\u51fd\u6570\u7b7e\u540d\nValue operator()(\n    const Range& range, // \u5f53\u524d\u9700\u8981\u5904\u7406\u7684\u8303\u56f4\n    Value sum           // \u8ba1\u7b97\u7684\u7d2f\u79ef\u503c (\u521d\u59cb\u5316\u4e3a identity)\n);                      // \u76f8\u5f53\u4e8e\u5728\u8303\u56f4\u5185\u5bf9\u5143\u7d20\u8fdb\u884c\u5904\u7406\u5e76\u7d2f\u52a0\u7ed3\u679c\n\n// Reduction \u7684\u51fd\u6570\u7b7e\u540d\nValue operator()(\n    const Value& left,  // \u5de6\u4fa7\u7684\u7d2f\u79ef\u503c (\u524d\u4e00\u4e2a\u5206\u5757\u7684\u7ed3\u679c)\n    const Value& right  // \u5f53\u524d\u5206\u5757\u7684\u90e8\u5206\u548c\n);                      // \u8be5\u51fd\u6570\u5e94\u8be5\u5408\u5e76 right \u5230 left, \u5f62\u6210\u5b8c\u6574\u7684\u7f29\u5e76\u7ed3\u679c\n\n// \u503c\u5f97\u6ce8\u610f\u7684\u662f, \u51fd\u6570\u7b7e\u540d\u53ef\u4ee5\u4e0d\u5e26\u8fd4\u56de\u503c, \u6b64\u65f6\u53c2\u6570\u7684 Value \u9700\u5e26\u5f15\u7528, \u76f4\u63a5\u4fee\u6539\u5de6\u4fa7\u7d2f\u79ef\u503c.\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <cmath>\n#include <tbb/blocked_range.h>\n#include <tbb/parallel_reduce.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 26;\n    float res;\n    res = tbb::parallel_reduce(tbb::blocked_range<size_t>(0, n), (float)0,\n    [&](tbb::blocked_range<size_t> r, float v) {\n        for (size_t i = r.begin(); i < r.end(); ++i) {\n            v += std::sin(i);\n        }\n        return v;\n    }, [](float a, float b) {\n        return a + b;\n    });\n    HX::print::println("res: ", res);\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.h4,{id:"215-\u4fdd\u8bc1\u6bcf\u6b21\u8fd0\u884c\u7ed3\u679c\u4e00\u81f4-parallel_deterministic_reduce",children:"2.1.5 \u4fdd\u8bc1\u6bcf\u6b21\u8fd0\u884c\u7ed3\u679c\u4e00\u81f4: parallel_deterministic_reduce"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"res = tbb::parallel_deterministic_reduce(tbb::blocked_range<size_t>(0, n), (float)0,\n[&](tbb::blocked_range<size_t> r, float v) {\n    for (size_t i = r.begin(); i < r.end(); ++i) {\n        v += std::sin(i);\n    }\n    return v;\n}, [](float a, float b) {\n    return a + b;\n});\n"})}),"\n",(0,a.jsx)(e.h4,{id:"216-\u5e76\u884c\u7f29\u5e76\u7684\u989d\u5916\u597d\u5904-\u80fd\u907f\u514d\u6d6e\u70b9\u8bef\u5dee",children:"2.1.6 \u5e76\u884c\u7f29\u5e76\u7684\u989d\u5916\u597d\u5904: \u80fd\u907f\u514d\u6d6e\u70b9\u8bef\u5dee"}),"\n",(0,a.jsx)(e.p,{children:"\u4f8b\u5982\u6c42\u5e73\u5747\u503c:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <cmath>\n#include <vector>\n#include <tbb/blocked_range.h>\n#include <tbb/parallel_reduce.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    // init\n    size_t n = 1 << 26;\n    std::vector<float> arr(n);\n    for (size_t i = 0; i < n; ++i) {\n        arr[i] = 10.f + std::sin(i);\n    }\n\n    float sum = 0;\n    {\n        HX::STL::utils::TickTock<> _{"\u6734\u7d20\u6c42\u5e73\u5747\u503c(\u6d6e\u70b9\u6709\u8bef\u5dee)"};\n        for (size_t i = 0; i < n; ++i) {\n            sum += arr[i];\n        }\n    }\n    HX::print::println("\u6734\u7d20\u6c42\u5e73\u5747\u503c(\u6d6e\u70b9\u6709\u8bef\u5dee): ", sum / n);\n\n    {\n        HX::STL::utils::TickTock<> _{"\u5e76\u884c\u7f29\u5e76\u6c42\u5e73\u5747\u503c(\u6d6e\u70b9\u51e0\u4e4e\u65e0\u8bef\u5dee)"};\n        sum = tbb::parallel_reduce(tbb::blocked_range<size_t>(0, n), (float)0,\n        [&](tbb::blocked_range<size_t> r, float v) {\n            for (size_t i = r.begin(); i < r.end(); ++i)\n                v += arr[i];\n            return v;\n        }, [](float a, float b) {\n            return a + b;\n        });\n    }\n    HX::print::println("\u5e76\u884c\u7f29\u5e76\u6c42\u5e73\u5747\u503c(\u6d6e\u70b9\u51e0\u4e4e\u65e0\u8bef\u5dee): ", sum / n);\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u8f93\u51fa:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"4\n10\n"})}),"\n",(0,a.jsxs)(e.div,{className:"markdown-alert markdown-alert-tip",children:["\n",(0,a.jsxs)(e.p,{className:"markdown-alert-title",children:[(0,a.jsx)(e.span,{className:"octicon octicon-tip",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-light-bulb mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Tip"]}),"\n",(0,a.jsx)(e.p,{children:"\u6d6e\u70b9\u5927\u52a0\u5c0f, \u4f1a\u51fa\u73b0\u7cbe\u5ea6\u635f\u5931!"}),"\n"]}),"\n",(0,a.jsx)(e.h3,{id:"22-\u626b\u63cf-scan",children:"2.2 \u626b\u63cf (scan)"}),"\n",(0,a.jsx)(e.h4,{id:"221-\u6734\u7d20\u7248\u672c",children:"2.2.1 \u6734\u7d20\u7248\u672c"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <cmath>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 26;\n    std::vector<float> arr(n);\n    float res = 0;\n    {\n        HX::STL::utils::TickTock<> _{"scan_std"};\n        for (size_t i = 0; i < n; ++i) {\n            res += std::sin(i);\n            arr[i] = res;\n        }\n    }\n    HX::print::println("arr[n/2]: ", arr[n/2]);\n    HX::print::println("res: ", res);\n    return 0;\n}\n'})}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-03_15-27-22.png ##w500##",src:s(5003).A+"",width:"889",height:"606"})})})})]}),"\n",(0,a.jsxs)(e.p,{children:["\u5982\u56fe\u6240\u793a, \u626b\u63cf\u548c\u7f29\u5e76\u5dee\u4e0d\u591a, \u53ea\u4e0d\u8fc7\u4ed6\u4f1a\u628a\u6c42\u548c\u7684 ",(0,a.jsx)(e.strong,{children:"\u4e2d\u95f4\u7ed3\u679c\u5b58\u5230\u6570\u7ec4"})," \u91cc\u53bb"]}),"\n",(0,a.jsx)(e.p,{children:"1\u4e2a\u7ebf\u7a0b, \u4f9d\u6b21\u5904\u74068\u4e2a\u5143\u7d20\u7684\u626b\u63cf, \u82b1\u4e867\u79d2"}),"\n",(0,a.jsx)(e.p,{children:"\u7528\u7535\u91cf: 1 * 7 = 7\u5ea6\u7535"}),"\n",(0,a.jsx)(e.p,{children:"\u603b\u7528\u65f6: 1 * 7 = 7\u79d2"}),"\n",(0,a.jsxs)(e.p,{children:["\u7ed3\u8bba: \u4e32\u884c\u626b\u63cf\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(n)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]}),", \u5de5\u4f5c\u590d\u6742\u5ea6\u4e3a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(n)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]}),"."]}),"\n",(0,a.jsx)(e.h4,{id:"222-\u5e76\u884c\u626b\u63cf",children:"2.2.2 \u5e76\u884c\u626b\u63cf"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <cmath>\n#include <iostream>\n#include <vector>\n#include <tbb/task_group.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 26;\n    std::vector<float> arr(n);\n    float res = 0;\n\n    size_t maxt = 4;\n    {\n        HX::STL::utils::TickTock<> _{"scan_task_group"};\n        tbb::task_group tg1;\n        std::vector<float> tmp_res(maxt);\n        for (size_t t = 0; t < maxt; t++) {\n            size_t beg = t * n / maxt;\n            size_t end = std::min(n, (t + 1) * n / maxt);\n            tg1.run([&, t, beg, end] {\n                float local_res = 0;\n                for (size_t i = beg; i < end; i++) {\n                    local_res += std::sin(i);\n                }\n                tmp_res[t] = local_res;\n            });\n        }\n        tg1.wait();\n\n        for (size_t t = 0; t < maxt; t++) {\n            tmp_res[t] += res;\n            res = tmp_res[t];\n        }\n\n        tbb::task_group tg2;\n        for (size_t t = 1; t < maxt; t++) {\n            size_t beg = t * n / maxt - 1;\n            size_t end = std::min(n, (t + 1) * n / maxt) - 1;\n            tg2.run([&, t, beg, end] {\n                float local_res = tmp_res[t];\n                for (size_t i = beg; i < end; i++) {\n                    local_res += std::sin(i);\n                    arr[i] = local_res;\n                }\n            });\n        }\n        tg2.wait();\n    }\n\n    HX::print::println("arr[n/2]: ", arr[n/2]);\n    HX::print::println("res: ", res);\n    return 0;\n}\n'})}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-03_15-36-05.png ##w500##",src:s(88).A+"",width:"924",height:"621"})})})})]}),"\n",(0,a.jsx)(e.p,{children:"\u7b2c\u4e00\u6b65\u30014\u4e2a\u7ebf\u7a0b, \u6bcf\u4eba\u5904\u74062\u4e2a\u5143\u7d20\u7684\u7f29\u5e76, \u82b1\u4e861\u79d2"}),"\n",(0,a.jsx)(e.p,{children:"\u7b2c\u4e8c\u6b65\u30011\u4e2a\u7ebf\u7a0b, \u72ec\u81ea\u5904\u74063\u4e2a\u5143\u7d20\u7684\u7f29\u5e76, \u82b1\u4e863\u79d2"}),"\n",(0,a.jsx)(e.p,{children:"\u7b2c\u4e09\u6b65\u30013\u4e2a\u7ebf\u7a0b, \u6bcf\u4eba\u5904\u74062\u4e2a\u5143\u7d20\u7684\u7f29\u5e76, \u82b1\u4e861\u79d2"}),"\n",(0,a.jsx)(e.p,{children:"\u7528\u7535\u91cf: 4 * 1 + 1 * 3 + 3 * 1 = 10\u5ea6\u7535"}),"\n",(0,a.jsx)(e.p,{children:"\u603b\u7528\u65f6: 1 + 3 + 1 = 5\u79d2"}),"\n",(0,a.jsxs)(e.p,{children:["\u7ed3\u8bba: \u5e76\u884c\u626b\u63cf\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsxs)(e.mfrac,{children:[(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mi,{children:"c"})]}),(0,a.jsx)(e.mo,{children:"+"}),(0,a.jsx)(e.mi,{children:"c"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(\\frac{n}{c}+c)"})]})})}),(0,a.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1.095em",verticalAlign:"-0.345em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsxs)(e.span,{className:"mord",children:[(0,a.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,a.jsx)(e.span,{className:"mfrac",children:(0,a.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(e.span,{className:"vlist-r",children:[(0,a.jsxs)(e.span,{className:"vlist",style:{height:"0.6954em"},children:[(0,a.jsxs)(e.span,{style:{top:"-2.655em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(e.span,{className:"mord mtight",children:(0,a.jsx)(e.span,{className:"mord mathnormal mtight",children:"c"})})})]}),(0,a.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,a.jsxs)(e.span,{style:{top:"-3.394em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(e.span,{className:"mord mtight",children:(0,a.jsx)(e.span,{className:"mord mathnormal mtight",children:"n"})})})]})]}),(0,a.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(e.span,{className:"vlist-r",children:(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.345em"},children:(0,a.jsx)(e.span,{})})})]})}),(0,a.jsx)(e.span,{className:"mclose nulldelimiter"})]}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"+"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"c"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})]})]}),", \u5de5\u4f5c\u590d\u6742\u5ea6\u4e3a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mo,{children:"+"}),(0,a.jsx)(e.mi,{children:"c"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(n+c)"})]})})}),(0,a.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"+"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"c"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})]})]}),", \u5176\u4e2d ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsx)(e.mrow,{children:(0,a.jsx)(e.mi,{children:"n"})}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"})]})})]})," \u662f\u5143\u7d20\u4e2a\u6570."]}),"\n",(0,a.jsxs)(e.div,{className:"markdown-alert markdown-alert-note",children:["\n",(0,a.jsxs)(e.p,{className:"markdown-alert-title",children:[(0,a.jsx)(e.span,{className:"octicon octicon-note",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-info mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Note"]}),"\n",(0,a.jsx)(e.p,{children:"\u5e76\u884c\u4f18\u5316:"}),"\n",(0,a.jsxs)(e.p,{children:["\u5206\u5757\u8ba1\u7b97",(0,a.jsx)(e.code,{children:"tmp_res"})," ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mi,{mathvariant:"normal",children:"/"}),(0,a.jsx)(e.mi,{children:"m"}),(0,a.jsx)(e.mi,{children:"a"}),(0,a.jsx)(e.mi,{children:"x"}),(0,a.jsx)(e.mi,{children:"t"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(n/maxt)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mord",children:"/"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"ma"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]})]}),"\n",(0,a.jsxs)(e.p,{children:["\u5408\u5e76\u5757\u524d\u7f00\u548c ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"m"}),(0,a.jsx)(e.mi,{children:"a"}),(0,a.jsx)(e.mi,{children:"x"}),(0,a.jsx)(e.mi,{children:"t"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"}),(0,a.jsx)(e.mo,{children:"\u2248"}),(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mn,{children:"1"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(maxt) \u2248 O(1)"})]})})}),(0,a.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"ma"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(e.span,{className:"mclose",children:")"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:"\u2248"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord",children:"1"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})]})]})]}),"\n",(0,a.jsxs)(e.p,{children:["\u524d\u7f00\u548c\u8865\u5168(\u4ee5",(0,a.jsx)(e.code,{children:"tmp_res[i - 1]"}),"\u4f5c\u4e3a\u7b2c",(0,a.jsx)(e.code,{children:"i"}),"\u5757\u7684\u521d\u59cb\u503c, \u5206\u5757\u8ba1\u7b97\u524d\u7f00\u548c) ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mi,{mathvariant:"normal",children:"/"}),(0,a.jsx)(e.mi,{children:"m"}),(0,a.jsx)(e.mi,{children:"a"}),(0,a.jsx)(e.mi,{children:"x"}),(0,a.jsx)(e.mi,{children:"t"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(n/maxt))"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mord",children:"/"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"ma"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(e.span,{className:"mclose",children:"))"})]})})]})]}),"\n"]}),"\n",(0,a.jsx)(e.h4,{id:"223-\u6539\u8fdb\u7684\u5e76\u884c\u626b\u63cf-gpu",children:"2.2.3 \u6539\u8fdb\u7684\u5e76\u884c\u626b\u63cf (GPU)"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-03_20-07-35.png ##w700##",src:s(51149).A+"",width:"1807",height:"615"})})})})]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"\u7b2c\u4e00\u6b65\u30014\u4e2a\u7ebf\u7a0b, \u6bcf\u4e2a\u5904\u74062\u4e2a\u5143\u7d20\u7684\u626b\u63cf, \u82b1\u4e861\u79d2"}),"\n",(0,a.jsx)(e.li,{children:"\u7b2c\u4e8c\u6b65\u30014\u4e2a\u7ebf\u7a0b, \u6bcf\u4e2a\u5904\u74062\u4e2a\u5143\u7d20\u7684\u626b\u63cf, \u82b1\u4e861\u79d2"}),"\n",(0,a.jsx)(e.li,{children:"\u7b2c\u4e09\u6b65\u30014\u4e2a\u7ebf\u7a0b, \u6bcf\u4e2a\u5904\u74062\u4e2a\u5143\u7d20\u7684\u626b\u63cf, \u82b1\u4e861\u79d2"}),"\n",(0,a.jsx)(e.li,{children:"\u7528\u7535\u91cf: 3 * 4 = 12\u5ea6\u7535"}),"\n",(0,a.jsx)(e.li,{children:"\u603b\u7528\u65f6: 1 * 3 = 3\u79d2"}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["\u7ed3\u8bba: \u6539\u8fdb\u540e\u7684\u5e76\u884c\u626b\u63cf\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"log"}),(0,a.jsx)(e.mo,{children:"\u2061"}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(\\log n)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsxs)(e.span,{className:"mop",children:["lo",(0,a.jsx)(e.span,{style:{marginRight:"0.01389em"},children:"g"})]}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]}),", \u5de5\u4f5c\u590d\u6742\u5ea6\u4e3a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mi,{children:"log"}),(0,a.jsx)(e.mo,{children:"\u2061"}),(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(n \\log n)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsxs)(e.span,{className:"mop",children:["lo",(0,a.jsx)(e.span,{style:{marginRight:"0.01389em"},children:"g"})]}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]}),"\u3002"]}),"\n",(0,a.jsx)(e.p,{children:"\u53ef\u89c1, \u5e76\u884c\u540e\u867d\u7136\u964d\u4f4e\u4e86\u65f6\u95f4\u590d\u6742\u5ea6, \u4f46\u662f\u4ee5\u63d0\u5347\u5de5\u4f5c\u590d\u6742\u5ea6\u4e3a\u4ee3\u4ef7\uff01"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:"\u66f4\u591a\u7ec6\u8282, \u656c\u8bf7\u671f\u5f85GPU\u4e13\u9898, \u6211\u4eec\u4f1a\u4ee5CUDA\u4e3a\u4f8b\u8be6\u7ec6\u63a2\u8ba8\u4e24\u5168\u65b9\u6848\u3002"})}),"\n",(0,a.jsx)(e.h4,{id:"224-\u5c01\u88c5\u597d\u4e86-parallel_scan",children:"2.2.4 \u5c01\u88c5\u597d\u4e86: parallel_scan"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"template<typename Range, typename Value, typename Scan, typename ReverseJoin>\n    __TBB_requires(tbb_range<Range> && parallel_scan_function<Scan, Range, Value> &&\n                   parallel_scan_combine<ReverseJoin, Value>)\nValue parallel_scan(\n    const Range& range,             // \u8303\u56f4\n    const Value& identity,          // \u521d\u59cb\u503c(\u9ed8\u8ba4\u503c) (\u540c\u65f6\u4ee3\u8868\u626b\u63cf\u8ba1\u7b97\u4e2d\u7684\u7d2f\u79ef\u503c\u7c7b\u578b)\n    const Scan& scan,               // \u4e3b\u8981\u7684\u524d\u7f00\u626b\u63cf\u51fd\u6570, \u51fd\u6570\u7b7e\u540d\u89c1\u4e0b\n    const ReverseJoin& reverse_join // \u5408\u5e76\u4e24\u4e2a\u626b\u63cf\u7ed3\u679c\n);\n\n// Scan \u7684\u51fd\u6570\u7b7e\u540d\nvoid operator()(\n    const Range& range, // \u5f53\u524d\u9700\u8981\u5904\u7406\u7684\u8303\u56f4\n    Value& sum,         // \u8ba1\u7b97\u7684\u7d2f\u79ef\u503c\n    bool is_final       // \u5982\u679c true, \u5219\u771f\u6b63\u5199\u5165 sum; \u5982\u679c false, \u53ea\u662f\u8ba1\u7b97\u7d2f\u79ef\u503c, \u4e0d\u4fee\u6539\u539f\u6570\u636e\n);                      // \u76f8\u5f53\u4e8e\u4e0a\u8fb9\u7684 [\u5206\u5757\u8ba1\u7b97] \u548c [\u524d\u7f00\u548c\u8865\u5168]\n\n// ReverseJoin \u7684\u51fd\u6570\u7b7e\u540d\nvoid operator()(\n    Value& left,       // \u5de6\u4fa7\u7684\u7d2f\u79ef\u503c (\u524d\u4e00\u4e2a\u5206\u5757\u7684\u7ed3\u679c)\n    const Value& right // \u5f53\u524d\u5206\u5757\u7684\u90e8\u5206\u548c\n);                     // \u8be5\u51fd\u6570\u5e94\u8be5 \u7d2f\u52a0 right \u5230 left, \u4ee5\u4fbf\u5f62\u6210\u5b8c\u6574\u7684\u524d\u7f00\u548c\n\n// \u503c\u5f97\u6ce8\u610f\u7684\u662f, \u51fd\u6570\u7b7e\u540d\u53ef\u4ee5\u5e26\u8fd4\u56de\u503c\u4e3a Value, \u6b64\u65f6\u53c2\u6570\u7684 Value \u5c06\u4e0d\u5e26\u5f15\u7528.\n"})}),"\n",(0,a.jsx)(e.h2,{id:"\u7b2c3\u7ae0-\u6027\u80fd\u6d4b\u8bd5",children:"\u7b2c3\u7ae0: \u6027\u80fd\u6d4b\u8bd5"}),"\n",(0,a.jsx)(e.h3,{id:"31-\u5e76\u884c\u548c\u4e32\u884c\u7684\u901f\u5ea6\u6bd4\u8f83",children:"3.1 \u5e76\u884c\u548c\u4e32\u884c\u7684\u901f\u5ea6\u6bd4\u8f83"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-03_20-29-13.png ##w800##",src:s(16881).A+"",width:"1699",height:"968"})})})})]}),"\n",(0,a.jsx)(e.h3,{id:"32-\u5982\u4f55\u8bc4\u4ef7",children:"3.2 \u5982\u4f55\u8bc4\u4ef7"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-03_20-31-13.png ##w800##",src:s(21408).A+"",width:"1658",height:"993"})})})})]}),"\n",(0,a.jsx)(e.h2,{id:"\u7b2c4\u7ae0-\u4efb\u52a1\u57df\u4e0e\u5d4c\u5957",children:"\u7b2c4\u7ae0: \u4efb\u52a1\u57df\u4e0e\u5d4c\u5957"}),"\n",(0,a.jsx)(e.h3,{id:"41-\u4efb\u52a1\u57df",children:"4.1 \u4efb\u52a1\u57df"}),"\n",(0,a.jsx)(e.h4,{id:"411-\u4efb\u52a1\u57df-task_arena",children:"4.1.1 \u4efb\u52a1\u57df: task_arena"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"#include <vector>\n#include <cmath>\n#include <tbb/task_arena.h>\n#include <tbb/parallel_for.h>\n\nint main() {\n    size_t n = 1 << 13;\n    std::vector<float> arr(n);\n    tbb::task_arena ta;\n    ta.execute([&] {\n        tbb::parallel_for((size_t)0, (size_t)n, [&](size_t i) {\n            arr[i] = std::sin(i);\n        });\n    });\n    return 0;\n}\n"})}),"\n",(0,a.jsx)(e.h4,{id:"412-\u4efb\u52a1\u57df-\u6307\u5b9a\u4f7f\u75284\u4e2a\u7ebf\u7a0b",children:"4.1.2 \u4efb\u52a1\u57df: \u6307\u5b9a\u4f7f\u75284\u4e2a\u7ebf\u7a0b"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"#include <vector>\n#include <cmath>\n#include <tbb/task_arena.h>\n#include <tbb/parallel_for.h>\n\nint main() {\n    size_t n = 1 << 13;\n    std::vector<float> arr(n);\n    tbb::task_arena ta(4);\n    ta.execute([&] {\n        tbb::parallel_for((size_t)0, (size_t)n, [&](size_t i) {\n            arr[i] = std::sin(i);\n        });\n    });\n    return 0;\n}\n"})}),"\n",(0,a.jsx)(e.h3,{id:"42-\u5d4c\u5957",children:"4.2 \u5d4c\u5957"}),"\n",(0,a.jsx)(e.h4,{id:"421-\u5d4c\u5957-for-\u5faa\u73af",children:"4.2.1 \u5d4c\u5957 for \u5faa\u73af"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"#include <vector>\n#include <cmath>\n#include <tbb/parallel_for.h>\n\nint main() {\n    size_t n = 1 << 13;\n    std::vector<float> arr(n * n);\n    tbb::parallel_for((size_t)0, (size_t)n, [&](size_t i) {\n        tbb::parallel_for((size_t)0, (size_t)n, [&](size_t j) {\n            arr[i * n + j] = std::sin(i) * std::sin(j);\n        });\n    });\n    return 0;\n}\n"})}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsx)(e.p,{children:"\u5176\u6267\u884c\u7684\u672c\u8d28\u662f:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"\u5916\u5c42 i \u4efb\u52a1\u521b\u5efa\u5185\u5c42 j \u4efb\u52a1"}),"\n",(0,a.jsx)(e.li,{children:"\u5185\u5c42 j \u4efb\u52a1\u4f1a\u88ab\u4e0d\u540c\u7684\u7ebf\u7a0b\u6267\u884c"}),"\n",(0,a.jsx)(e.li,{children:"\u5916\u5c42\u4efb\u52a1\u4e0d\u4f1a\u7acb\u5373\u963b\u585e, \u800c\u662f\u7b49\u5f85\u5185\u5c42\u5168\u90e8\u5b8c\u6210"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.div,{className:"markdown-alert markdown-alert-tip",children:["\n",(0,a.jsxs)(e.p,{className:"markdown-alert-title",children:[(0,a.jsx)(e.span,{className:"octicon octicon-tip",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-light-bulb mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Tip"]}),"\n",(0,a.jsxs)(e.p,{children:["\u4f46\u662f, \u5927\u591a\u6570\u60c5\u51b5\u4e0b",(0,a.jsx)(e.code,{children:"blocked_range2d"}),"\u66f4\u597d."]}),"\n"]}),"\n",(0,a.jsx)(e.h4,{id:"422-\u5d4c\u5957-for-\u5faa\u73af-\u6b7b\u9501\u95ee\u9898",children:"4.2.2 \u5d4c\u5957 for \u5faa\u73af: \u6b7b\u9501\u95ee\u9898"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"#include <vector>\n#include <cmath>\n#include <mutex>\n#include <tbb/parallel_for.h>\n\nint main() {\n    size_t n = 1 << 13;\n    std::vector<float> arr(n * n);\n    std::mutex mtx;\n    tbb::parallel_for((size_t)0, (size_t)n, [&](size_t i) {\n        std::lock_guard _{mtx};\n        tbb::parallel_for((size_t)0, (size_t)n, [&](size_t j) {\n            arr[i * n + j] = std::sin(i) * std::sin(j);\n        });\n    });\n    return 0;\n}\n"})}),"\n",(0,a.jsx)(e.h5,{id:"4221-\u6b7b\u9501\u95ee\u9898\u7684\u539f\u56e0",children:"4.2.2.1 \u6b7b\u9501\u95ee\u9898\u7684\u539f\u56e0"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["\u56e0\u4e3a TBB \u7528\u4e86 ",(0,a.jsx)(e.strong,{children:"\u5de5\u4f5c\u7a83\u53d6\u6cd5"})," \u6765\u5206\u914d\u4efb\u52a1: \u5f53\u4e00\u4e2a\u7ebf\u7a0b t1 \u505a\u5b8c\u81ea\u5df1\u961f\u5217\u91cc\u5168\u90e8\u7684\u5de5\u4f5c\u65f6, \u4f1a\u4ece\u53e6\u4e00\u4e2a\u5de5\u4f5c\u4e2d\u7ebf\u7a0b t2 \u7684\u961f\u5217\u91cc\u53d6\u51fa\u4efb\u52a1, \u4ee5\u514d t1 \u95f2\u7f6e\u6d6a\u8d39\u65f6\u95f4\u3002"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["\u56e0\u6b64\u5185\u90e8 for \u5faa\u73af\u6709\u53ef\u80fd\u201c\u7a83\u53d6\u201d\u5230\u53e6\u4e00\u4e2a\u5916\u90e8 for \u5faa\u73af\u7684\u4efb\u52a1, \u4ece\u800c\u5bfc\u81f4 mutex \u88ab ",(0,a.jsx)(e.strong,{children:"\u91cd\u590d\u4e0a\u9501"}),"\u3002"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-03_21-06-23.png ##w500##",src:s(80698).A+"",width:"718",height:"924"})})})})]}),"\n",(0,a.jsx)(e.h5,{id:"4222-\u89e3\u51b31-\u7528\u6807\u51c6\u5e93\u7684\u9012\u5f52\u9501-stdrecursive_mutex",children:"4.2.2.2 \u89e3\u51b31: \u7528\u6807\u51c6\u5e93\u7684\u9012\u5f52\u9501 std::recursive_mutex"}),"\n",(0,a.jsx)(e.p,{children:"\u53ea\u9700\u8981\u5982\u4e0b\u4fee\u6539:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"// std::mutex mtx; // \u8fd9\u4e2a\u4f1a\u6b7b\u9501, \u56e0\u4e3a tbb \u662f\u4efb\u52a1\u7a83\u53d6\u7684, \u56e0\u6b64\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u80fd\u91cd\u590d\u4e0a\u9501!\nstd::recursive_mutex mtx;\n"})}),"\n",(0,a.jsx)(e.h5,{id:"4223-\u89e3\u51b32-\u521b\u5efa\u53e6\u4e00\u4e2a\u4efb\u52a1\u57df-\u8fd9\u6837\u4e0d\u540c\u57df\u4e4b\u95f4\u5c31\u4e0d\u4f1a\u7a83\u53d6\u5de5\u4f5c",children:"4.2.2.3 \u89e3\u51b32: \u521b\u5efa\u53e6\u4e00\u4e2a\u4efb\u52a1\u57df, \u8fd9\u6837\u4e0d\u540c\u57df\u4e4b\u95f4\u5c31\u4e0d\u4f1a\u7a83\u53d6\u5de5\u4f5c"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"#include <vector>\n#include <cmath>\n#include <mutex>\n#include <tbb/parallel_for.h>\n#include <tbb/task_arena.h>\n\nint main() {\n    size_t n = 1 << 13;\n    std::vector<float> arr(n * n);\n    std::mutex mtx;\n    tbb::parallel_for((size_t)0, (size_t)n, [&](size_t i) {\n        std::lock_guard _{mtx};\n        tbb::task_arena ta;\n        // \u65b0\u5f00\u4e00\u4e2a\u4efb\u52a1\u57df, \u4e0d\u540c\u57df\u4e4b\u95f4\u5c31\u4e0d\u4f1a\u7a83\u53d6\u5de5\u4f5c\n        ta.execute([&] {\n            tbb::parallel_for((size_t)0, (size_t)n, [&](size_t j) {\n                arr[i * n + j] = std::sin(i) * std::sin(j);\n            });\n        });\n    });\n    return 0;\n}\n"})}),"\n",(0,a.jsx)(e.h5,{id:"4224-\u89e3\u51b33-\u540c\u4e00\u4e2a\u4efb\u52a1\u57df-\u4f46\u7528-isolate-\u9694\u79bb-\u7981\u6b62\u5176\u5185\u90e8\u7684\u5de5\u4f5c\u88ab\u7a83\u53d6-\u63a8\u8350",children:"4.2.2.4 \u89e3\u51b33: \u540c\u4e00\u4e2a\u4efb\u52a1\u57df, \u4f46\u7528 isolate \u9694\u79bb, \u7981\u6b62\u5176\u5185\u90e8\u7684\u5de5\u4f5c\u88ab\u7a83\u53d6 (\u63a8\u8350)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"#include <vector>\n#include <cmath>\n#include <mutex>\n#include <tbb/parallel_for.h>\n#include <tbb/task_arena.h>\n\nint main() {\n    size_t n = 1 << 13;\n    std::vector<float> arr(n * n);\n    std::mutex mtx;\n    tbb::parallel_for((size_t)0, (size_t)n, [&](size_t i) {\n        std::lock_guard _{mtx};\n        // \u7528 isolate \u9694\u79bb, \u7981\u6b62\u5176\u5185\u90e8\u7684\u5de5\u4f5c\u88ab\u7a83\u53d6\n        tbb::this_task_arena::isolate([&] {\n            tbb::parallel_for((size_t)0, (size_t)n, [&](size_t j) {\n                arr[i * n + j] = std::sin(i) * std::sin(j);\n            });\n        });\n    });\n    return 0;\n}\n"})}),"\n",(0,a.jsx)(e.h2,{id:"\u7b2c5\u7ae0-\u4efb\u52a1\u5206\u914d",children:"\u7b2c5\u7ae0: \u4efb\u52a1\u5206\u914d"}),"\n",(0,a.jsx)(e.h3,{id:"51-\u5e76\u884c-\u5982\u4f55\u5747\u5300\u5206\u914d\u4efb\u52a1\u5230\u6bcf\u4e2a\u7ebf\u7a0b",children:"5.1 \u5e76\u884c: \u5982\u4f55\u5747\u5300\u5206\u914d\u4efb\u52a1\u5230\u6bcf\u4e2a\u7ebf\u7a0b?"}),"\n",(0,a.jsx)(e.p,{children:"\u5bf9\u4e8e\u5e76\u884c\u8ba1\u7b97, \u901a\u5e38\u90fd\u662f CPU \u6709\u51e0\u4e2a\u6838\u5fc3\u5c31\u5f00\u51e0\u4e2a\u7ebf\u7a0b, \u56e0\u4e3a\u6211\u4eec\u53ea\u8981\u540c\u65f6\u6267\u884c\u5c31\u884c\u4e86\u561b\u3002"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-04_15-29-37.png ##w400##",src:s(39138).A+"",width:"747",height:"744"})})})})]}),"\n",(0,a.jsxs)(e.p,{children:["\u6bd4\u5982",(0,a.jsx)(e.code,{children:"cornell box"}),"\u8fd9\u4e2a\u4f8b\u5b50\u91cc, \u6211\u4eec\u628a\u56fe\u7247 ",(0,a.jsx)(e.strong,{children:"\u5747\u5300\u7b49\u5206"})," \u4e3a\u56db\u5757\u5904\u7406\u3002\u7136\u800c\u53d1\u73b04\u53f7\u7ebf\u7a0b\u6240\u5728\u7684\u5757, \u7531\u4e8e\u5728\u7284\u89d2\u65ee\u65ef\u91cc\u5149\u7ebf\u53cd\u5f39\u7684\u6b21\u6570\u591a, \u7b97\u5f97\u6bd4\u5176\u4ed6\u5757\u7684\u6162, \u800c\u6709\u7684\u5757\u5374\u7b97\u5f97\u5feb\u3002\u4f46\u662f\u56e0\u4e3a\u6728\u6876\u539f\u7406, \u6700\u540e\u82b1\u7684\u65f6\u95f4\u7531\u6700\u6162\u7684\u90a3\u4e2a\u7ebf\u7a0b\u51b3\u5b9a, \u56e0\u6b64\u53d8\u62101\u520630\u79d2\u4e86, \u591a\u51fa\u6765\u768430\u79d2\u91cc1\u53f7\u548c2\u53f7\u6838\u5fc3\u5728\u95f2\u7f6e\u7740, \u56e0\u4e3a\u4efb\u52a1\u7b80\u5355\u5df2\u7ecf\u7b97\u5b8c\u4e86, \u53ea\u67094\u53f7\u6838\u5fc3\u4e00\u4e2a\u4eba\u5728\u5904\u7406\u989d\u5916\u7684\u5149\u7ebf\u3002"]}),"\n",(0,a.jsx)(e.h3,{id:"52-\u89e3\u51b31-\u7ebf\u7a0b\u6570\u91cf\u8d85\u8fc7cpu\u6838\u5fc3\u6570\u91cf-\u8ba9\u7cfb\u7edf\u8c03\u5ea6\u4fdd\u8bc1\u5404\u4e2a\u6838\u5fc3\u59cb\u7ec8\u9971\u548c",children:"5.2 \u89e3\u51b31: \u7ebf\u7a0b\u6570\u91cf\u8d85\u8fc7CPU\u6838\u5fc3\u6570\u91cf, \u8ba9\u7cfb\u7edf\u8c03\u5ea6\u4fdd\u8bc1\u5404\u4e2a\u6838\u5fc3\u59cb\u7ec8\u9971\u548c"}),"\n",(0,a.jsx)(e.p,{children:"\u56e0\u6b64, \u6700\u597d\u4e0d\u662f\u6309\u7167\u56fe\u50cf\u5927\u5c0f\u5747\u5300\u7b49\u5206, \u800c\u662f\u6309\u7167\u5de5\u4f5c\u91cf\u5927\u5c0f\u5747\u5300\u7b49\u5206\u3002\u7136\u800c\u5de5\u4f5c\u91cf\u5927\u5c0f\u6211\u4eec\u6ca1\u529e\u6cd5\u63d0\u524d\u77e5\u9053...\u600e\u4e48\u529e?"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"\u6700\u7b80\u5355\u7684\u529e\u6cd5: \u53ea\u9700\u8981\u8ba9\u7ebf\u7a0b\u6570\u91cf\u8d85\u8fc7CPU\u6838\u5fc3\u6570\u91cf, \u8fd9\u65f6\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u542f\u7528\u65f6\u95f4\u7247\u8f6e\u6362\u8c03\u5ea6, \u8f6e\u6d41\u6267\u884c\u6bcf\u4e2a\u7ebf\u7a0b\u3002"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-04_15-32-00.png ##w400##",src:s(81376).A+"",width:"749",height:"745"})})})})]}),"\n",(0,a.jsx)(e.p,{children:"\u6bd4\u5982\u8fd9\u91cc\u5206\u914d\u4e8616\u4e2a\u7ebf\u7a0b, \u4f46\u662f\u53ea\u67094\u4e2a\u5904\u7406\u5668\u6838\u5fc3\u3002\u90a3\u4e48\u5c31\u4f1a\u5148\u6267\u884c1,2,3,4\u53f7\u7ebf\u7a0b, \u4e00\u6bb5\u65f6\u95f4\u540e\u81ea\u52a8\u5207\u6362\u52305,6,7,8\u7ebf\u7a0b\u3002\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u9000\u51fa\u65f6\u5019, \u7cfb\u7edf\u5c31\u4e0d\u4f1a\u518d\u8c03\u5ea6\u5230\u4ed6\u4e0a\u53bb\u4e86, \u4ece\u800c\u4fdd\u8bc1\u6bcf\u4e2a\u6838\u5fc3\u59cb\u7ec8\u6709\u4e8b\u53ef\u505a\u3002"}),"\n",(0,a.jsx)(e.h3,{id:"53-\u89e3\u51b32-\u7ebf\u7a0b\u6570\u91cf\u4e0d\u53d8-\u4f46\u662f\u7528\u4e00\u4e2a\u961f\u5217\u5206\u53d1\u548c\u8ba4\u9886\u4efb\u52a1",children:"5.3 \u89e3\u51b32: \u7ebf\u7a0b\u6570\u91cf\u4e0d\u53d8, \u4f46\u662f\u7528\u4e00\u4e2a\u961f\u5217\u5206\u53d1\u548c\u8ba4\u9886\u4efb\u52a1"}),"\n",(0,a.jsxs)(e.p,{children:["\u4f46\u662f\u7ebf\u7a0b\u6570\u91cf\u592a\u591a\u4f1a\u9020\u6210\u8c03\u5ea6\u7684",(0,a.jsx)(e.code,{children:"overhead"}),"(\u5207\u6362\u5f00\u9500)\u3002"]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"\u6240\u4ee5\u53e6\u4e00\u79cd\u89e3\u6cd5\u662f: \u6211\u4eec\u4ecd\u662f\u5206\u914d4\u4e2a\u7ebf\u7a0b, \u4f46\u8fd8\u662f\u628a\u56fe\u50cf\u5207\u5206\u4e3a16\u4efd, \u4f5c\u4e3a\u4e00\u4e2a\u201c\u4efb\u52a1\u201d\u63a8\u9001\u5230\u5168\u5c40\u961f\u5217\u91cc\u53bb\u3002\u6bcf\u4e2a\u7ebf\u7a0b\u7a7a\u95f2\u65f6\u4f1a\u4e0d\u65ad\u5730\u4ece\u90a3\u4e2a\u961f\u5217\u91cc\u53d6\u51fa\u6570\u636e, \u5373\u201c\u8ba4\u9886\u4efb\u52a1\u201d\u3002\u7136\u540e\u6267\u884c, \u6267\u884c\u5b8c\u6bd5\u540e\u624d\u53bb\u8ba4\u9886\u4e0b\u4e00\u4e2a\u4efb\u52a1, \u4ece\u800c\u5373\u4f7f\u6bcf\u4e2a\u4efb\u52a1\u5de5\u4f5c\u91cf\u4e0d\u4e00\u4e5f\u80fd\u81ea\u52a8\u9002\u5e94\u3002"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-04_15-34-49.png ##w400##",src:s(52303).A+"",width:"777",height:"763"})})})})]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"struct Task {\n  int x0, y0;\n  int nx, ny;\n};\nstd::queue<Task> q;\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u8fd9\u79cd\u6280\u672f\u53c8\u79f0\u4e3a",(0,a.jsx)(e.code,{children:"\u7ebf\u7a0b\u6c60(thread pool)"}),", \u907f\u514d\u4e86\u7ebf\u7a0b\u9700\u8981\u4fdd\u5b58\u4e0a\u4e0b\u6587\u7684\u5f00\u9500\u3002\u4f46\u662f\u9700\u8981\u6211\u4eec\u7ba1\u7406\u4e00\u4e2a\u4efb\u52a1\u961f\u5217, \u800c\u4e14\u8981\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\u961f\u5217\u3002"]}),"\n",(0,a.jsx)(e.h3,{id:"54-\u89e3\u51b33-\u6bcf\u4e2a\u7ebf\u7a0b\u4e00\u4e2a\u4efb\u52a1\u961f\u5217-\u505a\u5b8c\u672c\u804c\u5de5\u4f5c\u540e\u53ef\u4ee5\u8ba4\u9886\u5176\u4ed6\u7ebf\u7a0b\u7684\u4efb\u52a1",children:"5.4 \u89e3\u51b33: \u6bcf\u4e2a\u7ebf\u7a0b\u4e00\u4e2a\u4efb\u52a1\u961f\u5217, \u505a\u5b8c\u672c\u804c\u5de5\u4f5c\u540e\u53ef\u4ee5\u8ba4\u9886\u5176\u4ed6\u7ebf\u7a0b\u7684\u4efb\u52a1"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-04_15-36-01.png ##w600##",src:s(81213).A+"",width:"1535",height:"838"})})})})]}),"\n",(0,a.jsx)(e.h3,{id:"55-\u89e3\u51b34-\u968f\u673a\u5206\u914d\u6cd5-\u901a\u8fc7\u54c8\u5e0c\u51fd\u6570\u6216\u7ebf\u6027\u51fd\u6570",children:"5.5 \u89e3\u51b34: \u968f\u673a\u5206\u914d\u6cd5 (\u901a\u8fc7\u54c8\u5e0c\u51fd\u6570\u6216\u7ebf\u6027\u51fd\u6570)"}),"\n",(0,a.jsxs)(e.p,{children:["\u7136\u800c\u961f\u5217\u7684\u5b9e\u73b0\u8f83\u590d\u6742\u4e14\u9700\u8981\u540c\u6b65\u673a\u5236, \u8fd8\u662f\u6709\u4e00\u5b9a\u7684",(0,a.jsx)(e.code,{children:"overhead"}),", \u56e0\u6b64\u53e6\u4e00\u79cd\u795e\u5947\u7684\u89e3\u6cd5\u662f:"]}),"\n",(0,a.jsxs)(e.p,{children:["\u6211\u4eec\u4ecd\u662f\u5206\u914d4\u4e2a\u7ebf\u7a0b, \u4f46\u8fd8\u662f\u628a\u56fe\u50cf\u5207\u5206\u4e3a16\u4efd\u3002\u7136\u540e\u89c4\u5b9a\u6bcf\u4e00\u4efd\u6309\u7167 ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"x"}),(0,a.jsx)(e.mo,{separator:"true",children:","}),(0,a.jsx)(e.mi,{children:"y"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"x,y"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,a.jsx)(e.span,{className:"mpunct",children:","}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"})]})})]})," \u8f74\u5750\u6807\u4f4d\u7f6e\u7f16\u53f7, \u6bd4\u5982 ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mn,{children:"1"}),(0,a.jsx)(e.mo,{separator:"true",children:","}),(0,a.jsx)(e.mn,{children:"3"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"(1,3)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord",children:"1"}),(0,a.jsx)(e.span,{className:"mpunct",children:","}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(e.span,{className:"mord",children:"3"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]})," \u7b49\u3002"]}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-04_15-39-31.png ##w400##",src:s(39017).A+"",width:"748",height:"750"})})})})]}),"\n",(0,a.jsxs)(e.p,{children:["\u628a ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"x"}),(0,a.jsx)(e.mo,{separator:"true",children:","}),(0,a.jsx)(e.mi,{children:"y"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"(x,y)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,a.jsx)(e.span,{className:"mpunct",children:","}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]})," \u90a3\u4e00\u4efd, \u5206\u914d\u7ed9 ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"x"}),(0,a.jsx)(e.mo,{children:"+"}),(0,a.jsx)(e.mi,{children:"y"}),(0,a.jsx)(e.mo,{children:"\xd7"}),(0,a.jsx)(e.mn,{children:"3"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"}),(0,a.jsx)(e.mspace,{}),(0,a.jsx)(e.mspace,{width:"0.6667em"}),(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{mathvariant:"normal",children:"m"}),(0,a.jsx)(e.mi,{mathvariant:"normal",children:"o"}),(0,a.jsx)(e.mi,{mathvariant:"normal",children:"d"})]}),(0,a.jsx)(e.mtext,{children:"\u2009"}),(0,a.jsx)(e.mtext,{children:"\u2009"}),(0,a.jsx)(e.mn,{children:"4"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"(x + y \\times 3) \\mod 4"})]})})}),(0,a.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"+"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.7778em",verticalAlign:"-0.1944em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\xd7"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord",children:"3"}),(0,a.jsx)(e.span,{className:"mclose",children:")"}),(0,a.jsx)(e.span,{className:"mspace allowbreak"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.6667em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.6944em"}}),(0,a.jsx)(e.span,{className:"mord",children:(0,a.jsx)(e.span,{className:"mord",children:(0,a.jsx)(e.span,{className:"mord mathrm",children:"mod"})})}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(e.span,{className:"mord",children:"4"})]})]})]})," \u53f7\u7ebf\u7a0b\u3002\u8fd9\u6837\u603b\u4f53\u6765\u770b\u6bcf\u4e2a\u7ebf\u7a0b\u5206\u5230\u7684\u5757\u7684\u4f4d\u7f6e\u662f\u968f\u673a\u7684, \u4ece\u800c\u7531\u4e8e",(0,a.jsx)(e.code,{children:"\u6b63\u592a\u5206\u5e03"}),"\u6570\u91cf\u8d8a\u5927\u65b9\u5dee\u8d8a\u5c0f\u7684\u7279\u70b9, \u6bcf\u4e2a\u7ebf\u7a0b\u5206\u5230\u7684\u603b\u5de5\u4f5c\u91cf\u5927\u6982\u7387\u662f\u5747\u5300\u7684\u3002"]}),"\n",(0,a.jsx)(e.p,{children:"GPU \u4e0a\u79f0\u4e3a\u7f51\u683c\u8de8\u6b65\u5faa\u73af(grid-stride loop)\u3002"}),"\n",(0,a.jsx)(e.h3,{id:"56-tbbstatic_partitioner",children:"5.6 tbb::static_partitioner"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <tbb/blocked_range.h>\n#include <tbb/parallel_for.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 32;\n    tbb::task_arena ta(4);\n    /*\n        \u521b\u5efa\u4e86 4 \u4e2a\u7ebf\u7a0b 4 \u4e2a\u4efb\u52a1\n        \u6bcf\u4e2a\u4efb\u52a1\u5305\u542b 8 \u4e2a\u5143\u7d20\n    */\n    ta.execute([&]{\n        using namespace std::chrono;\n        tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n        [&](tbb::blocked_range<size_t> r) {\n            HX::print::println("\u7ebf\u7a0b: ", tbb::this_task_arena::current_thread_index(), ", size: ", r.size());\n            std::this_thread::sleep_for(400ms);\n        }, tbb::static_partitioner{});\n    });\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u8f93\u51fa:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"\u7ebf\u7a0b: 0, size: 8\n\u7ebf\u7a0b: 1, size: 8\n\u7ebf\u7a0b: 2, size: 8\n\u7ebf\u7a0b: 3, size: 8\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.p,{children:"tbb::static_partitioner, \u53ef\u4ee5\u6307\u5b9a\u533a\u95f4\u7684\u7c92\u5ea6:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'tbb::task_arena ta(4);\n/*\n    \u521b\u5efa\u4e86 2 \u4e2a\u7ebf\u7a0b 2 \u4e2a\u4efb\u52a1\n    \u6bcf\u4e2a\u4efb\u52a1\u5305\u542b 16 \u4e2a\u5143\u7d20\n*/\nta.execute([&]{\n    using namespace std::chrono;\n    tbb::parallel_for(tbb::blocked_range<size_t>(0, n, 16), // \u6307\u5b9a\u533a\u95f4\u7684\u7c92\u5ea6\n    [&](tbb::blocked_range<size_t> r) {\n        HX::print::println("\u7ebf\u7a0b: ", tbb::this_task_arena::current_thread_index(), ", size: ", r.size());\n        std::this_thread::sleep_for(400ms);\n    }, tbb::static_partitioner{});\n});\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u8f93\u51fa:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"\u7ebf\u7a0b: 0, size: 16\n\u7ebf\u7a0b: 2, size: 16\n"})}),"\n",(0,a.jsx)(e.h3,{id:"57-tbbsimple_partitioner",children:"5.7 tbb::simple_partitioner"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'tbb::task_arena ta(4);\n/*\n    \u521b\u5efa\u4e86 4 \u4e2a\u7ebf\u7a0b 32 \u4e2a\u4efb\u52a1\n    \u6bcf\u4e2a\u4efb\u52a1\u5305\u542b 1 \u4e2a\u5143\u7d20\n*/\nHX::STL::utils::TickTock<> _{"\u7b80\u5355 simple_partitioner"};\nta.execute([&]{\n    using namespace std::chrono;\n    tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n    [&](tbb::blocked_range<size_t> r) {\n        HX::print::println("\u7ebf\u7a0b: ", tbb::this_task_arena::current_thread_index(), ", size: ", r.size());\n        std::this_thread::sleep_for(400ms);\n    }, tbb::simple_partitioner{});\n});\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u8f93\u51fa:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"\u7ebf\u7a0b: 0, size: 1\n\u7ebf\u7a0b: 1, size: 1\n\u7ebf\u7a0b: 2, size: 1\n\u7ebf\u7a0b: 3, size: 1\n...\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.p,{children:"tbb::static_partitioner, \u6307\u5b9a\u533a\u95f4\u7684\u7c92\u5ea6"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'tbb::task_arena ta(4);\n/*\n    \u521b\u5efa\u4e86 4 \u4e2a\u7ebf\u7a0b 8 \u4e2a\u4efb\u52a1\n    \u6bcf\u4e2a\u4efb\u52a1\u5305\u542b 4 \u4e2a\u5143\u7d20\n*/\nHX::STL::utils::TickTock<> _{"simple_partitioner: \u6307\u5b9a\u533a\u95f4\u7684\u7c92\u5ea6"};\nta.execute([&]{\n    using namespace std::chrono;\n    tbb::parallel_for(tbb::blocked_range<size_t>(0, n, 4),\n    [&](tbb::blocked_range<size_t> r) {\n        HX::print::println("\u7ebf\u7a0b: ", tbb::this_task_arena::current_thread_index(), ", size: ", r.size());\n        std::this_thread::sleep_for(400ms);\n    }, tbb::simple_partitioner{});\n});\n'})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.th,{children:(0,a.jsx)(e.strong,{children:"\u7279\u6027"})}),(0,a.jsx)(e.th,{children:(0,a.jsx)(e.code,{children:"tbb::simple_partitioner"})}),(0,a.jsx)(e.th,{children:(0,a.jsx)(e.code,{children:"tbb::static_partitioner"})})]})}),(0,a.jsxs)(e.tbody,{children:[(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:"\u4efb\u52a1\u5212\u5206\u65b9\u5f0f"})}),(0,a.jsxs)(e.td,{children:[(0,a.jsx)(e.strong,{children:"\u9012\u5f52\u62c6\u5206"}),"(\u52a8\u6001\u8c03\u6574)"]}),(0,a.jsxs)(e.td,{children:[(0,a.jsx)(e.strong,{children:"\u9759\u6001\u5212\u5206"}),"(\u56fa\u5b9a\u5206\u914d)"]})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsxs)(e.strong,{children:["\u9ed8\u8ba4 ",(0,a.jsx)(e.code,{children:"grainsize"})]})}),(0,a.jsxs)(e.td,{children:[(0,a.jsx)(e.strong,{children:"1"}),"(\u7136\u540e\u7ee7\u7eed\u62c6\u5206)"]}),(0,a.jsxs)(e.td,{children:[(0,a.jsx)(e.strong,{children:(0,a.jsx)(e.code,{children:"n / c"})}),"(\u4e0d\u518d\u62c6\u5206)"]})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:"\u8d1f\u8f7d\u5747\u8861\u6027"})}),(0,a.jsxs)(e.td,{children:[(0,a.jsx)(e.strong,{children:"\u597d"}),"(\u9002\u5408\u8d1f\u8f7d\u4e0d\u5747\u7684\u4efb\u52a1)"]}),(0,a.jsxs)(e.td,{children:[(0,a.jsx)(e.strong,{children:"\u4e00\u822c"}),"(\u9002\u5408\u8d1f\u8f7d\u5747\u5300\u7684\u4efb\u52a1)"]})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:"\u9002\u7528\u4e8e"})}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:"\u4efb\u52a1\u5927\u5c0f\u4e0d\u5747\u7684\u60c5\u51b5"})}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:"\u4efb\u52a1\u5927\u5c0f\u5747\u5300\u7684\u60c5\u51b5"})})]})]})]}),"\n",(0,a.jsx)(e.h3,{id:"58-tbbauto_partitioner-\u9ed8\u8ba4",children:"5.8 tbb::auto_partitioner (\u9ed8\u8ba4)"}),"\n",(0,a.jsxs)(e.p,{children:["\u81ea\u52a8\u6839\u636e",(0,a.jsx)(e.code,{children:"lambda"}),"\u4e2d\u51fd\u6570\u7684\u6267\u884c\u65f6\u95f4\u5224\u65ad\u91c7\u7528\u4f55\u79cd\u5206\u914d\u65b9\u6cd5\u3002"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'tbb::task_arena ta(4);\nHX::STL::utils::TickTock<> _{"auto_partitioner"};\nta.execute([&]{\n    using namespace std::chrono;\n    tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n    [&](tbb::blocked_range<size_t> r) {\n        HX::print::println("\u7ebf\u7a0b: ", tbb::this_task_arena::current_thread_index(), ", size: ", r.size());\n        std::this_thread::sleep_for(400ms);\n    }, tbb::auto_partitioner{}); // \u4e0d\u52a0\u53c2\u6570\u65f6\u5019, \u4e5f\u662f\u4f7f\u7528 tbb::auto_partitioner{}\n});\n'})}),"\n",(0,a.jsx)(e.h3,{id:"59-\u5faa\u73af\u4e0d\u5747\u5300\u60c5\u51b5\u7684\u6bd4\u8f83",children:"5.9 \u5faa\u73af\u4e0d\u5747\u5300\u60c5\u51b5\u7684\u6bd4\u8f83"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <tbb/blocked_range.h>\n#include <tbb/parallel_for.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 32;\n    using namespace std::chrono;\n    {\n        tbb::task_arena ta(4);\n        HX::STL::utils::TickTock<> _{"tbb::static_partitioner \u7528\u4e8e\u5faa\u73af\u4f53\u4e0d\u5747\u5300\u7684\u60c5\u51b5\u6548\u679c\u4e0d\u597d"};\n        ta.execute([&]{\n            tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n            [&](tbb::blocked_range<size_t> r) {\n                HX::print::println("\u7ebf\u7a0b: ", tbb::this_task_arena::current_thread_index(), ", size: ", r.size());\n                for (size_t i = r.begin(); i < r.end(); ++i) {\n                    std::this_thread::sleep_for(i * 10ms); // \u5b89\u88c5\u7d22\u5f15\u6682\u505c\u4e0d\u540c\u7684\u65f6\u95f4, \u4ee5\u6a21\u62df\n                }\n            }, tbb::static_partitioner{});\n        });\n    }\n    {\n        tbb::task_arena ta(4);\n        HX::STL::utils::TickTock<> _{"tbb::simple_partitioner \u7528\u4e8e\u5faa\u73af\u4f53\u4e0d\u5747\u5300\u7684\u60c5\u51b5\u6548\u679c\u5f88\u597d"};\n        ta.execute([&]{\n            tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n            [&](tbb::blocked_range<size_t> r) {\n                HX::print::println("\u7ebf\u7a0b: ", tbb::this_task_arena::current_thread_index(), ", size: ", r.size());\n                for (size_t i = r.begin(); i < r.end(); ++i) {\n                    std::this_thread::sleep_for(i * 10ms);\n                }\n            }, tbb::simple_partitioner{});\n        });\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.h3,{id:"510-tbbaffinity_partitioner-\u8bb0\u5f55\u5386\u53f2-\u4e0b\u6b21\u6839\u636e\u7ecf\u9a8c\u81ea\u52a8\u8d1f\u8f7d\u5747\u8861",children:"5.10 tbb::affinity_partitioner \u8bb0\u5f55\u5386\u53f2, \u4e0b\u6b21\u6839\u636e\u7ecf\u9a8c\u81ea\u52a8\u8d1f\u8f7d\u5747\u8861"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <tbb/blocked_range.h>\n#include <tbb/parallel_for.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 32;\n    {\n        tbb::task_arena ta(4);\n        tbb::affinity_partitioner affinity;\n        for (size_t t = 0; t < 10; ++t) {\n            HX::STL::utils::TickTock<> _{"tbb::affinity_partitioner: " + std::to_string(t)};\n            ta.execute([&]{\n                tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n                [&](tbb::blocked_range<size_t> r) {\n                    for (size_t i = r.begin(); i < r.end(); ++i) {\n                        for (volatile size_t j = 0; j < i * 1000; ++j)\n                            ;\n                    }\n                }, affinity);\n            });\n        }\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u8f93\u51fa:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'"tbb::affinity_partitioner: 0": 0.825926 ms\n"tbb::affinity_partitioner: 1": 0.082637 ms\n"tbb::affinity_partitioner: 2": 0.067462 ms\n"tbb::affinity_partitioner: 3": 0.070366 ms\n"tbb::affinity_partitioner: 4": 0.067258 ms\n"tbb::affinity_partitioner: 5": 0.064990 ms\n"tbb::affinity_partitioner: 6": 0.064479 ms\n"tbb::affinity_partitioner: 7": 0.091179 ms\n"tbb::affinity_partitioner: 8": 0.065745 ms\n"tbb::affinity_partitioner: 9": 0.064024 ms\n'})}),"\n",(0,a.jsx)(e.h3,{id:"511-\u9897\u7c92\u5ea6\u95ee\u9898",children:"5.11 \u9897\u7c92\u5ea6\u95ee\u9898"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <cmath>\n#include <tbb/blocked_range.h>\n#include <tbb/parallel_for.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 26;\n    std::vector<float> arr(n);\n    {\n        tbb::task_arena ta(4);\n        HX::STL::utils::TickTock<> _{"tbb::simple_partitioner: \u7c92\u5ea6\u4e3a 1 \u592a\u7ec6\u4e86, \u6548\u679c\u4e0d\u597d"};\n        ta.execute([&]{\n            tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n            [&](tbb::blocked_range<size_t> r) {\n                for (size_t i = r.begin(); i < r.end(); ++i) {\n                    arr[i] = std::sin(i);\n                }\n            }, tbb::simple_partitioner{});\n        });\n    }\n    {\n        tbb::task_arena ta(4);\n        HX::STL::utils::TickTock<> _{"tbb::static_partitioner: \u7c92\u5ea6\u4e3a n / 4, \u6548\u679c\u597d"};\n        ta.execute([&]{\n            tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n            [&](tbb::blocked_range<size_t> r) {\n                for (size_t i = r.begin(); i < r.end(); ++i) {\n                    arr[i] = std::sin(i);\n                }\n            }, tbb::static_partitioner{});\n        });\n    }\n    {\n        tbb::task_arena ta(4);\n        HX::STL::utils::TickTock<> _{"tbb::simple_partitioner: \u7c92\u5ea6\u624b\u52a8\u8bbe\u4e3a n / 8, \u6548\u679c\u7a0d\u5fae\u66f4\u597d\u4e00\u70b9"};\n        ta.execute([&]{\n            int c = ta.max_concurrency();\n            tbb::parallel_for(tbb::blocked_range<size_t>(0, n, n / (2 * c)),\n            [&](tbb::blocked_range<size_t> r) {\n                for (size_t i = r.begin(); i < r.end(); ++i) {\n                    arr[i] = std::sin(i);\n                }\n            }, tbb::simple_partitioner{});\n        });\n    }\n    {\n        tbb::task_arena ta(4);\n        HX::STL::utils::TickTock<> _{"tbb::auto_partitioner: \u81ea\u52a8\u5224\u65ad\u4e5f\u4e0d\u9519"};\n        ta.execute([&]{\n            tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n            [&](tbb::blocked_range<size_t> r) {\n                for (size_t i = r.begin(); i < r.end(); ++i) {\n                    arr[i] = std::sin(i);\n                }\n            }, tbb::auto_partitioner{});\n        });\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u8f93\u51fa:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'"tbb::simple_partitioner: \u7c92\u5ea6\u4e3a 1 \u592a\u7ec6\u4e86, \u6548\u679c\u4e0d\u597d": 9552.873758 ms\n"tbb::static_partitioner: \u7c92\u5ea6\u4e3a n / 4, \u6548\u679c\u597d": 368.714352 ms\n"tbb::simple_partitioner: \u7c92\u5ea6\u624b\u52a8\u8bbe\u4e3a n / 8, \u6548\u679c\u7a0d\u5fae\u66f4\u597d\u4e00\u70b9": 364.58692 ms\n"tbb::auto_partitioner: \u81ea\u52a8\u5224\u65ad\u4e5f\u4e0d\u9519": 353.735991 ms\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u4f3c\u4e4e, \u9ed8\u8ba4\u7684\u5c31\u5f88\u4e0d\u9519? \u4f46\u771f\u7684\u662f\u8fd9\u6837\u5417?"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsx)(e.mrow,{children:(0,a.jsx)(e.mtext,{children:"\u7570\u8b70\u3042\u308a\uff01"})}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"\u7570\u8b70\u3042\u308a\uff01"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,a.jsx)(e.span,{className:"mord cjk_fallback",children:"\u7570\u8b70\u3042\u308a\uff01"})]})})]})}),"\n",(0,a.jsx)(e.h3,{id:"512-\u4f8b\u5b50-\u77e9\u9635\u8f6c\u7f6e",children:"5.12 \u4f8b\u5b50: \u77e9\u9635\u8f6c\u7f6e"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <cmath>\n#include <tbb/blocked_range2d.h>\n#include <tbb/parallel_for.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 14;\n    std::vector<float> arr(n * n);\n    std::vector<float> brr(n * n);\n    {\n        tbb::task_arena ta(4);\n        HX::STL::utils::TickTock<> _{"tbb::auto_partitioner: \u9ed8\u8ba4\u77e9\u9635\u8f6c\u7f6e"};\n        ta.execute([&]{\n            tbb::parallel_for(tbb::blocked_range2d<size_t>(0, n, 0, n),\n            [&](tbb::blocked_range2d<size_t> r) {\n                for (size_t i = r.cols().begin(); i < r.cols().end(); ++i) {\n                    for (size_t j = r.rows().begin(); j < r.rows().end(); ++j) {\n                        brr[i * n + j] = arr[j * n + i];\n                    }\n                }\n            }, tbb::auto_partitioner{});\n        });\n    }\n    {\n        tbb::task_arena ta(4);\n        size_t grain = 16;\n        HX::STL::utils::TickTock<> _{"tbb::auto_partitioner: \u9ed8\u8ba4\u77e9\u9635\u8f6c\u7f6e"};\n        ta.execute([&]{\n            tbb::parallel_for(tbb::blocked_range2d<size_t>(0, n, grain, 0, n, grain),\n            [&](tbb::blocked_range2d<size_t> r) {\n                for (size_t i = r.cols().begin(); i < r.cols().end(); ++i) {\n                    for (size_t j = r.rows().begin(); j < r.rows().end(); ++j) {\n                        brr[i * n + j] = arr[j * n + i];\n                    }\n                }\n            }, tbb::simple_partitioner{});\n        });\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u8f93\u51fa:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'"tbb::auto_partitioner: \u9ed8\u8ba4\u77e9\u9635\u8f6c\u7f6e": 775.852298 ms\n"tbb::auto_partitioner: \u9ed8\u8ba4\u77e9\u9635\u8f6c\u7f6e": 146.007878 ms\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u4f7f\u7528\u5408\u9002\u7684 grain \u5927\u5c0f, simple_partitioner \u6bd4 auto_partitioner \u5feb 5.171 \u500d!!!"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"\u539f\u56e0"}),":"]}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-04_17-58-23.png ##w400##",src:s(82391).A+"",width:"722",height:"1037"})})})})]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"tbb::simple_partitioner"}),"\u80fd\u591f\u6309\u7167\u7ed9\u5b9a\u7684\u7c92\u5ea6\u5927\u5c0f(grain)\u5c06\u77e9\u9635\u8fdb\u884c\u5206\u5757\u3002\u5757\u5185\u90e8\u5c0f\u533a\u57df\u6309\u7167\u5e38\u89c4\u7684\u4e24\u5c42\u5faa\u73af\u8bbf\u95ee\u4ee5\u4fbf\u77e2\u91cf\u5316, \u5757\u5916\u90e8\u5927\u533a\u57df\u5219\u4ee5\u7c7b\u4f3c Z \u5b57\u578b\u7684\u66f2\u7ebf\u904d\u5386, \u8fd9\u6837\u80fd\u4fdd\u8bc1\u6bcf\u6b21\u8bbf\u95ee\u7684\u6570\u636e\u5728\u5730\u5740\u4e0a\u6bd4\u8f83\u9760\u8fd1, \u5e76\u4e14\u90fd\u662f\u6700\u8fd1\u8bbf\u95ee\u8fc7\u7684, \u4ece\u800c\u5df2\u7ecf\u5728\u7f13\u5b58\u91cc\u53ef\u4ee5\u76f4\u63a5\u8bfb\u5199, \u907f\u514d\u4e86\u4ece\u4e3b\u5185\u5b58\u8bfb\u5199\u7684\u8d85\u9ad8\u5ef6\u8fdf\u3002"]}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:"\u4e0b\u6b21\u8bfe\u4f1a\u8fdb\u4e00\u6b65\u6df1\u5165\u63a2\u8ba8\u8bbf\u5b58\u4f18\u5316, \u8be6\u7ec6\u5256\u6790\u8fd9\u4e2a\u6848\u4f8b, \u656c\u8bf7\u671f\u5f85\u3002"})}),"\n",(0,a.jsx)(e.h2,{id:"\u7b2c6\u7ae0-\u5e76\u53d1\u5bb9\u5668",children:"\u7b2c6\u7ae0: \u5e76\u53d1\u5bb9\u5668"}),"\n",(0,a.jsx)(e.h3,{id:"61-stdvector-\u6269\u5bb9\u65f6\u4f1a\u79fb\u52a8\u5143\u7d20",children:"6.1 std::vector \u6269\u5bb9\u65f6\u4f1a\u79fb\u52a8\u5143\u7d20"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"#include <vector>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 10;\n    std::vector<float> arr;\n    std::vector<float*> ptrArr(n);\n    for (size_t i = 0; i < n; ++i) {\n        arr.push_back(0);\n        ptrArr[i] = &arr.back();\n    }\n    for (size_t i = 0; i < n; ++i) {\n        HX::print::print(ptrArr[i] == &arr[i], ' ');\n    }\n    return 0;\n}\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u8f93\u51fa:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"...false false true true...\n"})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"std::vector"}),"\u5185\u90e8\u5b58\u50a8\u4e86\u4e00\u4e2a\u6307\u9488, \u6307\u5411\u4e00\u6bb5\u5bb9\u91cf",(0,a.jsx)(e.code,{children:"capacity"}),"\u5927\u4e8e\u7b49\u4e8e\u5176",(0,a.jsx)(e.code,{children:"size"}),"\u7684\u5185\u5b58\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["\u4f17\u6240\u5468\u77e5, ",(0,a.jsx)(e.code,{children:"push_back"}),"\u4f1a\u5bfc\u81f4",(0,a.jsx)(e.code,{children:"size"}),"\u52a0 1, \u4f46\u5f53\u4ed6\u770b\u5230\u5bb9\u91cf",(0,a.jsx)(e.code,{children:"capacity"}),"\u7b49\u4e8e\u5f53\u524d",(0,a.jsx)(e.code,{children:"size"}),"\u65f6, \u610f\u8bc6\u5230\u65e0\u6cd5\u518d\u8ffd\u52a0\u65b0\u6570\u636e\u3002\u8fd9\u65f6\u4ed6\u4f1a\u91cd\u65b0",(0,a.jsx)(e.code,{children:"malloc"}),"\u4e00\u6bb5\u66f4\u5927\u7684\u8fde\u7eed\u5185\u5b58, \u4f7f\u5f97",(0,a.jsx)(e.code,{children:"capacity"}),"\u53d8\u6210",(0,a.jsx)(e.code,{children:"size"}),"\u7684\u4e24\u500d, \u5e76\u4e14\u628a\u65e7\u7684\u6570\u636e\u79fb\u52a8\u8fc7\u53bb, \u7136\u540e\u7ee7\u7eed\u8ffd\u52a0\u6570\u636e\u3002"]}),"\n",(0,a.jsx)(e.p,{children:"\u8fd9\u5c31\u5bfc\u81f4\u524d\u534a\u6bb5\u7684\u5143\u7d20\u7684\u5730\u5740\u88ab\u6539\u53d8, \u4ece\u800c\u5bfc\u81f4\u4e4b\u524d\u4fdd\u5b58\u7684\u6307\u9488\u548c\u8fed\u4ee3\u5668\u5931\u6548\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u89e3\u51b3\u65b9\u6848: reserve \u9884\u7559\u8db3\u591f\u7684 capacity"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"std::vector<float> arr;\nstd::vector<float*> ptrArr(n);\narr.reserve(n);\nfor (size_t i = 0; i < n; ++i) {\n    arr.push_back(0);\n    ptrArr[i] = &arr.back();\n}\nfor (size_t i = 0; i < n; ++i) {\n    HX::print::print(ptrArr[i] == &arr[i], ' ');\n}\n"})}),"\n",(0,a.jsx)(e.h3,{id:"62-\u4e0d\u8fde\u7eed\u7684-tbbconcurrent_vector",children:"6.2 \u4e0d\u8fde\u7eed\u7684 tbb::concurrent_vector"}),"\n",(0,a.jsx)(e.h4,{id:"621-\u6269\u5bb9\u4e0d\u9700\u79fb\u52a8\u4f4d\u306econcurrent_vector",children:"6.2.1 \u6269\u5bb9\u4e0d\u9700\u79fb\u52a8\u4f4d\u306econcurrent_vector"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"#include <tbb/concurrent_vector.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 10;\n    tbb::concurrent_vector<float> arr;\n    std::vector<float*> ptrArr(n);\n    for (size_t i = 0; i < n; ++i) {\n        ptrArr[i] = &*arr.push_back(0);\n    }\n    for (size_t i = 0; i < n; ++i) {\n        HX::print::print(int(ptrArr[i] == &arr[i]), ' ');\n    }\n    return 0;\n}\n"})}),"\n",(0,a.jsx)(e.p,{children:"std::vector \u9020\u6210\u6307\u9488\u5931\u6548\u7684\u6839\u672c\u539f\u56e0\u5728\u4e8e\u4ed6\u5fc5\u987b\u4fdd\u8bc1\u5185\u5b58\u662f\u8fde\u7eed\u7684, \u4ece\u800c\u4e0d\u5f97\u4e0d\u5728\u6269\u5bb9\u65f6\u79fb\u52a8\u5143\u7d20\u3002"}),"\n",(0,a.jsxs)(e.p,{children:["\u56e0\u6b64\u53ef\u4ee5\u7528",(0,a.jsx)(e.code,{children:"tbb::concurrent_vector"}),", \u4ed6\u4e0d\u4fdd\u8bc1\u5143\u7d20\u5728\u5185\u5b58\u4e2d\u662f\u8fde\u7eed\u7684\u3002\u6362\u6765\u7684\u4f18\u70b9\u662f",(0,a.jsx)(e.code,{children:"push_back"}),"\u8fdb\u53bb\u7684\u5143\u7d20, \u6269\u5bb9\u65f6\u4e0d\u9700\u8981\u79fb\u52a8\u4f4d\u7f6e, \u4ece\u800c\u6307\u9488\u548c\u8fed\u4ee3\u5668\u4e0d\u4f1a\u5931\u6548\u3002"]}),"\n",(0,a.jsx)(e.p,{children:"\u540c\u65f6\u4ed6\u7684 push_back \u4f1a\u989d\u5916\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668(iterator), \u6307\u5411\u521a\u521a\u63d2\u5165\u7684\u5bf9\u8c61\u3002"}),"\n",(0,a.jsxs)(e.div,{className:"markdown-alert markdown-alert-tip",children:["\n",(0,a.jsxs)(e.p,{className:"markdown-alert-title",children:[(0,a.jsx)(e.span,{className:"octicon octicon-tip",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-light-bulb mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Tip"]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"std::deque<T>"}),"\u4e5f\u4e0d\u4fdd\u8bc1\u5143\u7d20\u5728\u5185\u5b58\u4e2d\u662f\u8fde\u7eed\u7684, \u5e76\u4e14\u6269\u5bb9\u65f6\u4e5f\u4e0d\u9700\u8981\u79fb\u52a8\u4f4d\u7f6e."]}),"\n",(0,a.jsxs)(e.p,{children:["\u5b83\u548c",(0,a.jsx)(e.code,{children:"tbb::concurrent_vector"}),"\u4e0d\u540c\u7684\u662f, \u5b83\u4e0d\u662f\u7ebf\u7a0b\u5b89\u5168\u7684!"]}),"\n"]}),"\n",(0,a.jsx)(e.h4,{id:"622-grow_by-\u4e00\u6b21\u6027\u6269\u5bb9\u4e00\u5b9a\u5927\u5c0f",children:"6.2.2 grow_by \u4e00\u6b21\u6027\u6269\u5bb9\u4e00\u5b9a\u5927\u5c0f"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"tbb::concurrent_vector<float> arr;\nfor (size_t i = 0; i < 10; ++i) {\n    auto it = arr.grow_by(2);\n    *it++ = 1;\n    *it++ = 2;\n}\nHX::print::println(arr);\n"})}),"\n",(0,a.jsx)(e.p,{children:"push_back \u4e00\u6b21\u53ea\u80fd\u63a8\u5165\u4e00\u4e2a\u5143\u7d20\u3002"}),"\n",(0,a.jsxs)(e.p,{children:["\u800c",(0,a.jsx)(e.code,{children:"grow_by(n)"}),"\u5219\u53ef\u4ee5\u4e00\u6b21\u6269\u5145 n \u4e2a\u5143\u7d20\u3002\u4ed6\u540c\u6837\u662f\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668(iterator), \u4e4b\u540e\u53ef\u4ee5\u901a\u8fc7\u8fed\u4ee3\u5668\u7684",(0,a.jsx)(e.code,{children:"++"}),"\u8fd0\u7b97\u7b26\u4f9d\u6b21\u8bbf\u95ee\u8fde\u7eed\u7684 n \u4e2a\u5143\u7d20, ",(0,a.jsx)(e.code,{children:"*"}),"\u8fd0\u7b97\u7b26\u8bbf\u95ee\u5f53\u524d\u6307\u5411\u7684\u5143\u7d20\u3002"]}),"\n",(0,a.jsx)(e.h4,{id:"623-\u53ef\u5b89\u5168\u5730\u88ab\u591a\u7ebf\u7a0b\u5e76\u53d1\u8bbf\u95ee",children:"6.2.3 \u53ef\u5b89\u5168\u5730\u88ab\u591a\u7ebf\u7a0b\u5e76\u53d1\u8bbf\u95ee"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'size_t n = 1 << 10;\ntbb::concurrent_vector<float> arr;\ntbb::parallel_for((size_t)0, (size_t)n, [&](size_t i) {\n    auto it = arr.grow_by(2);\n    *it++ = std::sin(i);\n    *it++ = std::cos(i);\n});\nHX::print::println("size: ", arr.size()); // 2048\n'})}),"\n",(0,a.jsxs)(e.p,{children:["\u9664\u4e86\u5185\u5b58\u4e0d\u8fde\u7eed\u3001\u6307\u9488\u548c\u8fed\u4ee3\u5668\u4e0d\u5931\u6548\u7684\u7279\u70b9, ",(0,a.jsx)(e.code,{children:"tbb::concurrent_vector"}),"\u8fd8\u662f\u4e00\u4e2a\u591a\u7ebf\u7a0b\u5b89\u5168\u7684\u5bb9\u5668, \u80fd\u591f\u88ab\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u5e76\u53d1\u5730",(0,a.jsx)(e.code,{children:"grow_by"}),"\u6216",(0,a.jsx)(e.code,{children:"push_back"}),"\u800c\u4e0d\u51fa\u9519\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["\u800c",(0,a.jsx)(e.code,{children:"std::vector"}),"\u53ea\u6709\u53ea\u8bfb\u7684",(0,a.jsx)(e.code,{children:".size()"}),"\u548c",(0,a.jsx)(e.code,{children:"[]"}),"\u8fd0\u7b97\u7b26\u662f\u5b89\u5168\u7684, \u4e14\u4e0d\u80fd\u548c\u5199\u5165\u7684",(0,a.jsx)(e.code,{children:"push_back"}),"\u7b49\u4e00\u8d77\u7528, \u5426\u5219\u9700\u8981\u7528\u8bfb\u5199\u9501\u4fdd\u62a4\u3002"]}),"\n",(0,a.jsx)(e.h4,{id:"624-\u4e0d\u5efa\u8bae\u901a\u8fc7\u7d22\u5f15\u968f\u673a\u8bbf\u95ee",children:"6.2.4 \u4e0d\u5efa\u8bae\u901a\u8fc7\u7d22\u5f15\u968f\u673a\u8bbf\u95ee"}),"\n",(0,a.jsxs)(e.p,{children:["\u56e0\u4e3a",(0,a.jsx)(e.code,{children:"tbb::concurrent_vector"}),"\u5185\u5b58\u4e0d\u8fde\u7eed\u7684\u7279\u70b9, \u901a\u8fc7\u7d22\u5f15\u8bbf\u95ee, \u6bd4\u901a\u8fc7\u8fed\u4ee3\u5668\u8bbf\u95ee\u7684\u6548\u7387\u4f4e\u4e00\u4e9b\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["\u56e0\u6b64 ",(0,a.jsx)(e.strong,{children:"\u4e0d\u63a8\u8350"})," \u50cf",(0,a.jsx)(e.code,{children:"arr[i]"}),"\u8fd9\u6837\u901a\u8fc7\u7d22\u5f15\u968f\u673a\u8bbf\u95ee\u5176\u4e2d\u7684\u5143\u7d20, ",(0,a.jsx)(e.code,{children:"*(it + i)"}),"\u8fd9\u6837\u9700\u8981\u8fed\u4ee3\u5668\u8de8\u6b65\u8bbf\u95ee\u7684\u4e5f ",(0,a.jsx)(e.strong,{children:"\u4e0d\u63a8\u8350"}),"\u3002"]}),"\n",(0,a.jsx)(e.p,{children:"\u6700\u597d\u7684\u65b9\u5f0f\u662f\u7528 begin() \u548c end() \u7684\u8fed\u4ee3\u5668\u533a\u95f4, \u6309\u987a\u5e8f\u8bbf\u95ee\u3002"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'{\n    HX::STL::utils::TickTock<> _{"\u7d22\u5f15\u8bbf\u95ee"};\n    for (size_t i = 0; i < arr.size(); ++i) {\n        arr[i] = i;\n    }\n}\n{\n    HX::STL::utils::TickTock<> _{"\u8fed\u4ee3\u5668 + i \u8bbf\u95ee"};\n    for (size_t i = 0; i < arr.size(); ++i) {\n        *(arr.begin() + i) = i;\n    }\n}\n{\n    HX::STL::utils::TickTock<> _{"\u8fed\u4ee3\u5668 \u8bbf\u95ee"};\n    size_t i = 0;\n    for (auto& v : arr) {\n        v = i++;\n    }\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u8f93\u51fa:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'"\u7d22\u5f15\u8bbf\u95ee": 0.463539 ms\n"\u8fed\u4ee3\u5668 + i \u8bbf\u95ee": 0.760686 ms\n"\u8fed\u4ee3\u5668 \u8bbf\u95ee": 0.169324 ms\n'})}),"\n",(0,a.jsx)(e.h4,{id:"625-parallel_for-\u4e5f\u652f\u6301\u8fed\u4ee3\u5668",children:"6.2.5 parallel_for \u4e5f\u652f\u6301\u8fed\u4ee3\u5668"}),"\n",(0,a.jsxs)(e.p,{children:["\u51b7\u77e5\u8bc6: ",(0,a.jsx)(e.code,{children:"tbb::blocked_range"}),"\u7684\u53c2\u6570\u4e0d\u4e00\u5b9a\u662f",(0,a.jsx)(e.code,{children:"size_t"}),", \u4e5f\u53ef\u4ee5\u662f\u8fed\u4ee3\u5668\u8868\u793a\u7684\u533a\u95f4\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["\u8fd9\u6837 lambda \u4f53\u5185 r \u7684 begin \u548c end \u4e5f\u4f1a\u8fd4\u56de",(0,a.jsx)(e.code,{children:"tbb::concurrent_vector"}),"\u7684\u8fed\u4ee3\u5668\u7c7b\u578b\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["\u7b2c\u4e00\u4e2a",(0,a.jsx)(e.code,{children:"tbb::blocked_range"}),"\u5c16\u62ec\u53f7\u91cc\u7684\u7c7b\u578b\u53ef\u4ee5\u7701\u7565\u662f\u56e0\u4e3a C++17 \u7684 CTAD \u7279\u6027\u3002\u7b2c\u4e8c\u4e2a\u5219\u662f\u7528\u4e86",(0,a.jsx)(e.code,{children:"decltype"}),"\u81ea\u52a8\u63a8\u5bfc, \u4e5f\u53ef\u4ee5",(0,a.jsx)(e.code,{children:"(auto r)"}),", \u8fd9\u91cc\u5199\u5177\u4f53\u7c7b\u578b\u4ec5\u4e3a\u6559\u5b66\u76ee\u7684\u3002"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:"tbb::parallel_for(tbb::blocked_range(arr.begin(), arr.begin()),\n[&](tbb::blocked_range<decltype(arr.begin())> r) {\n    for (auto it = r.begin(); it != r.end(); ++it) {\n        *it += 1.0f;\n    }\n});\nHX::print::println(arr[1]);\n"})}),"\n",(0,a.jsx)(e.h3,{id:"63-tbb-\u4e2d\u5176\u4ed6\u5e76\u53d1\u5bb9\u5668",children:"6.3 TBB \u4e2d\u5176\u4ed6\u5e76\u53d1\u5bb9\u5668"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-05_20-57-39.png ##w500##",src:s(33210).A+"",width:"974",height:"494"})})})})]}),"\n",(0,a.jsx)(e.h2,{id:"\u7b2c7\u7ae0-\u5e76\u884c\u7b5b\u9009",children:"\u7b2c7\u7ae0: \u5e76\u884c\u7b5b\u9009"}),"\n",(0,a.jsx)(e.h3,{id:"71-\u6734\u7d20\u7248\u672c",children:"7.1 \u6734\u7d20\u7248\u672c"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <cmath>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 27;\n    std::vector<float> arr;\n    {\n        HX::STL::utils::TickTock<> _{"01-stl-filter"}; // 3220.22441 ms\n        for (size_t i = 0; i < n; ++i) {\n            if (float v = std::sin(i); v > 0) {\n                arr.push_back(v);\n            }\n        }\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u5229\u7528 vector \u7684 push_back \u52a8\u6001\u8ffd\u52a0\u6570\u636e, \u7b5b\u9009\u51fa\u6240\u6709\u5927\u4e8e 0 \u7684 sin(i) \u503c"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-05_22-38-19.png ##w500##",src:s(10117).A+"",width:"886",height:"670"})})})})]}),"\n",(0,a.jsx)(e.h3,{id:"72-\u5e76\u884c\u7b5b\u90091-\u9519\u7684",children:"7.2 \u5e76\u884c\u7b5b\u90091 (\u9519\u7684)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <cmath>\n#include <tbb/blocked_range.h>\n#include <tbb/parallel_for.h>\n#include <tbb/concurrent_vector.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 27;\n    tbb::concurrent_vector<float> arr;\n    {\n        HX::STL::utils::TickTock<> _{"02-tbb-filter-err"}; // 5558.529482 ms\n        tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n        [&](tbb::blocked_range<size_t> r) {\n            for (size_t i = r.begin(); i < r.end(); ++i) {\n                if (float v = std::sin(i); v > 0) {\n                    arr.push_back(v);\n                }\n            }\n        });\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u5229\u7528\u591a\u7ebf\u7a0b\u5b89\u5168\u7684 concurrent_vector \u52a8\u6001\u8ffd\u52a0\u6570\u636e"}),"\n",(0,a.jsx)(e.p,{children:"\u57fa\u672c\u6ca1\u6709\u52a0\u901f(\u751a\u81f3\u51cf\u901f), \u6211\u731c\u60f3 concurrent_vector \u5185\u90e8\u53ef\u80fd\u7528\u4e86\u7b80\u5355\u7c97\u66b4\u7684\u4e92\u65a5\u91cf, \u53ea\u4fdd\u8bc1\u4e86\u5b89\u5168, \u5e76\u4e0d\u4fdd\u8bc1\u9ad8\u6548"}),"\n",(0,a.jsx)(e.p,{children:"\u52a0\u901f\u6bd4: 0.57 \u500d"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-05_22-38-19.png ##w500##",src:s(10117).A+"",width:"886",height:"670"})})})})]}),"\n",(0,a.jsx)(e.h3,{id:"73-\u5e76\u884c\u7b5b\u90092",children:"7.3 \u5e76\u884c\u7b5b\u90092"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <cmath>\n#include <tbb/blocked_range.h>\n#include <tbb/parallel_for.h>\n#include <tbb/concurrent_vector.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 27;\n    tbb::concurrent_vector<float> arr;\n    {\n        HX::STL::utils::TickTock<> _{"03-tbb-filter-ok"}; // 258.629378 ms\n        tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n        [&](tbb::blocked_range<size_t> r) {\n            std::vector<float> tmpArr;\n            for (size_t i = r.begin(); i < r.end(); ++i) {\n                if (float v = std::sin(i); v > 0) {\n                    tmpArr.push_back(v);\n                }\n            }\n            auto it = arr.grow_by(tmpArr.size());\n            for (size_t i = 0; i < tmpArr.size(); ++i) {\n                *it++ = tmpArr[i];\n            }\n        });\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u5148\u63a8\u5230\u7ebf\u7a0b\u5c40\u90e8(thread-local)\u7684 vector, \u6700\u540e\u4e00\u6b21\u6027\u63a8\u5165\u5230 concurrent_vector, \u53ef\u4ee5\u907f\u514d\u9891\u7e41\u5728 concurrent_vector \u4e0a\u4ea7\u751f\u9501\u7ade\u4e89"}),"\n",(0,a.jsx)(e.p,{children:"\u52a0\u901f\u6bd4: 12.93 \u500d"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-05_22-57-03.png ##w500##",src:s(70536).A+"",width:"865",height:"627"})})})})]}),"\n",(0,a.jsx)(e.h3,{id:"74-\u5e76\u884c\u7b5b\u90093",children:"7.4 \u5e76\u884c\u7b5b\u90093"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <cmath>\n#include <tbb/blocked_range.h>\n#include <tbb/parallel_for.h>\n#include <tbb/concurrent_vector.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 27;\n    tbb::concurrent_vector<float> arr;\n    {\n        HX::STL::utils::TickTock<> _{"04-tbb-filter-okk"}; // 239.35617 ms\n        tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n        [&](tbb::blocked_range<size_t> r) {\n            std::vector<float> tmpArr;\n            tmpArr.reserve(r.size());\n            for (size_t i = r.begin(); i < r.end(); ++i) {\n                if (float v = std::sin(i); v > 0) {\n                    tmpArr.push_back(v);\n                }\n            }\n            auto it = arr.grow_by(tmpArr.size());\n            std::copy(tmpArr.begin(), tmpArr.end(), it);\n        });\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u7ebf\u7a0b\u5c40\u90e8\u7684 vector \u8c03\u7528 reserve \u9884\u5148\u5206\u914d\u4e00\u5b9a\u5185\u5b58, \u907f\u514d push_back \u53cd\u590d\u6269\u5bb9\u65f6\u7684\u5206\u6bb5\u5f0f\u589e\u957f, \u540c\u65f6\u5229\u7528\u6807\u51c6\u5e93\u7684 std::copy \u6a21\u677f\u7b80\u5316\u4e86\u4ee3\u7801"}),"\n",(0,a.jsx)(e.p,{children:"\u52a0\u901f\u6bd4: 13.47 \u500d"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-05_22-57-03.png ##w500##",src:s(70536).A+"",width:"865",height:"627"})})})})]}),"\n",(0,a.jsx)(e.h3,{id:"75-\u5e76\u884c\u7b5b\u90094",children:"7.5 \u5e76\u884c\u7b5b\u90094"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <mutex>\n#include <cmath>\n#include <tbb/blocked_range.h>\n#include <tbb/parallel_for.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 27;\n    std::vector<float> arr;\n    std::mutex mtx;\n    {\n        HX::STL::utils::TickTock<> _{"05_tbb_filter_std_mtx"}; // 368.361569 ms\n        tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n        [&](tbb::blocked_range<size_t> r) {\n            std::vector<float> tmpArr;\n            tmpArr.reserve(r.size());\n            for (size_t i = r.begin(); i < r.end(); ++i) {\n                if (float v = std::sin(i); v > 0) {\n                    tmpArr.push_back(v);\n                }\n            }\n            std::lock_guard _{mtx};\n            std::copy(tmpArr.begin(), tmpArr.end(), std::back_inserter(arr));\n        });\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u5982\u679c\u9700\u8981\u7b5b\u9009\u540e\u7684\u6570\u636e\u662f\u8fde\u7eed\u7684, \u5373 arr \u662f\u4e2a std::vector, \u8fd9\u65f6\u5c31\u9700\u8981\u7528 mutex \u9501\u5b9a, \u907f\u514d\u6570\u636e\u7ade\u4e89\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u52a0\u901f\u6bd4: 8.75 \u500d"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-05_22-57-03.png ##w500##",src:s(70536).A+"",width:"865",height:"627"})})})})]}),"\n",(0,a.jsx)(e.h3,{id:"76-\u5e76\u884c\u7b5b\u90095-\u5c0f\u5f6d\u8001\u5e08\u63a8\u8350\u65b9\u6848",children:"7.6 \u5e76\u884c\u7b5b\u90095 (\u5c0f\u5f6d\u8001\u5e08\u63a8\u8350\u65b9\u6848)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <mutex>\n#include <cmath>\n#include <tbb/blocked_range.h>\n#include <tbb/parallel_for.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 27;\n    std::vector<float> arr;\n    arr.reserve(n / 2 * 3); // \u9884\u7559\u7a7a\u95f4\n    std::mutex mtx;\n    {\n        HX::STL::utils::TickTock<> _{"06_tbb_filter_std_mtx_good"}; // 293.567346 ms\n        tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n        [&](tbb::blocked_range<size_t> r) {\n            std::vector<float> tmpArr;\n            tmpArr.reserve(r.size());\n            for (size_t i = r.begin(); i < r.end(); ++i) {\n                if (float v = std::sin(i); v > 0) {\n                    tmpArr.push_back(v);\n                }\n            }\n            std::lock_guard _{mtx};\n            std::copy(tmpArr.begin(), tmpArr.end(), std::back_inserter(arr));\n        });\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u5148\u5bf9 a \u9884\u7559\u4e00\u5b9a\u7684\u5185\u5b58, \u907f\u514d\u9891\u7e41\u6269\u5bb9\u5f71\u54cd\u6027\u80fd\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u52a0\u901f\u6bd4: 10.96 \u500d"}),"\n",(0,a.jsx)(e.h3,{id:"77-\u5e76\u884c\u7b5b\u90096",children:"7.7 \u5e76\u884c\u7b5b\u90096"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <cmath>\n#include <tbb/blocked_range.h>\n#include <tbb/parallel_for.h>\n#include <tbb/spin_mutex.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 27;\n    std::vector<float> arr;\n    arr.reserve(n / 2 * 3); // \u9884\u7559\u7a7a\u95f4\n    tbb::spin_mutex mtx;\n    {\n        HX::STL::utils::TickTock<> _{"07_tbb_filer_spin_mtx"}; // 239.953767 ms ~ 3091.164019 ms\n        tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n        [&](tbb::blocked_range<size_t> r) {\n            std::vector<float> tmpArr;\n            tmpArr.reserve(r.size());\n            for (size_t i = r.begin(); i < r.end(); ++i) {\n                if (float v = std::sin(i); v > 0) {\n                    tmpArr.push_back(v);\n                }\n            }\n            std::lock_guard _{mtx};\n            std::copy(tmpArr.begin(), tmpArr.end(), std::back_inserter(arr));\n        });\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u4f7f\u7528 tbb::spin_mutex \u66ff\u4ee3 std::mutex\u3002spin_mutex(\u57fa\u4e8e\u786c\u4ef6\u539f\u5b50\u6307\u4ee4)\u4f1a\u8ba9 CPU \u9677\u5165\u5faa\u73af\u7b49\u5f85, \u800c\u4e0d\u50cf mutex(\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u8c03\u5ea6)\u4f1a\u8ba9\u7ebf\u7a0b\u8fdb\u5165\u4f11\u7720\u72b6\u6001\u7684\u7b49\u5f85\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u82e5\u4e0a\u9501\u7684\u533a\u57df\u8f83\u5c0f, \u53ef\u4ee5\u7528\u8f7b\u91cf\u7ea7\u7684 spin_mutex\u3002\u82e5\u4e0a\u9501\u7684\u533a\u57df\u5f88\u5927, \u5219\u5faa\u73af\u7b49\u5f85\u53ea\u4f1a\u6d6a\u8d39 CPU \u65f6\u95f4\u3002\u8fd9\u91cc\u9501\u7684\u533a\u57df\u662f std::copy, \u6bd4\u8f83\u5927, \u6240\u4ee5 spin_mutex \u6548\u679c\u4e0d\u5982 mutex \u597d\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u52a0\u901f\u6bd4: 1.04 ~ 13.46 \u500d"}),"\n",(0,a.jsxs)(e.div,{className:"markdown-alert markdown-alert-tip",children:["\n",(0,a.jsxs)(e.p,{className:"markdown-alert-title",children:[(0,a.jsx)(e.span,{className:"octicon octicon-tip",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-light-bulb mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Tip"]}),"\n",(0,a.jsx)(e.p,{children:"\u8fd8\u6709 tbb::spin_rw_mutex \u5bf9\u6807 std::shared_mutex"}),"\n"]}),"\n",(0,a.jsx)(e.h3,{id:"78-\u5e76\u884c\u7b5b\u90097-pod",children:"7.8 \u5e76\u884c\u7b5b\u90097 pod"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <atomic>\n#include <cmath>\n#include <tbb/blocked_range.h>\n#include <tbb/parallel_for.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\ntemplate <class T>\nstruct pod {\nprivate:\n    T _t;\n\npublic:\n    pod() {}\n\n    pod(pod &&p) : _t(std::move(p._t)) {}\n\n    pod(pod const &p) : _t(p._t) {}\n\n    pod &operator=(pod &&p) {\n        _t = std::move(p._t);\n        return *this;\n    }\n\n    pod &operator=(pod const &p) {\n        _t = p._t;\n        return *this;\n    }\n\n    pod(T &&t) : _t(std::move(t)) {}\n\n    pod(T const &t) : _t(t) {}\n\n    pod &operator=(T &&t) {\n        _t = std::move(t);\n        return *this;\n    }\n\n    pod &operator=(T const &t) {\n        _t = t;\n        return *this;\n    }\n\n    operator T const &() const {\n        return _t;\n    }\n\n    operator T &() {\n        return _t;\n    }\n\n    T const &get() const {\n        return _t;\n    }\n\n    T &get() {\n        return _t;\n    }\n\n    template <class... Ts>\n    pod &emplace(Ts &&...ts) {\n        ::new (&_t) T(std::forward<Ts>(ts)...);\n        return *this;\n    }\n\n    void destroy() {\n        _t.~T();\n    }\n};\n\nint main() {\n    size_t n = 1 << 27;\n    std::vector<pod<float>> arr;\n    arr.reserve(n); // \u9884\u7559\u7a7a\u95f4\n    std::atomic<size_t> arrSize = 0;\n    {\n        HX::STL::utils::TickTock<> _{"08_tbb_filter_pod"}; // 221.490339 ms\n        tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n        [&](tbb::blocked_range<size_t> r) {\n            std::vector<pod<float>> tmpArr(r.size());\n            size_t tmpArrSize = 0;\n            for (size_t i = r.begin(); i < r.end(); ++i) {\n                if (float v = std::sin(i); v > 0) {\n                    tmpArr[tmpArrSize++] = v;\n                }\n            }\n            size_t base = arrSize.fetch_add(tmpArrSize);\n            for (size_t i = 0; i < tmpArrSize; ++i) {\n                arr[base++] = tmpArr[i];\n            }\n        });\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u5f7b\u5e95\u907f\u514d\u4e86\u4e92\u65a5\u91cf, \u5b8c\u5168\u901a\u8fc7\u9884\u5148\u51c6\u5907\u597d\u7684\u5927\u5c0f, \u914d\u5408 atomic \u9012\u589e\u7d22\u5f15\u6279\u91cf\u5199\u5165\u3002\u540c\u65f6\u7528\u5c0f\u5f6d\u8001\u5e08\u62cd\u8111\u888b\u60f3\u5230\u7684 pod \u6a21\u677f\u7c7b, \u4f7f\u5f97 vector \u7684 resize \u4e0d\u4f1a\u96f6\u521d\u59cb\u5316\u5176\u4e2d\u7684\u503c\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u52a0\u901f\u6bd4: 14.53 \u500d"}),"\n",(0,a.jsx)(e.h3,{id:"79-\u5e76\u884c\u7b5b\u90098-\u4e0d\u63a8\u8350",children:"7.9 \u5e76\u884c\u7b5b\u90098 (\u4e0d\u63a8\u8350)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <cmath>\n#include <tbb/blocked_range.h>\n#include <tbb/parallel_reduce.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 27;\n    {\n        HX::STL::utils::TickTock<> _{"09_tbb_filter_\u4e0d\u63a8\u8350"}; // 1803.93155 ms\n        tbb::parallel_reduce(tbb::blocked_range<size_t>(0, n), std::vector<float>{},\n        [&](tbb::blocked_range<size_t> r, std::vector<float> local_arr) {\n            local_arr.reserve(local_arr.size() + r.size());\n            for (size_t i = r.begin(); i < r.end(); ++i) {\n                if (float v = std::sin(i); v > 0) {\n                    local_arr.push_back(v);\n                }\n            }\n            return local_arr;\n        }, [] (std::vector<float> a, std::vector<float> const& b) {\n            std::copy(b.begin(), b.end(), std::back_inserter(a));\n            return a;\n        });\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u800c\u662f\u7528 std::vector \u4f5c\u4e3a parallel_reduce \u7684\u5143\u7d20\u7c7b\u578b, \u901a\u8fc7\u5408\u5e76\u5f97\u51fa\u6700\u7ec8\u7ed3\u679c, \u4e5f\u662f\u53ef\u4ee5\u7684\u3002\u5f88\u76f4\u89c2, \u53ef\u60dc\u52a0\u901f\u6548\u679c\u4e0d\u597d\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u52a0\u901f\u6bd4: 1.78 \u500d"}),"\n",(0,a.jsx)(e.h3,{id:"710-\u5e76\u884c\u7b5b\u90099-\u7528\u4e8egpu",children:"7.10 \u5e76\u884c\u7b5b\u90099 (\u7528\u4e8eGPU)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <cmath>\n#include <tbb/blocked_range.h>\n#include <tbb/parallel_for.h>\n#include <tbb/parallel_scan.h>\n#include "pod.hpp"\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 27;\n    std::vector<pod<float>> arr(n);\n    std::vector<pod<size_t>> ind(n + 1);\n    {\n        HX::STL::utils::TickTock<> _{"10_tbb_filter_gpu"}; // 331.844234 ms\n        tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n        [&](tbb::blocked_range<size_t> r) {\n            for (size_t i = r.begin(); i < r.end(); ++i) {\n                arr[i] = std::sin(i);\n            }\n        });\n        ind[0] = 0;\n        tbb::parallel_scan(tbb::blocked_range<size_t>(0, n), (size_t)0,\n        [&](tbb::blocked_range<size_t> r, size_t sum, auto is_final) {\n            for (size_t i = r.begin(); i < r.end(); ++i) {\n                sum += arr[i] > 0 ? 1 : 0;\n                if (is_final) {\n                    ind[i + 1] = sum;\n                }\n            }\n            return sum;\n        }, [](size_t x, size_t y) {\n            return x + y;\n        });\n        std::vector<pod<float>> res(ind.back());\n        tbb::parallel_for(tbb::blocked_range<size_t>(0, n),\n        [&](tbb::blocked_range<size_t> r) {\n            for (size_t i = r.begin(); i < r.end(); ++i) {\n                if (arr[i] > 0) {\n                    res[ind[i]] = arr[i];\n                }\n            }\n        });\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u7ebf\u7a0b\u7c92\u5ea6\u5f88\u7ec6, \u6838\u5fc3\u6570\u91cf\u5f88\u591a\u7684 GPU, \u5f80\u5f80\u6ca1\u529e\u6cd5\u7528 concurrent_vector \u548c thread-local vector\u3002\u6216\u662f\u4f60\u9700\u8981\u4fdd\u8bc1\u7b5b\u9009\u524d\u540e\u987a\u5e8f\u4e0d\u53d8\u3002\u8fd9\u65f6\u8981\u628a\u7b5b\u9009\u5206\u4e3a\u4e09\u6b65:"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u7b97\u51fa\u6bcf\u4e2a\u5143\u7d20\u9700\u8981\u5f80 vector \u63a8\u9001\u6570\u636e\u7684\u6570\u91cf(\u672c\u4f8b\u4e2d\u53ea\u6709 0 \u548c 1 \u4e24\u79cd\u53ef\u80fd)"}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u5bf9\u521a\u521a\u7b97\u51fa\u7684\u6570\u636e\u8fdb\u884c\u5e76\u884c\u626b\u63cf(scan), \u5f97\u51fa\u6bcf\u4e2a i \u8981\u5199\u5165\u7684\u7d22\u5f15\u3002"}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u518d\u6b21\u5bf9\u6bcf\u4e2a\u5143\u7d20\u5e76\u884c for \u5faa\u73af, \u6839\u636e\u521a\u521a\u751f\u6210\u5199\u5165\u7684\u7d22\u5f15, \u4f9d\u6b21\u5199\u5165\u6570\u636e\u3002"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"\u52a0\u901f\u6bd4: 9.70 \u500d(\u8003\u8651\u5230\u8fd9\u91cc ind \u53ea\u6709 0 \u548c 1, \u5e94\u8be5\u5927\u6709\u4f18\u5316\u7a7a\u95f4)"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-05_23-54-56.png ##w500##",src:s(83881).A+"",width:"972",height:"691"})})})})]}),"\n",(0,a.jsx)(e.h2,{id:"\u7b2c8\u7ae0-\u5206\u6cbb\u4e0e\u6392\u5e8f",children:"\u7b2c8\u7ae0: \u5206\u6cbb\u4e0e\u6392\u5e8f"}),"\n",(0,a.jsx)(e.h3,{id:"81-\u5206\u6cbb",children:"8.1 \u5206\u6cbb"}),"\n",(0,a.jsx)(e.h4,{id:"811-\u6734\u7d20\u7248\u672c",children:"8.1.1 \u6734\u7d20\u7248\u672c"}),"\n",(0,a.jsx)(e.p,{children:"\u4ee5\u9012\u5f52\u6c42\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7b2cn\u9879\u4e3a\u4f8b"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <HXSTL/utils/TickTock.hpp>\n\nint fib(int n) {\n    if (n < 2)\n        return n;\n    return fib(n - 1) + fib(n - 2);\n}\n\nint main() {\n    {\n        HX::STL::utils::TickTock<> _{"01_std_fib"}; // 166.963338 ms\n        HX::print::println(fib(39));\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.h4,{id:"812-\u6734\u7d20\u5e76\u884c\u7248\u672c",children:"8.1.2 \u6734\u7d20\u5e76\u884c\u7248\u672c"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <tbb/task_group.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint fib(int n) {\n    if (n < 2)\n        return n;\n    int a, b;\n    tbb::task_group tg;\n    tg.run([&]{\n        a = fib(n - 1);\n    });\n    tg.run([&]{\n        b = fib(n - 2);\n    });\n    tg.wait();\n    return a + b;\n}\n\nint main() {\n    {\n        HX::STL::utils::TickTock<> _{"02_tbb_task_fib"}; // 1617.252967 ms\n        HX::print::println(fib(39));\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.h4,{id:"813-\u5e76\u884c-\u4f7f\u7528parallel_invoke",children:"8.1.3 \u5e76\u884c: \u4f7f\u7528parallel_invoke"}),"\n",(0,a.jsxs)(e.div,{className:"markdown-alert markdown-alert-note",children:["\n",(0,a.jsxs)(e.p,{className:"markdown-alert-title",children:[(0,a.jsx)(e.span,{className:"octicon octicon-note",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-info mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Note"]}),"\n",(0,a.jsx)(e.p,{children:"tbb::task_group \u7684\u5c01\u88c5: tbb::parallel_invoke"}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <tbb/parallel_invoke.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint fib(int n) {\n    if (n < 2)\n        return n;\n    int a, b;\n    tbb::parallel_invoke([&]{\n        a = fib(n - 1);\n    }, [&]{\n        b = fib(n - 2);\n    });\n    return a + b;\n}\n\nint main() {\n    {\n        HX::STL::utils::TickTock<> _{"03_tbb_parallel_invoke_fib"}; // 1030.86636 ms\n        HX::print::println(fib(39));\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.h4,{id:"814-\u4efb\u52a1\u5212\u5206\u5f97\u591f\u7ec6\u65f6-\u8f6c\u4e3a\u4e32\u884c",children:"8.1.4 \u4efb\u52a1\u5212\u5206\u5f97\u591f\u7ec6\u65f6, \u8f6c\u4e3a\u4e32\u884c"}),"\n",(0,a.jsx)(e.p,{children:"\u4efb\u52a1\u5212\u5206\u5f97\u591f\u7ec6\u65f6, \u8f6c\u4e3a\u4e32\u884c, \u7f13\u89e3\u8c03\u5ea6\u8d1f\u62c5(scheduling overhead)"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-06_19-58-36.png ##w500##",src:s(3153).A+"",width:"777",height:"324"})})})})]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <tbb/parallel_invoke.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint serial_fib(int n) {\n    return n < 2 ? n : serial_fib(n - 1) + serial_fib(n - 2);\n}\n\nint fib(int n) {\n    if (n < 29)\n        return serial_fib(n);\n    int a, b;\n    tbb::parallel_invoke([&]{\n        a = fib(n - 1);\n    }, [&]{\n        b = fib(n - 2);\n    });\n    return a + b;\n}\n\nint main() {\n    {\n        HX::STL::utils::TickTock<> _{"04_tbb_scheduling_overhead_fib"}; // 15.479511 ms\n        HX::print::println(fib(39));\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.h3,{id:"82-\u6392\u5e8f",children:"8.2 \u6392\u5e8f"}),"\n",(0,a.jsx)(e.h4,{id:"821-\u6807\u51c6\u5e93\u7684\u6392\u5e8f",children:"8.2.1 \u6807\u51c6\u5e93\u7684\u6392\u5e8f"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <algorithm>\n#include <vector>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 22;\n    std::vector<int> arr(n);\n    std::generate(arr.begin(), arr.end(), std::rand);\n    {\n        HX::STL::utils::TickTock<> _{"01_std_sort"}; // 516.089914 ms\n        std::sort(arr.begin(), arr.end(), std::less<>{});\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.h4,{id:"822-\u624b\u5199\u7684\u57fa\u4e8estdhash\u7684\u5feb\u6392",children:"8.2.2 \u624b\u5199\u7684\u57fa\u4e8estd::hash\u7684\u5feb\u6392"}),"\n",(0,a.jsx)(e.p,{children:"std::hash \u7528\u4e8e\u4ece\u8f93\u5165\u751f\u6210\u968f\u673a\u6570, \u8f93\u5165\u4e0d\u53d8\u5219\u7ed3\u679c\u4e0d\u53d8\u3002"}),"\n",(0,a.jsxs)(e.p,{children:["\u968f\u673a\u67a2\u8f74\u7684\u4f4d\u7f6e\u9632\u6b62\u6570\u636e\u5df2\u7ecf\u6709\u5e8f\u9020\u6210\u6700\u574f\u7684 ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"O"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsxs)(e.msup,{children:[(0,a.jsx)(e.mi,{children:"n"}),(0,a.jsx)(e.mn,{children:"2"})]}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(n^2)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1.0641em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsxs)(e.span,{className:"mord",children:[(0,a.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(e.span,{className:"msupsub",children:(0,a.jsx)(e.span,{className:"vlist-t",children:(0,a.jsx)(e.span,{className:"vlist-r",children:(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,a.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(e.span,{className:"mord mtight",children:"2"})})]})})})})})]}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]}),"\u3002"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <iostream>\n#include <cstdlib>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n#include "ticktock.h"\n\ntemplate <class T>\nvoid quick_sort(T *data, size_t size) {\n    if (size < 1)\n        return;\n    size_t mid = std::hash<size_t>{}(size);\n    mid ^= std::hash<void *>{}(static_cast<void *>(data));\n    mid %= size;\n    std::swap(data[0], data[mid]);\n    T pivot = data[0];\n    size_t left = 0, right = size - 1;\n    while (left < right) {\n        while (left < right && !(data[right] < pivot))\n            right--;\n        if (left < right)\n            data[left++] = data[right];\n        while (left < right && data[left] < pivot)\n            left++;\n        if (left < right)\n            data[right--] = data[left];\n    }\n    data[left] = pivot;\n    quick_sort(data, left);\n    quick_sort(data + left + 1, size - left - 1);\n}\n\nint main() {\n    size_t n = 1<<24;\n    std::vector<int> arr(n);\n    std::generate(arr.begin(), arr.end(), std::rand);\n    TICK(quick_sort);\n    quick_sort(arr.data(), arr.size());\n    TOCK(quick_sort);\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.h4,{id:"823-\u5e76\u884c\u5feb\u901f\u6392\u5e8f",children:"8.2.3 \u5e76\u884c\u5feb\u901f\u6392\u5e8f"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <iostream>\n#include <cstdlib>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n#include <tbb/parallel_invoke.h>\n#include "ticktock.h"\n\ntemplate <class T>\nvoid quick_sort(T *data, size_t size) {\n    if (size < 1)\n        return;\n    size_t mid = std::hash<size_t>{}(size);\n    mid ^= std::hash<void *>{}(static_cast<void *>(data));\n    mid %= size;\n    std::swap(data[0], data[mid]);\n    T pivot = data[0];\n    size_t left = 0, right = size - 1;\n    while (left < right) {\n        while (left < right && !(data[right] < pivot))\n            right--;\n        if (left < right)\n            data[left++] = data[right];\n        while (left < right && data[left] < pivot)\n            left++;\n        if (left < right)\n            data[right--] = data[left];\n    }\n    data[left] = pivot;\n    tbb::parallel_invoke([&] {\n        quick_sort(data, left);\n    }, [&] {\n        quick_sort(data + left + 1, size - left - 1);\n    });\n}\n\nint main() {\n    size_t n = 1<<24;\n    std::vector<int> arr(n);\n    std::generate(arr.begin(), arr.end(), std::rand);\n    TICK(parallel_sort);\n    quick_sort(arr.data(), arr.size());\n    TOCK(parallel_sort);\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u52a0\u901f\u6bd4: 2.05 \u500d"}),"\n",(0,a.jsx)(e.h4,{id:"824-\u6539\u8fdb-\u6570\u636e\u8db3\u591f\u5c0f\u65f6-\u5f00\u59cb\u7528\u6807\u51c6\u5e93\u4e32\u884c\u7684\u6392\u5e8f",children:"8.2.4 \u6539\u8fdb: \u6570\u636e\u8db3\u591f\u5c0f\u65f6, \u5f00\u59cb\u7528\u6807\u51c6\u5e93\u4e32\u884c\u7684\u6392\u5e8f"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <iostream>\n#include <cstdlib>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n#include <tbb/parallel_invoke.h>\n#include "ticktock.h"\n\ntemplate <class T>\nvoid quick_sort(T *data, size_t size) {\n    if (size < 1)\n        return;\n    if (size < (1<<16)) {\n        std::sort(data, data + size, std::less<T>{});\n        return;\n    }\n    size_t mid = std::hash<size_t>{}(size);\n    mid ^= std::hash<void *>{}(static_cast<void *>(data));\n    mid %= size;\n    std::swap(data[0], data[mid]);\n    T pivot = data[0];\n    size_t left = 0, right = size - 1;\n    while (left < right) {\n        while (left < right && !(data[right] < pivot))\n            right--;\n        if (left < right)\n            data[left++] = data[right];\n        while (left < right && data[left] < pivot)\n            left++;\n        if (left < right)\n            data[right--] = data[left];\n    }\n    data[left] = pivot;\n    tbb::parallel_invoke([&] {\n        quick_sort(data, left);\n    }, [&] {\n        quick_sort(data + left + 1, size - left - 1);\n    });\n}\n\nint main() {\n    size_t n = 1<<24;\n    std::vector<int> arr(n);\n    std::generate(arr.begin(), arr.end(), std::rand);\n    TICK(better_parallel_sort);\n    quick_sort(arr.data(), arr.size());\n    TOCK(better_parallel_sort);\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"(\u548c\u6807\u51c6\u5e93\u4e32\u884c\u7684 std::sort)\u52a0\u901f\u6bd4: 4.59 \u500d"}),"\n",(0,a.jsx)(e.h4,{id:"825-\u5c01\u88c5\u597d\u4e86-tbbparallel_sort",children:"8.2.5 \u5c01\u88c5\u597d\u4e86: tbb::parallel_sort"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <tbb/parallel_sort.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nint main() {\n    size_t n = 1 << 22;\n    std::vector<int> arr(n);\n    std::generate(arr.begin(), arr.end(), std::rand);\n    {\n        HX::STL::utils::TickTock<> _{"02_tbb_sort"}; // 80.744745 ms\n        tbb::parallel_sort(arr.begin(), arr.end(), std::less<>{});\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u52a0\u901f\u6bd4: 6.39 \u500d"}),"\n",(0,a.jsx)(e.h3,{id:"83-\u91cd\u65b0\u8ba4\u8bc6\u6539\u8fdb\u7684\u5e76\u884c\u7f29\u5e76",children:"8.3 \u91cd\u65b0\u8ba4\u8bc6\u6539\u8fdb\u7684\u5e76\u884c\u7f29\u5e76"}),"\n",(0,a.jsxs)(e.p,{children:["\u5176\u5b9e\u4e4b\u524d\u63d0\u5230\u201c\u6539\u8fdb\u540e\u7684\u5e76\u884c\u7f29\u5e76\u201d, \u4e5f\u662f\u4e00\u79cd\u5206\u6cbb\u6cd5\u7684\u601d\u60f3: ",(0,a.jsx)(e.strong,{children:"\u5927\u95ee\u9898\u4e00\u5206\u4e3a\u4e8c\u53d8\u6210\u5c0f\u95ee\u9898"}),", \u5206\u6d3e\u5230\u5404\u4e2aCPU\u6838\u5fc3\u4e0a, \u95ee\u9898\u8db3\u591f\u5c0f\u65f6\u76f4\u63a5\u4e32\u884c\u6c42\u89e3\u3002"]}),"\n",(0,a.jsx)(e.p,{children:"\u4ed6\u4e5f\u53ef\u4ee5\u901a\u8fc7 parallel_invoke \u5206\u6cbb\u6765\u5b9e\u73b0:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <cstdlib>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n#include <numeric>\n#include <tbb/parallel_invoke.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\ntemplate <class T>\nT quick_reduce(T *data, size_t size) {\n    if (size < (1<<16)) {\n        return std::reduce(data, data + size);\n    }\n    T sum1, sum2;\n    size_t mid = size / 2;\n    tbb::parallel_invoke([&] {\n        sum1 = quick_reduce(data, mid);\n    }, [&] {\n        sum2 = quick_reduce(data + mid, size - mid);\n    });\n    return sum1 + sum2;\n}\n\nint main() {\n    size_t n = 1<<25;\n    std::vector<int> arr(n);\n    int sum;\n    std::generate(arr.begin(), arr.end(), std::rand);\n    {\n        HX::STL::utils::TickTock<> _{"03_tbb_divide_reduce"};\n        sum = quick_reduce(arr.data(), arr.size());\n    }\n    printf("%d\\n", sum);\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"\u7b2c9\u7ae0-\u6d41\u6c34\u7ebf\u5e76\u884c",children:"\u7b2c9\u7ae0: \u6d41\u6c34\u7ebf\u5e76\u884c"}),"\n",(0,a.jsx)(e.h3,{id:"91-\u6848\u4f8b-\u6279\u91cf\u5904\u7406\u6570\u636e",children:"9.1 \u6848\u4f8b: \u6279\u91cf\u5904\u7406\u6570\u636e"}),"\n",(0,a.jsxs)(e.p,{children:["\u6ce8\u610f\u5230\u8fd9\u91cc\u7684",(0,a.jsx)(e.code,{children:"for (auto &dat: dats)"}),"\u662f\u53ef\u4ee5\u5e76\u884c\u7684, \u8bd5\u8bd5\u770b\u7528",(0,a.jsx)(e.code,{children:"tbb::parallel_for_each"}),"\u66ff\u4ee3?"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <cmath>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nstruct Data {\n    std::vector<float> arr;\n\n    Data() {\n        arr.resize(std::rand() % 100 * 500 + 10000);\n        for (size_t i = 0; i < arr.size(); i++) {\n            arr[i] = std::rand() * (1.f / (float)RAND_MAX);\n        }\n    }\n\n    void step1() {\n        for (size_t i = 0; i < arr.size(); i++) {\n            arr[i] += 3.14f;\n        }\n    }\n\n    void step2() {\n        std::vector<float> tmp(arr.size());\n        for (size_t i = 1; i < arr.size() - 1; i++) {\n            tmp[i] = arr[i - 1] + arr[i] + arr[i + 1];\n        }\n        std::swap(tmp, arr);\n    }\n\n    void step3() {\n        for (size_t i = 0; i < arr.size(); i++) {\n            arr[i] = std::sqrt(std::abs(arr[i]));\n        }\n    }\n\n    void step4() {\n        std::vector<float> tmp(arr.size());\n        for (size_t i = 1; i < arr.size() - 1; i++) {\n            tmp[i] = arr[i - 1] - 2 * arr[i] + arr[i + 1];\n        }\n        std::swap(tmp, arr);\n    }\n};\n\nint main() {\n    size_t n = 1 << 12;\n    std::vector<Data> dats(n);\n    {\n        HX::STL::utils::TickTock<> _{"01_std_for"}; // 548.912026 ms\n        for (auto &dat: dats) {\n            dat.step1();\n            dat.step2();\n            dat.step3();\n            dat.step4();\n        }\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.h3,{id:"92-\u7b80\u5355\u7c97\u66b4\u5e76\u884c-for",children:"9.2 \u7b80\u5355\u7c97\u66b4\u5e76\u884c for"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <cmath>\n#include <tbb/parallel_for_each.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nstruct Data {\n    std::vector<float> arr;\n\n    Data() {\n        arr.resize(std::rand() % 100 * 500 + 10000);\n        for (size_t i = 0; i < arr.size(); i++) {\n            arr[i] = std::rand() * (1.f / (float)RAND_MAX);\n        }\n    }\n\n    void step1() {\n        for (size_t i = 0; i < arr.size(); i++) {\n            arr[i] += 3.14f;\n        }\n    }\n\n    void step2() {\n        std::vector<float> tmp(arr.size());\n        for (size_t i = 1; i < arr.size() - 1; i++) {\n            tmp[i] = arr[i - 1] + arr[i] + arr[i + 1];\n        }\n        std::swap(tmp, arr);\n    }\n\n    void step3() {\n        for (size_t i = 0; i < arr.size(); i++) {\n            arr[i] = std::sqrt(std::abs(arr[i]));\n        }\n    }\n\n    void step4() {\n        std::vector<float> tmp(arr.size());\n        for (size_t i = 1; i < arr.size() - 1; i++) {\n            tmp[i] = arr[i - 1] - 2 * arr[i] + arr[i + 1];\n        }\n        std::swap(tmp, arr);\n    }\n};\n\nint main() {\n    size_t n = 1 << 12;\n    std::vector<Data> dats(n);\n    {\n        HX::STL::utils::TickTock<> _{"02_tbb_for"}; // 240.428032 ms\n        tbb::parallel_for_each(dats.begin(), dats.end(), [&](Data& dat) {\n            dat.step1();\n            dat.step2();\n            dat.step3();\n            dat.step4();\n        });\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u52a0\u901f\u6bd4: 2.28 \u500d"}),"\n",(0,a.jsx)(e.p,{children:"\u5f88\u4e0d\u7406\u60f3, \u4e3a\u4ec0\u4e48\uff1f"}),"\n",(0,a.jsx)(e.p,{children:"\u5f88\u7b80\u5355, \u5faa\u73af\u4f53\u592a\u5927, \u6bcf\u8dd1\u4e00\u904d\u6307\u4ee4\u7f13\u5b58\u548c\u6570\u636e\u7f13\u5b58\u90fd\u4f1a\u91cd\u65b0\u5931\u6548\u4e00\u904d\u3002\u4e14\u6bcf\u4e2a\u6838\u5fc3\u90fd\u5728\u8bfb\u5199\u4e0d\u540c\u5730\u65b9\u7684\u6570\u636e, \u4e0d\u80fd\u5f88\u597d\u7684\u5229\u7528\u4e09\u7ea7\u7f13\u5b58, \u5bfc\u81f4\u5185\u5b58\u6210\u4e3a\u74f6\u9888\u3002"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-06_20-43-00.png ##w500##",src:s(12138).A+"",width:"888",height:"645"})})})})]}),"\n",(0,a.jsx)(e.h3,{id:"93-\u62c6\u5206\u4e3a\u56db\u4e2a-for",children:"9.3 \u62c6\u5206\u4e3a\u56db\u4e2a for"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <cmath>\n#include <tbb/parallel_for_each.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nstruct Data {\n    std::vector<float> arr;\n\n    Data() {\n        arr.resize(std::rand() % 100 * 500 + 10000);\n        for (size_t i = 0; i < arr.size(); i++) {\n            arr[i] = std::rand() * (1.f / (float)RAND_MAX);\n        }\n    }\n\n    void step1() {\n        for (size_t i = 0; i < arr.size(); i++) {\n            arr[i] += 3.14f;\n        }\n    }\n\n    void step2() {\n        std::vector<float> tmp(arr.size());\n        for (size_t i = 1; i < arr.size() - 1; i++) {\n            tmp[i] = arr[i - 1] + arr[i] + arr[i + 1];\n        }\n        std::swap(tmp, arr);\n    }\n\n    void step3() {\n        for (size_t i = 0; i < arr.size(); i++) {\n            arr[i] = std::sqrt(std::abs(arr[i]));\n        }\n    }\n\n    void step4() {\n        std::vector<float> tmp(arr.size());\n        for (size_t i = 1; i < arr.size() - 1; i++) {\n            tmp[i] = arr[i - 1] - 2 * arr[i] + arr[i + 1];\n        }\n        std::swap(tmp, arr);\n    }\n};\n\nint main() {\n    size_t n = 1 << 12;\n    std::vector<Data> dats(n);\n    {\n        HX::STL::utils::TickTock<> _{"03_tbb_4for"}; // 274.305111 ms\n        tbb::parallel_for_each(dats.begin(), dats.end(), [&](Data& dat) {\n            dat.step1();\n        });\n        tbb::parallel_for_each(dats.begin(), dats.end(), [&](Data& dat) {\n            dat.step2();\n        });\n        tbb::parallel_for_each(dats.begin(), dats.end(), [&](Data& dat) {\n            dat.step3();\n        });\n        tbb::parallel_for_each(dats.begin(), dats.end(), [&](Data& dat) {\n            dat.step4();\n        });\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u52a0\u901f\u6bd4: 2.00 \u500d"}),"\n",(0,a.jsx)(e.p,{children:"\u89e3\u51b3\u4e86\u6307\u4ee4\u7f13\u5b58\u5931\u6548\u95ee\u9898, \u4f46\u662f4\u6b21\u72ec\u7acb\u7684for\u5faa\u73af\u6bcf\u6b21\u7ed3\u675f\u90fd\u9700\u8981\u540c\u6b65, \u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u59a8\u788d\u4e86CPU\u53d1\u6325\u6027\u80fd\uff1b\u800c\u4e14\u6bcf\u4e2astep\u540e\u4f9d\u7136\u5199\u56de\u4e86\u6570\u7ec4, \u6570\u636e\u7f13\u5b58\u6ca1\u6cd5\u5145\u5206\u5229\u7528\u3002"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-06_20-47-31.png ##w500##",src:s(45742).A+"",width:"889",height:"654"})})})})]}),"\n",(0,a.jsx)(e.h3,{id:"94-\u53e6\u8f9f\u8e4a\u5f84-\u6d41\u6c34\u7ebf\u5e76\u884c",children:"9.4 \u53e6\u8f9f\u8e4a\u5f84: \u6d41\u6c34\u7ebf\u5e76\u884c"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-C++",children:'#include <vector>\n#include <cmath>\n#include <tbb/parallel_pipeline.h>\n\n#include <HXSTL/utils/TickTock.hpp>\n\nstruct Data {\n    std::vector<float> arr;\n\n    Data() {\n        arr.resize(std::rand() % 100 * 500 + 10000);\n        for (size_t i = 0; i < arr.size(); i++) {\n            arr[i] = std::rand() * (1.f / (float)RAND_MAX);\n        }\n    }\n\n    void step1() {\n        for (size_t i = 0; i < arr.size(); i++) {\n            arr[i] += 3.14f;\n        }\n    }\n\n    void step2() {\n        std::vector<float> tmp(arr.size());\n        for (size_t i = 1; i < arr.size() - 1; i++) {\n            tmp[i] = arr[i - 1] + arr[i] + arr[i + 1];\n        }\n        std::swap(tmp, arr);\n    }\n\n    void step3() {\n        for (size_t i = 0; i < arr.size(); i++) {\n            arr[i] = std::sqrt(std::abs(arr[i]));\n        }\n    }\n\n    void step4() {\n        std::vector<float> tmp(arr.size());\n        for (size_t i = 1; i < arr.size() - 1; i++) {\n            tmp[i] = arr[i - 1] - 2 * arr[i] + arr[i + 1];\n        }\n        std::swap(tmp, arr);\n    }\n};\n\nint main() {\n    size_t n = 1 << 12;\n    std::vector<Data> dats(n);\n    {\n        HX::STL::utils::TickTock<> _{"04_tbb_pipeline"}; // 01.18595 ms\n        auto it = dats.begin();\n        tbb::parallel_pipeline(8, tbb::make_filter<void, Data*>(tbb::filter_mode::serial_in_order, \n        [&](tbb::flow_control& fc) -> Data* {\n            if (it == dats.end()) {\n                fc.stop();\n                return nullptr;\n            }\n            return &*it++;\n        }), tbb::make_filter<Data*, Data*>(tbb::filter_mode::parallel,\n        [&](Data* dat) {\n            dat->step1();\n            return dat;\n        }), tbb::make_filter<Data*, Data*>(tbb::filter_mode::parallel,\n        [&](Data* dat) {\n            dat->step2();\n            return dat;\n        }), tbb::make_filter<Data*, Data*>(tbb::filter_mode::parallel,\n        [&](Data* dat) {\n            dat->step3();\n            return dat;\n        }), tbb::make_filter<Data*, void>(tbb::filter_mode::parallel,\n        [&](Data* dat) {\n            dat->step4();\n        }));\n    }\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u52a0\u901f\u6bd4: 6.73 \u500d"}),"\n",(0,a.jsx)(e.p,{children:"\u53cd\u76f4\u89c9\u7684\u5e76\u884c\u65b9\u5f0f, \u4f46\u662f\u52a0\u901f\u6548\u679c\u5374\u5f88\u7406\u60f3, \u4e3a\u4ec0\u4e48\uff1f"}),"\n",(0,a.jsx)(e.p,{children:"\u6d41\u6c34\u7ebf\u6a21\u5f0f\u4e0b\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u53ea\u505a\u81ea\u5df1\u7684\u90a3\u4e2a\u6b65\u9aa4(filter), \u4ece\u800c\u5bf9\u6307\u4ee4\u7f13\u5b58\u66f4\u53cb\u597d\u3002\u4e14\u4e00\u4e2a\u6838\u5fc3\u5904\u7406\u5b8c\u7684\u6570\u636e\u5f88\u5feb\u4f1a\u88ab\u53e6\u4e00\u4e2a\u6838\u5fc3\u7528\u4e0a, \u5bf9\u4e09\u7ea7\u7f13\u5b58\u6bd4\u8f83\u53cb\u597d, \u4e5f\u8282\u7701\u5185\u5b58\u3002"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-06_20-58-13.png ##w500##",src:s(49254).A+"",width:"1251",height:"592"})})})})]}),"\n",(0,a.jsx)(e.p,{children:"\u4e14 TBB \u7684\u6d41\u6c34\u7ebf, \u5176\u5b9e\u6bd4\u6559\u79d1\u4e66\u4e0a\u63cf\u8ff0\u7684\u4f20\u7edf\u6d41\u6c34\u7ebf\u5e76\u884c\u66f4\u52a0\u4f18\u5316:"}),"\n",(0,a.jsx)(e.p,{children:"\u4ed6\u5728 t1 \u7ebf\u7a0b\u7b97\u5b8c d1 \u7684 s1 \u65f6, \u4f1a\u7ee7\u7eed\u8ba9 t1 \u8d1f\u8d23\u7b97 d1 \u7684 s2, \u8fd9\u6837 d1 \u7684\u6570\u636e\u5c31\u662f\u5728\u4e8c\u7ea7\u7f13\u5b58\u91cc, \u6bd4\u8c03\u5ea6\u5230\u8ba9 t2 \u7b97\u9700\u8981\u8fdb\u5165\u4e09\u7ea7\u7f13\u5b58\u66f4\u9ad8\u6548\u3002\u800c\u5f53 t2 \u7684\u961f\u5217\u6bd4\u8f83\u7a7a\u65f6, \u53c8\u4f1a\u8ba9 t1 \u7ee7\u7eed\u7b97 d2 \u7684 s2, \u8fd9\u6837\u53ef\u4ee5\u907f\u514d t2 \u95f2\u7f6e\u6d6a\u8d39\u65f6\u95f4\u3002\u603b\u4e4b\u5c31\u662f\u4f1a\u81ea\u52a8\u8d1f\u8f7d\u5747\u8861\u975e\u5e38\u667a\u80fd, \u5b8c\u5168\u65e0\u9700\u64cd\u5fc3\u5185\u90e8\u7ec6\u8282\u3002"}),"\n",(0,a.jsx)(e.h3,{id:"95-\u6d41\u6c34\u7ebf\u5e76\u884c-filter-\u53c2\u6570",children:"9.5 \u6d41\u6c34\u7ebf\u5e76\u884c: filter \u53c2\u6570"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"serial_in_order"}),": \u8868\u793a\u5f53\u524d\u6b65\u9aa4\u53ea\u5141\u8bb8\u4e32\u884c\u6267\u884c, \u4e14\u6267\u884c\u7684\u987a\u5e8f\u5fc5\u987b\u4e00\u81f4\u3002"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"serial_out_of_order"}),": \u8868\u793a\u53ea\u5141\u8bb8\u4e32\u884c\u6267\u884c, \u4f46\u662f\u987a\u5e8f\u53ef\u4ee5\u6253\u4e71\u3002"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"parallel"}),": \u8868\u793a\u53ef\u4ee5\u5e76\u884c\u6267\u884c\u5f53\u524d\u6b65\u9aa4, \u4e14\u987a\u5e8f\u53ef\u4ee5\u6253\u4e71\u3002"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"\u6bcf\u4e00\u4e2a\u6b65\u9aa4(filter)\u7684\u8f93\u5165\u548c\u8fd4\u56de\u7c7b\u578b\u90fd\u53ef\u4ee5\u4e0d\u4e00\u6837\u3002"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"\u8981\u6c42"}),": \u6d41\u6c34\u7ebf\u4e0a\u4e00\u6b65\u7684\u8fd4\u56de\u7c7b\u578b, \u5fc5\u987b\u548c\u4e0b\u4e00\u6b65\u7684\u8f93\u5165\u7c7b\u578b\u4e00\u81f4\u3002\u4e14\u7b2c\u4e00\u6b65\u7684\u6ca1\u6709\u8f93\u5165, \u6700\u540e\u4e00\u6b65\u6ca1\u6709\u8fd4\u56de, \u6240\u4ee5\u90fd\u4e3a",(0,a.jsx)(e.code,{children:"void"}),"\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["TBB \u652f\u6301\u5d4c\u5957\u7684\u5e76\u884c, \u56e0\u6b64\u6d41\u6c34\u7ebf\u5185\u90e8\u4e5f\u53ef\u4ee5\u8c03\u7528",(0,a.jsx)(e.code,{children:"tbb::parallel_for"}),"\u8fdb\u4e00\u6b65\u5e76\u884c\u3002"]}),"\n",(0,a.jsx)(e.h3,{id:"96-\u6d41\u6c34\u7ebf\u7684\u5229\u5f0a",children:"9.6 \u6d41\u6c34\u7ebf\u7684\u5229\u5f0a"}),"\n",(0,a.jsx)(e.p,{children:"\u6d41\u6c34\u7ebf\u5f0f\u7684\u5e76\u884c, \u56e0\u4e3a\u6bcf\u4e2a\u7ebf\u7a0b\u6267\u884c\u7684\u6307\u4ee4\u4e4b\u95f4\u5f80\u5f80\u6ca1\u6709\u5173\u7cfb, \u4e3b\u8981\u9002\u7528\u4e8e\u5404\u4e2a\u6838\u5fc3\u53ef\u4ee5\u72ec\u7acb\u5de5\u4f5c\u7684 CPU, GPU \u4e0a\u5219\u6709 stream \u4f5c\u4e3a\u66ff\u4ee3\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u6d41\u6c34\u7ebf\u989d\u5916\u7684\u597d\u5904\u662f\u53ef\u4ee5\u6307\u5b9a\u4e00\u90e8\u5206 filter \u4e3a\u4e32\u884c\u7684(\u5982\u679c\u4ed6\u4eec\u6ca1\u529e\u6cd5\u5e76\u884c\u8c03\u7528\u7684\u8bdd)\u800c\u5176\u4ed6 filter \u53ef\u4ee5\u548c\u4ed6\u540c\u65f6\u5e76\u884c\u8fd0\u884c\u3002\u8fd9\u53ef\u4ee5\u5e94\u5bf9\u4e00\u4e9b\u4e0d\u65b9\u4fbf\u5e76\u884c, \u6216\u8005\u6267\u884c\u524d\u540e\u7684\u6570\u636e\u6709\u4f9d\u8d56, \u4f46\u662f\u53ef\u4ee5\u62c6\u5206\u6210\u591a\u4e2a\u6b65\u9aa4(filter)\u7684\u590d\u6742\u4e1a\u52a1\u3002"}),"\n",(0,a.jsxs)(e.p,{children:["\u8fd8\u6709\u597d\u5904\u662f\u4ed6\u65e0\u9700\u5148\u628a\u6570\u636e\u5168\u8bfb\u5230\u4e00\u4e2a\u5185\u5b58\u6570\u7ec4\u91cc, \u53ef\u4ee5",(0,a.jsx)(e.strong,{children:"\u6d41\u5f0f\u5904\u7406\u6570\u636e(on-fly)"}),", \u8282\u7701\u5185\u5b58\u3002"]}),"\n",(0,a.jsx)(e.p,{children:"\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u6d41\u6c34\u7ebf\u6bcf\u4e2a\u6b65\u9aa4(filter)\u91cc\u7684\u5de5\u4f5c\u91cf\u6700\u597d\u8db3\u591f\u5927, \u5426\u5219\u65e0\u6cd5\u63a9\u76d6\u8c03\u5ea6overhead\u3002"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-06_21-02-41.png ##w500##",src:s(14809).A+"",width:"929",height:"1028"})})})})]}),"\n",(0,a.jsx)(e.h2,{id:"\u603b\u7ed3-\u5404\u79cd\u5e76\u884c\u6a21\u5f0f",children:"\u603b\u7ed3: \u5404\u79cd\u5e76\u884c\u6a21\u5f0f"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u4ece\u4e32\u884c\u5230\u5e76\u884c, \u4ece\u6765\u5c31\u6ca1\u6709\u4ec0\u4e48\u4e07\u80fd\u818f\u836f\u3002"}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"CPU\u4e0a\u7684\u5e76\u884c\u5c1a\u4e14\u5982\u6b64, \u4f55\u51b5GPU\u3002"}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u719f\u6089\u539f\u7406\u3001\u53cd\u590d\u5b9e\u9a8c, \u624d\u80fd\u4f18\u5316\u51fa\u597d\u7a0b\u5e8f\u3002"}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u672c\u8bfe\u4ec5\u5165\u95e8, \u6df1\u5165\u53ef\u4ee5\u770b Pro TBB \u8fd9\u672c\u4e66\u3002"}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u4f18\u5316\u91cd\u70b9\u5728\u4e8e\u7a0b\u5e8f\u7684\u74f6\u9888\u90e8\u5206, \u4e0d\u7528\u5728\u5c0f\u7ec6\u8282\u4e0a\u6d6a\u8d39\u7cbe\u529b\u3002\u5982\u679c\u6709\u4e2a O(n\xb2) \u7684\u5faa\u73af\u4f53, \u5219\u53ea\u770b\u4ed6, \u5e76\u65e0\u89c6\u4e00\u65c1\u7684 O(n) \u5faa\u73af\u4f53\u3002"}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,a.jsx)(e.tbody,{children:(0,a.jsx)(e.tr,{children:(0,a.jsx)(e.td,{style:{textAlign:"center"},children:(0,a.jsx)(e.img,{alt:"PixPin_2025-03-06_21-03-52.png ##w500##",src:s(78390).A+"",width:"876",height:"654"})})})})]})]})}function m(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(h,{...n})}):h(n)}},43591:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-03_14-46-57-04d4decdced86ee84e4a230704fa76e7.png"},45742:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-06_20-47-31-97fd52548b5c4fe81c4ffa818f6720c2.png"},49254:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-06_20-58-13-69082f1cb4843e113d1eefa30d62625d.png"},51149:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-03_20-07-35-6d2a471a69f39bbf7443f897c146f04b.png"},52303:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-04_15-34-49-9a9a3a9bf9049d84e7e9396eee9e782f.png"},59686:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-03_10-45-13-0ac17d9770c4ac2b40de1234e2d41ce9.png"},70536:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-05_22-57-03-f5e4cb6d993640e4fdeed6282eee25fc.png"},78390:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-06_21-03-52-e291a033c5185e78f966a0f54fc44a92.png"},80698:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-03_21-06-23-5055f5bfdf491a658dd704aefe356230.png"},81213:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-04_15-36-01-30dd0c75d1cb6beecb412808e4290642.png"},81376:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-04_15-32-00-cd32cb5bc9a2765f0e01bd6b1a770727.png"},81378:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-02_17-02-49-7d862daaffa201f2219d238487784927.png"},82391:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-04_17-58-23-9f5780586a31bc5ec9ef4fa353f5260b.png"},83881:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-05_23-54-56-ad09e892bd2dde1f4f39cbe2f803cd1b.png"},96596:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/PixPin_2025-03-03_14-47-31-fb3c112deaa560633585d7836a6128ef.png"}}]);