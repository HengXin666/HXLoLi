"use strict";(self.webpackChunkhx_loli=self.webpackChunkhx_loli||[]).push([[54999],{28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var i=t(96540);const r={},s=i.createContext(r);function l(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:n},e.children)}},74640:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++QT/QML/ListView\u57fa\u7840/index","title":"ListView\u57fa\u7840","description":"\u5b98\u65b9\u6587\u6863: ListView QML Type","source":"@site/docs/002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/007-\u73b0\u4ee3C++QT/005-QML/012-ListView\u57fa\u7840/index.md","sourceDirName":"002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/007-\u73b0\u4ee3C++QT/005-QML/012-ListView\u57fa\u7840","slug":"/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++QT/QML/ListView\u57fa\u7840/","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++QT/QML/ListView\u57fa\u7840/","draft":false,"unlisted":false,"editUrl":"https://github.com/HengXin666/HXLoLi/edit/main/docs/002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/007-\u73b0\u4ee3C++QT/005-QML/012-ListView\u57fa\u7840/index.md","tags":[],"version":"current","lastUpdatedBy":"Heng_Xin_666","lastUpdatedAt":1747379049000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Repeater","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++QT/QML/Repeater/"},"next":{"title":"ComboBox\u4e0b\u62c9\u6846","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++QT/QML/ComboBox\u4e0b\u62c9\u6846/"}}');var r=t(74848),s=t(28453);const l={},o="ListView\u57fa\u7840",a={},d=[{value:"1. \u6700\u57fa\u672c\u7684\u4ee3\u7801",id:"1-\u6700\u57fa\u672c\u7684\u4ee3\u7801",level:2},{value:"2. ListModel",id:"2-listmodel",level:2},{value:"3. highlight",id:"3-highlight",level:2},{value:"4. \u9875\u7709 &amp; \u9875\u811a (header &amp; footer)",id:"4-\u9875\u7709--\u9875\u811a-header--footer",level:2},{value:"5. \u81ea\u5b9a\u4e49\u7ae0\u8282\u6807\u9898\u53ca\u5176\u5c5e\u6027 (section.property)",id:"5-\u81ea\u5b9a\u4e49\u7ae0\u8282\u6807\u9898\u53ca\u5176\u5c5e\u6027-sectionproperty",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",div:"div",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",span:"span",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"listview\u57fa\u7840",children:"ListView\u57fa\u7840"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5b98\u65b9\u6587\u6863: ",(0,r.jsx)(n.a,{href:"https://doc.qt.io/qt-6/zh/qml-qtquick-listview.html",children:"ListView QML Type"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"1-\u6700\u57fa\u672c\u7684\u4ee3\u7801",children:"1. \u6700\u57fa\u672c\u7684\u4ee3\u7801"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-qml",children:'import QtQuick\n\nWindow {\n    width: 640\n    height: 480\n    visible: true\n    title: qsTr("12: Hello World")\n\n    ListView {\n        width: 180; height: 200\n        spacing: 10 // \u8bbe\u7f6e\u5143\u7d20\u4e0a\u4e0b\u95f4\u8ddd (ListView\u9ed8\u8ba4\u662f\u5782\u76f4\u7684)\n        model: 3 // \u6570\u5b57 / list, \u63a7\u5236\u4e86\u6240\u6709\u7684\u6570\u636e\n        delegate: Text { // \u59d4\u6258: item, \u63a7\u5236\u6bcf\u4e00\u9879\u6570\u636e\u662f\u5982\u4f55\u7ed8\u5236\u7684\n            required property int index\n            text: index\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"2-listmodel",children:"2. ListModel"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-qml",children:'ListView {\n    x: 200\n    width: 180; height: 200\n    spacing: 10\n    model: ListModel {\n        ListElement {\n            // \u53ef\u4ee5\u81ea\u5b9a\u4e49\u5143\u7d20\u952e\u503c\u5bf9\n            hxName: "Bill Smith"\n            number: "555 3264"\n        }\n        ListElement {\n            hxName: "John Brown"\n            number: "555 8426"\n        }\n        ListElement {\n            hxName: "Sam Wise"\n            number: "555 0473"\n        }\n    }\n    delegate: Text {\n        required property string hxName\n        required property string number\n        text: hxName + ": " + number\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"3-highlight",children:"3. highlight"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-qml",children:'ListModel {\n    id: listModel\n    ListElement {\n        // \u53ef\u4ee5\u81ea\u5b9a\u4e49\u5143\u7d20\u952e\u503c\u5bf9\n        hxName: "Bill Smith"\n        number: "555 3264"\n    }\n    ListElement {\n        hxName: "John Brown"\n        number: "555 8426"\n    }\n    ListElement {\n        hxName: "Sam Wise"\n        number: "555 0473"\n    }\n}\n\nListView {\n    x: 200\n    id: list\n    width: 180; height: 200\n    spacing: 10\n    model: listModel\n    highlight: Rectangle { // \u9ad8\u4eae\u9009\u4e2d\u7684\u9879\n        color: "lightsteelblue"\n        radius: 5\n    }\n    delegate: Rectangle {\n        id: rect\n        width: 180; height: 30;\n        required property int index\n        required property string hxName\n        required property string number\n        color: "transparent" // \u9700\u8981\u539f\u672c\u7684\u5185\u5bb9\u662f\u900f\u660e\u7684\n        Text {\n            anchors.centerIn: parent\n            text: rect.hxName + ": " + rect.number\n        }\n        MouseArea {\n            anchors.fill: parent\n            onClicked: {\n                list.currentIndex = parent.index;          // \u5f53\u524d\u9879\u7d22\u5f15 (index)\n                console.log("idx:", list.currentIndex);    // \u5f53\u524d\u9009\u4e2d\u7684\u9879\n            }\n        }\n    }\n}\n'})}),"\n",(0,r.jsxs)(n.div,{className:"markdown-alert markdown-alert-tip",children:["\n",(0,r.jsxs)(n.p,{className:"markdown-alert-title",children:[(0,r.jsx)(n.span,{className:"octicon octicon-tip",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-light-bulb mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Tip"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4e0a\u9762\u7684 ",(0,r.jsx)(n.code,{children:"MouseArea.onClicked"})," \u7684 ",(0,r.jsx)(n.code,{children:"list"})," \u4e0d\u662f\u6b63\u786e\u7684\u5199\u6cd5, \u4f1a\u8b66\u544a:"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:'Unqualified access: Set "pragma ComponentBehavior: Bound" in order to use IDs from outer components in nested components. [unqualified] qmllint'}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"4-\u9875\u7709--\u9875\u811a-header--footer",children:"4. \u9875\u7709 & \u9875\u811a (header & footer)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-qml",children:'ListModel {\n    id: listModel\n    ListElement {\n        // \u53ef\u4ee5\u81ea\u5b9a\u4e49\u5143\u7d20\u952e\u503c\u5bf9\n        hxName: "Bill Smith"\n        number: "555 3264"\n    }\n    ListElement {\n        hxName: "John Brown"\n        number: "555 8426"\n    }\n    ListElement {\n        hxName: "Sam Wise"\n        number: "555 0473"\n    }\n}\n\nListView {\n    x: 200\n    id: list\n    width: 180; height: 200\n    spacing: 10\n    model: listModel\n    // \u9875\u7709\n    header: Rectangle {\n        width: parent.width; height: 30;\n        color: "#990099" \n    }\n    // \u9875\u811a\n    footer: Rectangle {\n        width: parent.width; height: 30;\n        color: "#2b2b2b" \n    }\n    highlight: Rectangle { // \u9ad8\u4eae\u9009\u4e2d\u7684\u9879\n        color: "lightsteelblue"\n        radius: 5\n    }\n    delegate: Rectangle {\n        id: rect\n        width: 180; height: 30;\n        required property int index\n        required property string hxName\n        required property string number\n        property var listRef: ListView.view // \u6ce8\u610f! `ListView.view`\u53ea\u80fd\u5728\u9876\u5c42\u8bbf\u95ee\n                                            // \u5185\u5c42\u7684 MouseArea \u5d4c\u5957\u662f\u65e0\u6cd5\u8bbf\u95ee\u7684! (\u4f1a\u662fnull)\n\n        color: "transparent" // \u9700\u8981\u539f\u672c\u7684\u5185\u5bb9\u662f\u900f\u660e\u7684\n        Text {\n            anchors.centerIn: parent\n            text: rect.hxName + ": " + rect.number\n        }\n        MouseArea {\n            anchors.fill: parent\n            onClicked: {\n                // \u7279\u522b\u7684, list \u7684 delegate \u548c\u5916\u90e8\u662f\u9694\u79bb\u7684(\u56e0\u4e3a\u5b83\u662f\u5728Componen\u4e2d\u52a8\u6001\u5b9e\u4f8b\u5316\u7684),\n                // \u4e0d\u4e00\u5b9a\u80fd\u8bbf\u95ee\u5230\u5916\u90e8\u63a7\u4ef6\u7684id\n                // \u56e0\u6b64\u8ddf\u73b0\u4ee3\u7684\u505a\u6cd5\u662f\u4f7f\u7528 ListView.view \u7c7b\u4f3c\u4e8e loaderId.item \u7684\u505a\u6cd5\n                console.log("idx:", rect.listRef);      // \u5f53\u524d\u9009\u4e2d\u7684\u9879\n                rect.listRef.currentIndex = rect.index; // \u5f53\u524d\u9879\u7d22\u5f15 (index)\n            }\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"5-\u81ea\u5b9a\u4e49\u7ae0\u8282\u6807\u9898\u53ca\u5176\u5c5e\u6027-sectionproperty",children:"5. \u81ea\u5b9a\u4e49\u7ae0\u8282\u6807\u9898\u53ca\u5176\u5c5e\u6027 (section.property)"}),"\n",(0,r.jsx)(n.p,{children:"\u611f\u89c9\u6ca1\u4ec0\u4e48\u7528, \u6211\u4e5f\u6ca1\u770b\u61c2, \u77e5\u9053\u662f\u81ea\u5b9a\u4e49\u7ae0\u8282\u6807\u9898, \u4f46\u662f, \u4e3a\u4ec0\u4e48\u8be5\u6709\u7684\u5374\u6ca1\u6709?"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-qml",children:'ListView {\n    x: 400\n    width: 180; height: 200\n    spacing: 10\n    model: ListModel {\n        ListElement {\n            hxSize: "\u6807\u9898\u4e00"\n            name: "Cat"\n            section: "\u55b5\u55b5\u55b5"\n        }\n        ListElement {\n            hxSize: "\u6807\u9898\u4e5f\u5f97\u6709"\n            name: "Dog"\n            section: "\u54c7\u54c7\u54c7"\n        }\n        ListElement {\n            hxSize: "\u6807\u9898\u4e5f\u5f97\u6709"\n            name: "\u5417\u55bd"\n            section: "\u5440~\u7cca"\n        }\n        ListElement {\n            hxSize: "\u6807\u9898\u4e8c"\n            name: "Cat"\n            section: "xaxa"\n        }\n        ListElement {\n            hxSize: "\u6807\u9898\u4e5f\u5f97\u6709"\n            name: "Dog"\n            section: "\u55f7\u55f7\u55f7"\n        }\n        ListElement {\n            hxSize: "\u6807\u9898\u4e5f\u5f97\u6709"\n            name: "\u5417\u55bd"\n            section: "\u829c\u6e56"\n        }\n    }\n    delegate: Text {\n        required property string name\n        text: name\n        font.pixelSize: 18\n    }\n    section.property: "hxSize"\n    section.criteria: ViewSection.FullString\n    section.delegate: Rectangle {\n        width: ListView.view.width\n        height: 30\n        color: "lightsteelblue"\n\n        required property string section\n\n        Text {\n            text: parent.section\n            font.bold: true\n            font.pixelSize: 20\n        }\n    }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);