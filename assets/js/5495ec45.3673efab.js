"use strict";(self.webpackChunkhx_loli=self.webpackChunkhx_loli||[]).push([[6363],{28453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>s});var t=i(96540);const r={},c=t.createContext(r);function o(n){const e=t.useContext(c);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:o(n.components),t.createElement(c.Provider,{value:e},n.children)}},76860:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>s,default:()=>x,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"\u5237\u9898\u65e5\u5fd7/\u529b\u6263/\u672a\u5206\u7c7b\u9898\u89e3/\u6458\u6a31\u6843/index","title":"741. \u6458\u6a31\u6843","description":"\u94fe\u63a5: 741. \u6458\u6a31\u6843","source":"@site/docs/007-\u5237\u9898\u65e5\u5fd7/002-\u529b\u6263/003-\u672a\u5206\u7c7b\u9898\u89e3/009-\u6458\u6a31\u6843/index.md","sourceDirName":"007-\u5237\u9898\u65e5\u5fd7/002-\u529b\u6263/003-\u672a\u5206\u7c7b\u9898\u89e3/009-\u6458\u6a31\u6843","slug":"/\u5237\u9898\u65e5\u5fd7/\u529b\u6263/\u672a\u5206\u7c7b\u9898\u89e3/\u6458\u6a31\u6843/","permalink":"/HXLoLi/docs/\u5237\u9898\u65e5\u5fd7/\u529b\u6263/\u672a\u5206\u7c7b\u9898\u89e3/\u6458\u6a31\u6843/","draft":false,"unlisted":false,"editUrl":"https://github.com/HengXin666/HXLoLi/edit/main/docs/007-\u5237\u9898\u65e5\u5fd7/002-\u529b\u6263/003-\u672a\u5206\u7c7b\u9898\u89e3/009-\u6458\u6a31\u6843/index.md","tags":[],"version":"current","lastUpdatedBy":"Heng_Xin_666","lastUpdatedAt":1745851959000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u6700\u957f\u9012\u589e\u5b50\u5e8f\u5217\u7684\u4e2a\u6570","permalink":"/HXLoLi/docs/\u5237\u9898\u65e5\u5fd7/\u529b\u6263/\u672a\u5206\u7c7b\u9898\u89e3/\u6700\u957f\u9012\u589e\u5b50\u5e8f\u5217\u7684\u4e2a\u6570/"},"next":{"title":"\u5b57\u6bcd\u5927\u5c0f\u5199\u5168\u6392\u5217","permalink":"/HXLoLi/docs/\u5237\u9898\u65e5\u5fd7/\u529b\u6263/\u672a\u5206\u7c7b\u9898\u89e3/\u5b57\u6bcd\u5927\u5c0f\u5199\u5168\u6392\u5217/"}}');var r=i(74848),c=i(28453);const o={},s="741. \u6458\u6a31\u6843",l={},d=[{value:"\u9898\u89e3",id:"\u9898\u89e3",level:2},{value:"dp",id:"dp",level:3},{value:"\u9519\u8bef\u7684\u4ee3\u7801",id:"\u9519\u8bef\u7684\u4ee3\u7801",level:4},{value:"\u6b63\u786e\u7684",id:"\u6b63\u786e\u7684",level:4},{value:"\u8d39\u7528\u6d41",id:"\u8d39\u7528\u6d41",level:3}];function a(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"741-\u6458\u6a31\u6843",children:"741. \u6458\u6a31\u6843"})}),"\n",(0,r.jsxs)(e.p,{children:["\u94fe\u63a5: ",(0,r.jsx)(e.a,{href:"https://leetcode.cn/problems/cherry-pickup/",children:"741. \u6458\u6a31\u6843"})]}),"\n",(0,r.jsx)(e.p,{children:"\u7ed9\u4f60\u4e00\u4e2a n x n \u7684\u7f51\u683c grid \uff0c\u4ee3\u8868\u4e00\u5757\u6a31\u6843\u5730\uff0c\u6bcf\u4e2a\u683c\u5b50\u7531\u4ee5\u4e0b\u4e09\u79cd\u6570\u5b57\u7684\u4e00\u79cd\u6765\u8868\u793a\uff1a"}),"\n",(0,r.jsx)(e.p,{children:"0 \u8868\u793a\u8fd9\u4e2a\u683c\u5b50\u662f\u7a7a\u7684\uff0c\u6240\u4ee5\u4f60\u53ef\u4ee5\u7a7f\u8fc7\u5b83\u3002\n1 \u8868\u793a\u8fd9\u4e2a\u683c\u5b50\u91cc\u88c5\u7740\u4e00\u4e2a\u6a31\u6843\uff0c\u4f60\u53ef\u4ee5\u6458\u5230\u6a31\u6843\u7136\u540e\u7a7f\u8fc7\u5b83\u3002\n-1 \u8868\u793a\u8fd9\u4e2a\u683c\u5b50\u91cc\u6709\u8346\u68d8\uff0c\u6321\u7740\u4f60\u7684\u8def\u3002\n\u8bf7\u4f60\u7edf\u8ba1\u5e76\u8fd4\u56de\uff1a\u5728\u9075\u5b88\u4e0b\u5217\u89c4\u5219\u7684\u60c5\u51b5\u4e0b\uff0c\u80fd\u6458\u5230\u7684\u6700\u591a\u6a31\u6843\u6570\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4ece\u4f4d\u7f6e (0, 0) \u51fa\u53d1\uff0c\u6700\u540e\u5230\u8fbe (n - 1, n - 1) \uff0c\u53ea\u80fd\u5411\u4e0b\u6216\u5411\u53f3\u8d70\uff0c\u5e76\u4e14\u53ea\u80fd\u7a7f\u8d8a\u6709\u6548\u7684\u683c\u5b50\uff08\u5373\u53ea\u53ef\u4ee5\u7a7f\u8fc7\u503c\u4e3a 0 \u6216\u8005 1 \u7684\u683c\u5b50\uff09\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u5f53\u5230\u8fbe (n - 1, n - 1) \u540e\uff0c\u4f60\u8981\u7ee7\u7eed\u8d70\uff0c\u76f4\u5230\u8fd4\u56de\u5230 (0, 0) \uff0c\u53ea\u80fd\u5411\u4e0a\u6216\u5411\u5de6\u8d70\uff0c\u5e76\u4e14\u53ea\u80fd\u7a7f\u8d8a\u6709\u6548\u7684\u683c\u5b50\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u5f53\u4f60\u7ecf\u8fc7\u4e00\u4e2a\u683c\u5b50\u4e14\u8fd9\u4e2a\u683c\u5b50\u5305\u542b\u4e00\u4e2a\u6a31\u6843\u65f6\uff0c\u4f60\u5c06\u6458\u5230\u6a31\u6843\u5e76\u4e14\u8fd9\u4e2a\u683c\u5b50\u4f1a\u53d8\u6210\u7a7a\u7684\uff08\u503c\u53d8\u4e3a 0 \uff09\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679c\u5728 (0, 0) \u548c (n - 1, n - 1) \u4e4b\u95f4\u4e0d\u5b58\u5728\u4e00\u6761\u53ef\u7ecf\u8fc7\u7684\u8def\u5f84\uff0c\u5219\u65e0\u6cd5\u6458\u5230\u4efb\u4f55\u4e00\u4e2a\u6a31\u6843\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u9898\u89e3",children:"\u9898\u89e3"}),"\n",(0,r.jsx)(e.h3,{id:"dp",children:"dp"}),"\n",(0,r.jsx)(e.h4,{id:"\u9519\u8bef\u7684\u4ee3\u7801",children:"\u9519\u8bef\u7684\u4ee3\u7801"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-C++",children:"class Solution {\npublic:\n    int cherryPickup(vector<vector<int>>& grid) {\n        // bfs x / dfs x / dp\n/*\n\u9996\u5148: A -> b -> A \u7b49\u4ef7\u4e8e A -> b \u518d\u4e00\u6b21 A -> b\n\u5b9a\u4e49 f[i][j][y][x] \u4e3a\u7b2c\u4e00\u6b21\u8d70\u5230[i][j]\u7b2c\u4e8c\u6b21\u8d70\u5230[y][x]\u7684\u6700\u5927\u6a31\u6843\u6570\u91cf\n\u6709  f[i][j] = max(f[i - 1][j], f[i][j - 1]) + g[i][j]\n    f[y][x] = max(f[y + 1][x], f[y][x + 1]) + g[y][x]\n    \u51cf\u53bb\u7b2c\u4e00\u6b21\u7ecf\u8fc7\u65f6\u5019\u7684\n    f[i][j][y][x] -= f[i][j][n - 1][n - 1]\n*/\n        const int n = grid.size();\n        vector<vector<vector<vector<int>>>> f(n + 1, vector<vector<vector<int>>>(n + 1, vector<vector<int>>(n + 1, vector<int>(n + 1, 0))));\n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < n; ++j) {\n                for (int y = 0; y < n; ++y) {\n                    for (int x = 0; x < n; ++x) {\n                        if (grid[i][j] == -1 || grid[y][x] == -1) {\n                            f[i + 1][j + 1][y + 1][x + 1] = INT_MIN;\n                            continue;\n                        }\n                            \n                        f[i + 1][j + 1][y + 1][x + 1] = max(\n                            max(f[i + 1][j][y + 1][x], f[i + 1][j][y][x + 1]),\n                            max(f[i][j + 1][y + 1][x], f[i][j + 1][y][x + 1])\n                        ) + grid[i][j] + grid[y][x];\n\n                        if (i == y && j == x)\n                            f[i + 1][j + 1][y + 1][x + 1] -= grid[i][j];\n                    }\n                }\n            }\n        }\n\n        return max(f[n][n][n][n], 0);\n    }\n};\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u6b63\u786e\u7684",children:"\u6b63\u786e\u7684"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"https://leetcode.cn/problems/cherry-pickup/solutions/97703/dong-tai-gui-hua-xiang-xi-jie-xi-tu-jie-by-newhar",children:"\u52a8\u6001\u89c4\u5212-\u8be6\u7ec6\u89e3\u6790 + \u56fe\u89e3"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"https://leetcode.cn/problems/cherry-pickup/solutions/2766975/jiao-ni-yi-bu-bu-si-kao-dpcong-ji-yi-hua-ruue",children:"\u6559\u4f60\u4e00\u6b65\u6b65\u601d\u8003 DP\uff1a\u4ece\u8bb0\u5fc6\u5316\u641c\u7d22\u5230\u9012\u63a8\u5230\u7a7a\u95f4\u4f18\u5316\uff01\uff08Python/Java/C++/Go\uff09"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-C++",children:"class Solution {\npublic:\n    int cherryPickup(vector<vector<int>>& grid) {\n        int n = grid.size();\n        vector<vector<vector<int>>> f(n * 2 - 1, vector<vector<int>>(n + 1, vector<int>(n + 1, INT_MIN)));\n        f[0][1][1] = grid[0][0];\n        for (int t = 1; t < n * 2 - 1; t++) {\n            for (int j = max(t - n + 1, 0); j <= min(t, n - 1); j++) {\n                if (grid[t - j][j] < 0) continue;\n                for (int k = j; k <= min(t, n - 1); k++) {\n                    if (grid[t - k][k] < 0) continue;\n                    f[t][j + 1][k + 1] = max({f[t - 1][j + 1][k + 1], f[t - 1][j + 1][k], f[t - 1][j][k + 1], f[t - 1][j][k]}) +\n                                         grid[t - j][j] + (k != j ? grid[t - k][k] : 0);\n                }\n            }\n        }\n        return max(f[n * 2 - 2][n][n], 0);\n    }\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u8d39\u7528\u6d41",children:"\u8d39\u7528\u6d41"})]})}function x(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}}}]);