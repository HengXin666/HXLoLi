"use strict";(self.webpackChunkhx_loli=self.webpackChunkhx_loli||[]).push([[43856],{28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var i=t(96540);const s={},o=i.createContext(s);function a(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(o.Provider,{value:n},e.children)}},49995:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++\u5143\u6a21\u7248/\u7c7b\u578b\u8403\u53d6/index","title":"\u7c7b\u578b\u8403\u53d6","description":"\u6838\u5fc3\u601d\u60f3\u5b9e\u9645\u4e0a\u662f SFINAE (\\"\u4ee3\u6362\u5931\u8d25\u4e0d\u662f\u9519\u8bef\\" (Substitution Failure Is Not An Error))","source":"@site/docs/002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/004-\u73b0\u4ee3C++\u5143\u6a21\u7248/002-\u7c7b\u578b\u8403\u53d6/index.md","sourceDirName":"002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/004-\u73b0\u4ee3C++\u5143\u6a21\u7248/002-\u7c7b\u578b\u8403\u53d6","slug":"/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++\u5143\u6a21\u7248/\u7c7b\u578b\u8403\u53d6/","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++\u5143\u6a21\u7248/\u7c7b\u578b\u8403\u53d6/","draft":false,"unlisted":false,"editUrl":"https://github.com/HengXin666/HXLoLi/edit/main/docs/002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/004-\u73b0\u4ee3C++\u5143\u6a21\u7248/002-\u7c7b\u578b\u8403\u53d6/index.md","tags":[],"version":"current","lastUpdatedBy":"Heng_Xin_666","lastUpdatedAt":1749378079000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"CRTP-\u9759\u6001\u591a\u6001","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++\u5143\u6a21\u7248/CRTP-\u9759\u6001\u591a\u6001/"},"next":{"title":"auto","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++\u5143\u6a21\u7248/auto/"}}');var s=t(74848),o=t(28453);const a={},r="\u7c7b\u578b\u8403\u53d6",c={},l=[];function p(e){const n={blockquote:"blockquote",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u7c7b\u578b\u8403\u53d6",children:"\u7c7b\u578b\u8403\u53d6"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'#include <HXprint/print.h>\n\nnamespace HX {\n\ntemplate <typename T>\nstruct IsVoid {\n    inline static constexpr bool val = false;\n};\n\ntemplate <>\nstruct IsVoid<void> {\n    inline static constexpr bool val = true;\n};\n\n/**\n * @brief \u8fd9\u4e2a\u7c7b\u578b\u662f\u5426\u662f void\n * @tparam T \n */\ntemplate <typename T>\ninline constexpr bool IsVoid_V = IsVoid<T>::val;\n\n// =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n\ntemplate <typename T>\nstruct RemoveReference {\n    using type = T;\n};\n\ntemplate <typename T>\nstruct RemoveReference<T&> {\n    using type = T;\n};\n\n/**\n * @brief \u53bb\u6389\u7c7b\u578b\u5f15\u7528\n * @tparam T \n */\ntemplate <typename T>\nusing RemoveReference_T = RemoveReference<T>::type;\n\n// =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n\ntemplate <typename T, typename U>\nstruct IsSame {\n    inline static constexpr bool val = false;\n};\n\ntemplate <typename T>\nstruct IsSame<T, T> {\n    inline static constexpr bool val = true;\n};\n\n/**\n * @brief \u5224\u65ad\u8fd9\u4e24\u4e2a\u7c7b\u578b\u662f\u5426\u5b8c\u5168\u4e00\u6837\n * @tparam T \n * @tparam U \n */\ntemplate <typename T, typename U>\ninline constexpr bool IsSame_V = IsSame<T, U>::val;\n\n} // namespace HX\n\n#define INFO_CODE(__CODE__) HX::print::println(#__CODE__": ", __CODE__)\n\nint main() {\n    using namespace HX;\n\n    INFO_CODE(IsVoid_V<int>);  // false\n    INFO_CODE(IsVoid_V<void>); // true\n\n    using T1 = RemoveReference_T<int>;  // int\n    using T2 = RemoveReference_T<int&>; // int\n\n    INFO_CODE((IsSame_V<int, int&>)); // false\n    INFO_CODE((IsSame_V<T1, T2>));    // true\n    return 0;\n}\n\n#undef INFO_CODE\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u6838\u5fc3\u601d\u60f3\u5b9e\u9645\u4e0a\u662f ",(0,s.jsx)(n.code,{children:'SFINAE ("\u4ee3\u6362\u5931\u8d25\u4e0d\u662f\u9519\u8bef" (Substitution Failure Is Not An Error))'})]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u5728\u51fd\u6570\u6a21\u677f\u7684\u91cd\u8f7d\u51b3\u8bae\u4e2d\u4f1a\u5e94\u7528\u6b64\u89c4\u5219: \u5f53\u6a21\u677f\u5f62\u53c2\u5728\u66ff\u6362\u6210\u663e\u5f0f\u6307\u5b9a\u7684\u7c7b\u578b\u6216\u63a8\u5bfc\u51fa\u7684\u7c7b\u578b\u5931\u8d25\u65f6, \u4ece\u91cd\u8f7d\u96c6\u4e2d\u4e22\u5f03\u8fd9\u4e2a\u7279\u5316, \u800c\u975e\u5bfc\u81f4\u7f16\u8bd1\u5931\u8d25\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u4ed6\u4eec\u7684\u5b9e\u73b0\u662f\u591a\u79cd\u591a\u6837\u7684, \u53ef\u80fd\u662f\u7c7b\u7684\u504f\u7279\u5316\u3001\u53d8\u91cf\u7684\u504f\u7279\u5316\u3001",(0,s.jsx)(n.code,{children:"auto -> decltype(...)"}),", ",(0,s.jsx)(n.code,{children:"template"})," \u4e2d\u5199 ",(0,s.jsx)(n.code,{children:"std::enable_if"}),", \u7b49\u7b49... (\u6216\u8005\u53ef\u4ee5\u4f7f\u7528\u73b0\u4ee3\u7684",(0,s.jsx)(n.code,{children:"\u7ea6\u675f\u4e0e\u6982\u5ff5"}),"\u5199\u6cd5(C++20))"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"// \u4e3a\u4e86\u8bc1\u660e, \u4e0a\u9762\u7684 IsSame_V \u5b9e\u9645\u4e0a\u53ef\u4ee5\u4ec5\u53d8\u91cf\u7684\u504f\u7279\u5316\u5b9e\u73b0. (IsVoid\u3001RemoveReference_T \u540c\u7406; \n// \u4e0a\u9762\u53ea\u662f\u4e3a\u4e86\u5c55\u793aC++11\u7684\u5199\u6cd5 (RemoveReference<T>::type) )\n\ntemplate <typename, typename>\ninline constexpr bool IsSame_V2 = false;\n\ntemplate <typename T>\ninline constexpr bool IsSame_V2<T, T> = true;\n"})})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}}}]);