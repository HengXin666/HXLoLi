"use strict";(self.webpackChunkhx_loli=self.webpackChunkhx_loli||[]).push([[11329],{27937:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>i});const l=JSON.parse('{"id":"\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++QT/QML/MouseArea/index","title":"MouseArea","description":"\u5b98\u65b9\u6587\u6863: MouseArea QML Type","source":"@site/docs/002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/006-\u73b0\u4ee3C++QT/005-QML/005-MouseArea/index.md","sourceDirName":"002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/006-\u73b0\u4ee3C++QT/005-QML/005-MouseArea","slug":"/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++QT/QML/MouseArea/","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++QT/QML/MouseArea/","draft":false,"unlisted":false,"editUrl":"https://github.com/HengXin666/HXLoLi/edit/main/docs/002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/006-\u73b0\u4ee3C++QT/005-QML/005-MouseArea/index.md","tags":[],"version":"current","lastUpdatedBy":"Heng_Xin_666","lastUpdatedAt":1746371297000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Component\u4e0eLoader","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++QT/QML/Component\u4e0eLoader/"},"next":{"title":"Button","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u73b0\u4ee3C++QT/QML/Button/"}}');var o=s(74848),d=s(28453);const r={},c="MouseArea",t={},i=[{value:"1. \u6309\u952e\u69fd",id:"1-\u6309\u952e\u69fd",level:2},{value:"1.1 onPressed",id:"11-onpressed",level:3},{value:"1.2 onReleased",id:"12-onreleased",level:3},{value:"1.3 onClicked",id:"13-onclicked",level:3},{value:"1.4 onDoubleClicked (\u53cc\u51fb)",id:"14-ondoubleclicked-\u53cc\u51fb",level:3},{value:"2. \u8bbe\u7f6e\u76d1\u542c\u7684\u6309\u952e\u4e8b\u4ef6 (acceptedButtons)",id:"2-\u8bbe\u7f6e\u76d1\u542c\u7684\u6309\u952e\u4e8b\u4ef6-acceptedbuttons",level:2},{value:"3. \u533a\u5206\u6309\u952e\u7684\u4fe1\u53f7 (pressedButtons &amp; \u679a\u4e3e)",id:"3-\u533a\u5206\u6309\u952e\u7684\u4fe1\u53f7-pressedbuttons--\u679a\u4e3e",level:2},{value:"4. \u5224\u65ad\u9f20\u6807\u662f\u5426\u5904\u4e8e MouseArea \u5185",id:"4-\u5224\u65ad\u9f20\u6807\u662f\u5426\u5904\u4e8e-mousearea-\u5185",level:2},{value:"4.1 containsMouse",id:"41-containsmouse",level:3},{value:"4.2 containsPress",id:"42-containspress",level:3},{value:"5. \u6539\u53d8\u5149\u6807\u6837\u5f0f (cursorShape)",id:"5-\u6539\u53d8\u5149\u6807\u6837\u5f0f-cursorshape",level:2},{value:"6. \u62d6\u52a8 (drag)",id:"6-\u62d6\u52a8-drag",level:2},{value:"6.1 drag.filterChildren (\u5c5e\u6027\u7ee7\u627f)",id:"61-dragfilterchildren-\u5c5e\u6027\u7ee7\u627f",level:3},{value:"7. \u9f20\u6807\u4f4d\u7f6e",id:"7-\u9f20\u6807\u4f4d\u7f6e",level:2},{value:"8. \u957f\u6309\u9f20\u6807 (onPressAndHold)",id:"8-\u957f\u6309\u9f20\u6807-onpressandhold",level:2},{value:"9. \u4fe1\u53f7\u4f20\u9012 (propagateComposedEvents)",id:"9-\u4fe1\u53f7\u4f20\u9012-propagatecomposedevents",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",div:"div",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"mousearea",children:"MouseArea"})}),"\n",(0,o.jsxs)(n.p,{children:["\u5b98\u65b9\u6587\u6863: ",(0,o.jsx)(n.a,{href:"https://doc.qt.io/qt-6/zh/qml-qtquick-mousearea.html",children:"MouseArea QML Type"})]}),"\n",(0,o.jsx)(n.p,{children:"MouseArea \u7ee7\u627f\u81ea Item, \u5176\u662f\u4e00\u79cd\u4e0d\u53ef\u89c1\u7684\u9879\u76ee, \u901a\u5e38\u4e0e\u53ef\u89c1\u9879\u76ee\u7ed3\u5408\u4f7f\u7528. \u4ee5\u4fbf\u4e3a\u8be5\u9879\u76ee\u63d0\u4f9b\u9f20\u6807\u5904\u7406\u529f\u80fd."}),"\n",(0,o.jsx)(n.h2,{id:"1-\u6309\u952e\u69fd",children:"1. \u6309\u952e\u69fd"}),"\n",(0,o.jsx)(n.h3,{id:"11-onpressed",children:"1.1 onPressed"}),"\n",(0,o.jsxs)(n.p,{children:["\u9f20\u6807\u6309\u4e0b, \u4f1a\u89e6\u53d1\u8fd9\u4e2a ",(0,o.jsx)(n.code,{children:"onPressed"})," \u69fd."]}),"\n",(0,o.jsx)(n.h3,{id:"12-onreleased",children:"1.2 onReleased"}),"\n",(0,o.jsxs)(n.p,{children:["\u9f20\u6807\u62ac\u8d77, \u4f1a\u89e6\u53d1\u8fd9\u4e2a ",(0,o.jsx)(n.code,{children:"onReleased"})," \u69fd."]}),"\n",(0,o.jsx)(n.h3,{id:"13-onclicked",children:"1.3 onClicked"}),"\n",(0,o.jsx)(n.p,{children:"onClicked = onPressed + onReleased"}),"\n",(0,o.jsxs)(n.p,{children:["\u5f53\u9f20\u6807\u6309\u4e0b\u5e76\u62ac\u8d77, \u624d\u4f1a\u89e6\u53d1 ",(0,o.jsx)(n.code,{children:"onClicked"})," \u69fd. (\u6ce8\u610f, \u9700\u8981\u62ac\u8d77\u624d\u4f1a\u771f\u7684\u89e6\u53d1)"]}),"\n",(0,o.jsxs)(n.div,{className:"markdown-alert markdown-alert-tip",children:["\n",(0,o.jsxs)(n.p,{className:"markdown-alert-title",children:[(0,o.jsx)(n.span,{className:"octicon octicon-tip",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-light-bulb mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Tip"]}),"\n",(0,o.jsxs)(n.p,{children:["\u90a3\u4f60\u53ef\u80fd\u611f\u89c9\u5b83\u7b49\u4ef7\u4e8e ",(0,o.jsx)(n.code,{children:"onReleased"}),", \u5b9e\u5219\u4e0d\u7136:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{style:{textAlign:"center"},children:"\u69fd\u51fd\u6570"}),(0,o.jsx)(n.th,{style:{textAlign:"center"},children:"\u89e6\u53d1\u6761\u4ef6"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{style:{textAlign:"center"},children:(0,o.jsx)(n.code,{children:"onPressed"})}),(0,o.jsxs)(n.td,{style:{textAlign:"center"},children:["\u9f20\u6807 ",(0,o.jsx)(n.strong,{children:"\u6309\u4e0b\u65f6\u7acb\u5373\u89e6\u53d1"})]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{style:{textAlign:"center"},children:(0,o.jsx)(n.code,{children:"onReleased"})}),(0,o.jsx)(n.td,{style:{textAlign:"center"},children:"\u9f20\u6807\u5728\u6b64\u533a\u57df\u6309\u4e0b\u540e, \u65e0\u8bba\u62ac\u8d77\u65f6\u662f\u5426\u8fd8\u5728\u533a\u57df\u5185, \u90fd\u4f1a\u89e6\u53d1"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{style:{textAlign:"center"},children:(0,o.jsx)(n.code,{children:"onClicked"})}),(0,o.jsxs)(n.td,{style:{textAlign:"center"},children:[(0,o.jsx)(n.strong,{children:"\u6309\u4e0b + \u91ca\u653e\u90fd\u5728\u540c\u4e00\u4e2a MouseArea \u5185"}),", \u624d\u4f1a\u89e6\u53d1"]})]})]})]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-qml",children:'import QtQuick\n\nWindow {\n    width: 640\n    height: 480\n    visible: true\n    title: qsTr("05: Hello World")\n\n    MouseArea {\n        id: mouseArea\n        width: 200\n        height: 200\n        Rectangle { // \u9700\u8981\u5957\u4e00\u4e2a Item \u624d\u53ef\u4ee5\u663e\u793a\n            anchors.fill: parent\n            color: "#990099"\n        }\n\n        onClicked: {\n            console.log("onClicked");\n        }\n        onPressed: {\n            console.log("onPressed");\n        }\n        onReleased: {\n            console.log("onReleased");\n        }\n    }\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"14-ondoubleclicked-\u53cc\u51fb",children:"1.4 onDoubleClicked (\u53cc\u51fb)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-qml",children:'MouseArea {\n    onDoubleClicked: console.log("\u53cc\u51fb")\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"2-\u8bbe\u7f6e\u76d1\u542c\u7684\u6309\u952e\u4e8b\u4ef6-acceptedbuttons",children:"2. \u8bbe\u7f6e\u76d1\u542c\u7684\u6309\u952e\u4e8b\u4ef6 (acceptedButtons)"}),"\n",(0,o.jsx)(n.p,{children:"\u4f60\u53ef\u80fd\u53d1\u73b0, \u4e0a\u9762\u7684\u4ee3\u7801, \u4ec5\u6709\u9f20\u6807\u5de6\u952e\u6709\u6548, \u800c\u53f3\u952e\u3001\u4e2d\u95f4\u90fd\u6ca1\u6709\u4ec0\u4e48\u6548\u679c."}),"\n",(0,o.jsxs)(n.p,{children:["\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u8bbe\u7f6e ",(0,o.jsx)(n.code,{children:"acceptedButtons"})," \u5c5e\u6027 (\u9ed8\u8ba4\u662f ",(0,o.jsx)(n.code,{children:"Qt.LeftButton"}),")."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-qml",children:"MouseArea {\n    // \u8fd9\u662f\u4e00\u4e2a\u679a\u4e3e; \u8bbe\u7f6e\u76d1\u542c\u5de6\u952e\u548c\u53f3\u952e\n    acceptedButtons: Qt.LeftButton | Qt.RightButton\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u4f46\u662f\u8fd9\u6837\u5149\u89e6\u53d1\u4e86, \u4f46\u662f\u6211\u4eec\u4e0d\u77e5\u9053\u7528\u6237\u5230\u5e95\u662f\u6309\u4e86\u5de6\u952e\u8fd8\u662f\u53f3\u952e, \u8fd9\u600e\u4e48\u529e\u5462?"}),"\n",(0,o.jsx)(n.h2,{id:"3-\u533a\u5206\u6309\u952e\u7684\u4fe1\u53f7-pressedbuttons--\u679a\u4e3e",children:"3. \u533a\u5206\u6309\u952e\u7684\u4fe1\u53f7 (pressedButtons & \u679a\u4e3e)"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"pressedButtons"})," \u8be5\u5c5e\u6027\u663e\u793a\u5f53\u524d\u6309\u4e0b\u7684\u9f20\u6807\u6309\u94ae."]}),"\n",(0,o.jsx)(n.p,{children:"\u5b83\u5305\u542b\u4ee5\u4e0b\u6309\u4f4d\u7ec4\u5408"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Qt.LeftButton"}),"\n",(0,o.jsx)(n.li,{children:"Qt.RightButton"}),"\n",(0,o.jsx)(n.li,{children:"Qt.MiddleButton"}),"\n"]}),"\n",(0,o.jsxs)(n.div,{className:"markdown-alert markdown-alert-tip",children:["\n",(0,o.jsxs)(n.p,{className:"markdown-alert-title",children:[(0,o.jsx)(n.span,{className:"octicon octicon-tip",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-light-bulb mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Tip"]}),"\n",(0,o.jsxs)(n.p,{children:["\u7279\u522b\u7684, \u53ea\u6709 ",(0,o.jsx)(n.code,{children:"onPressed"})," \u53ef\u4ee5\u63a5\u6536\u5230\u6309\u952e, \u5728 ",(0,o.jsx)(n.code,{children:"onReleased"})," \u4e0e ",(0,o.jsx)(n.code,{children:"onClicked"})," \u65f6\u5019, \u6309\u952e\u5df2\u7ecf\u5f39\u8d77, ",(0,o.jsx)(n.code,{children:"pressedButtons"})," \u5df2\u7ecf\u88ab\u6e05\u7a7a."]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-qml",children:'MouseArea {\n    id: mouseArea\n    width: 200\n    height: 200\n    Rectangle {\n        anchors.fill: parent\n        color: "#990099"\n    }\n\n    acceptedButtons: Qt.LeftButton | Qt.RightButton\n    onClicked: {\n        console.log("onClicked -> ", pressedButtons);\n    }\n    onPressed: {\n        console.log("onPressed -> ", pressedButtons);\n        if (pressedButtons & Qt.LeftButton) {\n            console.log("onPressed \u5de6\u952e");\n        } else if (pressedButtons & Qt.RightButton) {\n            console.log("onPressed \u53f3\u952e");\n        }\n    }\n    onReleased: {\n        console.log("onReleased -> ", pressedButtons);\n    }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"4-\u5224\u65ad\u9f20\u6807\u662f\u5426\u5904\u4e8e-mousearea-\u5185",children:"4. \u5224\u65ad\u9f20\u6807\u662f\u5426\u5904\u4e8e MouseArea \u5185"}),"\n",(0,o.jsx)(n.h3,{id:"41-containsmouse",children:"4.1 containsMouse"}),"\n",(0,o.jsxs)(n.p,{children:["\u8be5\u5c5e\u6027\u8868\u793a\u9f20\u6807 ",(0,o.jsx)(n.strong,{children:"\u5f53\u524d"})," \u662f\u5426\u4f4d\u4e8e ",(0,o.jsx)(n.code,{children:"MouseArea"})," \u5185."]}),"\n",(0,o.jsxs)(n.div,{className:"markdown-alert markdown-alert-warning",children:["\n",(0,o.jsxs)(n.p,{className:"markdown-alert-title",children:[(0,o.jsx)(n.span,{className:"octicon octicon-warning",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-alert mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Warning"]}),"\n",(0,o.jsxs)(n.p,{children:["\u7279\u522b\u7684,  \u5982\u679c ",(0,o.jsx)(n.code,{children:"hoverEnabled"})," \u662f ",(0,o.jsx)(n.code,{children:"false"}),", \u90a3\u4e48 ",(0,o.jsx)(n.strong,{children:"\u53ea\u6709"})," \u5728 ",(0,o.jsx)(n.code,{children:"MouseArea"})," \u5185\u6309\u4e0b\u9f20\u6807, \u624d\u4f1a\u4e3a ",(0,o.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["\u4f46\u5982\u679c\u5728 ",(0,o.jsx)(n.code,{children:"onPressed"})," \u5904\u7406\u7a0b\u5e8f\u4e2d\u8bbe\u7f6e ",(0,o.jsx)(n.code,{children:"mouse.accepted = false"}),", ",(0,o.jsx)(n.code,{children:"containsMouse"})," \u5c06\u4fdd\u6301 ",(0,o.jsx)(n.code,{children:"false"}),", \u56e0\u4e3a\u6309\u4e0b\u88ab\u62d2\u7edd."]}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u6539\u53d8\u4e86, \u5373\u662f\u5426\u5904\u4e8e\u60ac\u6d6e\u72b6\u6001, \u90a3\u4e48\u4e5f\u4f1a\u89e6\u53d1 ",(0,o.jsx)(n.code,{children:"onHoveredChanged"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"42-containspress",children:"4.2 containsPress"}),"\n",(0,o.jsxs)(n.p,{children:["\u7b49\u4ef7\u4e8e ",(0,o.jsx)(n.code,{children:"pressed && containsMouse"}),", \u5373 \u5728 ",(0,o.jsx)(n.code,{children:"MouseArea"})," \u5185\u6309\u4e0b\u9f20\u6807, \u624d\u4f1a\u4e3a ",(0,o.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-qml",children:'MouseArea {\n    width: 200\n    height: 200\n    Rectangle {\n        anchors.fill: parent\n        color: "#990099"\n    }\n\n    hoverEnabled: true // \u8be5\u5c5e\u6027\u7528\u4e8e\u786e\u5b9a\u662f\u5426\u5904\u7406\u60ac\u505c\u4e8b\u4ef6 (\u9ed8\u8ba4\u662f false)\n    acceptedButtons: Qt.LeftButton | Qt.RightButton\n    onClicked: {\n        console.log("onClicked");\n    }\n    onContainsMouseChanged: {\n        console.log("onContainsMouseChanged", containsMouse);\n    }\n    onContainsPressChanged: {\n        console.log("onContainsPressChanged", containsPress);\n    }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"5-\u6539\u53d8\u5149\u6807\u6837\u5f0f-cursorshape",children:"5. \u6539\u53d8\u5149\u6807\u6837\u5f0f (cursorShape)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-qml",children:"MouseArea {\n    width: 200\n    height: 200\n    // \u5341\u5b57\u5f62\u5149\u6807\n    cursorShape: Qt.CrossCursor\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"6-\u62d6\u52a8-drag",children:"6. \u62d6\u52a8 (drag)"}),"\n",(0,o.jsx)(n.p,{children:"drag \u63d0\u4f9b\u4e86\u4e00\u79cd\u4f7f\u9879\u76ee\u53ef\u62d6\u52a8\u7684\u4fbf\u6377\u65b9\u6cd5:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"drag.target"})," \u6307\u5b9a\u8981\u62d6\u52a8\u7684\u9879\u76ee\u7684 id"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"drag.active"})," \u6307\u5b9a\u76ee\u6807\u9879\u76ee\u5f53\u524d\u662f\u5426\u6b63\u5728\u88ab\u62d6\u52a8 ",(0,o.jsx)(n.em,{children:"(\u8be5\u5c5e\u6027\u4e3a\u7cfb\u7edf\u8bbe\u7f6e, \u4e3a\u53ea\u8bfb\u5c5e\u6027, \u4e0d\u80fd\u88ab\u7528\u6237\u8d4b\u503c)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"drag.axis"})," \u6307\u5b9a\u662f\u5426\u53ef\u4ee5\u6c34\u5e73(",(0,o.jsx)(n.code,{children:"Drag.XAxis"}),")\u3001\u5782\u76f4(",(0,o.jsx)(n.code,{children:"Drag.YAxis"}),")\u3001\u4efb\u610f(",(0,o.jsx)(n.code,{children:"Drag.XAndYAxis"}),")\u65b9\u5411\u62d6\u52a8"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"drag.minimum"})," \u548c ",(0,o.jsx)(n.code,{children:"drag.maximum"})," \u9650\u5236\u76ee\u6807\u9879\u53ef\u4ee5\u6cbf\u76f8\u5e94\u8f74\u62d6\u52a8\u7684\u8ddd\u79bb"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u4e0b\u9762\u793a\u4f8b\u5c55\u793a\u4e00\u4e2a\u53ef\u4ee5 x \u65b9\u5411\u62d6\u52a8\u7684 Rectangle, \u5e76\u4e14\u900f\u660e\u5ea6\u4f1a\u968f\u7740\u62d6\u52a8\u4e0b\u964d."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-qml",children:'Window {\n    id: container; /* ... */\n\n    Rectangle {\n        id: rect\n        width: 50; height: 50\n        color: "red"\n        opacity: (container.width - rect.x) / container.width\n\n        MouseArea {\n            anchors.fill: parent\n            drag.target: rect\n            drag.axis: Drag.XAxis\n            drag.minimumX: 0\n            drag.maximumX: container.width - rect.width\n        }\n    }\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"61-dragfilterchildren-\u5c5e\u6027\u7ee7\u627f",children:"6.1 drag.filterChildren (\u5c5e\u6027\u7ee7\u627f)"}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u8bbe\u7f6e ",(0,o.jsx)(n.code,{children:"drag.filterChildren: true"}),", \u90a3\u4e48\u5b50\u63a7\u4ef6\u4e5f\u53ef\u4ee5\u88ab\u62d6\u52a8, \u800c\u4e0d\u4f1a\u963b\u6b62\u62d6\u52a8\u4fe1\u53f7."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-qml",children:'Rectangle {\n    width: 480\n    height: 320\n\n    Rectangle {\n        x: 30; y: 30\n        width: 300; height: 240\n        color: "lightsteelblue"\n\n        MouseArea {\n            anchors.fill: parent\n            drag.target: parent;\n            drag.axis: Drag.XAxis\n            drag.minimumX: 30\n            drag.maximumX: 150\n            drag.filterChildren: true   // \u5b50\u63a7\u4ef6\u662f\u5426\u7ee7\u627f\u7236\u63a7\u4ef6\u7684\u5c5e\u6027\n                                        // \u9ed8\u8ba4\u662f false\n            Rectangle {\n                color: "yellow"\n                x: 50; y : 50\n                width: 100; height: 100\n                MouseArea {\n                    anchors.fill: parent\n                    onClicked: console.log("Clicked")\n                }\n            }\n        }\n    }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"7-\u9f20\u6807\u4f4d\u7f6e",children:"7. \u9f20\u6807\u4f4d\u7f6e"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"mouseX"})," \u4e0e ",(0,o.jsx)(n.code,{children:"mouseY"})," \u662f\u5f53\u524d\u9f20\u6807\u4f4d\u7f6e, ",(0,o.jsx)(n.code,{children:"onMouseXChanged"})," \u4e0e ",(0,o.jsx)(n.code,{children:"onMouseYChanged"})," \u4f1a\u5728 ",(0,o.jsx)(n.code,{children:"\u9f20\u6807\u5728 MouseArea \u5185 && x/y \u5750\u6807\u6539\u53d8"})," \u65f6\u5019\u89e6\u53d1. (\u9700\u8981 ",(0,o.jsx)(n.code,{children:"hoverEnabled: true"}),", \u5426\u5219\u53ea\u5728\u6309\u952e\u4e8b\u4ef6\u624d\u89e6\u53d1)"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-qml",children:'MouseArea {\n    width: 100\n    height: 100\n    Rectangle {\n        anchors.fill: parent\n        color: "#990099"\n    }\n    hoverEnabled: true // \u8be5\u5c5e\u6027\u7528\u4e8e\u786e\u5b9a\u662f\u5426\u5904\u7406\u60ac\u505c\u4e8b\u4ef6 (\u9ed8\u8ba4\u662f false)\n\n    onMouseXChanged: {\n        console.log("x:", mouseX);\n    }\n    onMouseYChanged: {\n        console.log("y:", mouseY);\n    }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"8-\u957f\u6309\u9f20\u6807-onpressandhold",children:"8. \u957f\u6309\u9f20\u6807 (onPressAndHold)"}),"\n",(0,o.jsxs)(n.p,{children:["\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684, \u957f\u6309\u9f20\u6807 ",(0,o.jsx)(n.code,{children:"800ms"})," \u5c31\u4f1a\u89e6\u53d1."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-qml",children:'MouseArea {\n    width: 50\n    height: 50\n    Rectangle {\n        anchors.fill: parent\n        color: "#990099"\n    }\n\n    onPressAndHold: {\n        console.log("\u957f\u6309\u9f20\u6807 (800ms)");\n    }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"9-\u4fe1\u53f7\u4f20\u9012-propagatecomposedevents",children:"9. \u4fe1\u53f7\u4f20\u9012 (propagateComposedEvents)"}),"\n",(0,o.jsxs)(n.p,{children:["\u8be5\u5c5e\u6027\u8868\u793a\u7ec4\u6210\u7684\u9f20\u6807\u4e8b\u4ef6\u662f\u5426\u4f1a\u81ea\u52a8\u4f20\u64ad\u5230\u4e0e\u8be5 ",(0,o.jsx)(n.code,{children:"MouseArea"})," \u91cd\u53e0\u4f46\u5728\u89c6\u89c9\u5806\u53e0\u987a\u5e8f\u4e2d\u8f83\u4f4e\u7684\u5176\u4ed6 ",(0,o.jsx)(n.code,{children:"MouseAreas"}),". \u9ed8\u8ba4\u60c5\u51b5\u4e0b, \u8be5\u5c5e\u6027\u4e3a ",(0,o.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["\u7279\u522b\u7684, ",(0,o.jsx)(n.strong,{children:"QML \u7684\u9f20\u6807\u4e8b\u4ef6\u9ed8\u8ba4\u662f\u53ea\u4f1a\u88ab\u7b2c\u4e00\u4e2a\u63a5\u53d7\u7684\u5143\u7d20\u5904\u7406, \u4e14\u4e0d\u4f1a\u5411\u4e0a\u4f20\u9012\u7684"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["\u6545\u5982\u679c\u9700\u8981\u4e8b\u4ef6\u4f20\u9012, \u9700\u8981 ",(0,o.jsx)(n.code,{children:"propagateComposedEvents: true"})," && ",(0,o.jsx)(n.code,{children:"mouse.accepted = false"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-qml",children:'Rectangle {\n    color: "yellow"\n    width: 100; height: 100\n\n    MouseArea {\n        anchors.fill: parent\n        onClicked: console.log("clicked yellow")\n    }\n\n    Rectangle {\n        color: "blue"\n        width: 50; height: 50\n\n        MouseArea {\n            anchors.fill: parent\n            propagateComposedEvents: true\n            onClicked: (mouse) => {\n                console.log("clicked blue")\n                mouse.accepted = false // \u8fd9\u4e2a\u4e0d\u80fd\u5c11\n            }\n        }\n    }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>c});var l=s(96540);const o={},d=l.createContext(o);function r(e){const n=l.useContext(d);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),l.createElement(d.Provider,{value:n},e.children)}}}]);