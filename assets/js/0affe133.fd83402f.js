"use strict";(self.webpackChunkhx_loli=self.webpackChunkhx_loli||[]).push([[29506],{1611:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-49-36-9596077a7c919c53c2b36a615da0aa56.png"},1983:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-36-34-2b1da32a6e6558d66a3037182103f401.png"},2296:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-25-49-8dedab48883ce4936a3b87d022e18622.png"},2578:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-33-39-44decb255183ab5bf463eff8dcb21fe3.png"},4301:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-17-41-e69b7fe1a438743c84cd24816335ab4d.png"},7358:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-07-18-2a7fb12205f1c285803718121601cbac.png"},9946:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-06-22-c4b284dcbf9b278b1881b51e3d7c4cb9.png"},11078:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-42-47-8bb9b2d6275b58c2c08fe3cee447ec99.png"},11808:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-25-05-165723ccb5fe2d979b7c52aa69a0229c.png"},15146:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-36-54-ab8b3079c30fa397a426922c19578884.png"},16753:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-59-54-ae01cd38ef9d4fe3ca222bbf5c81d9d0.png"},19760:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-54-28-4010e1de64742c9fefee0f9fd0bcf04e.png"},20079:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-44-14-35118bb487b080786baa15e6794662e5.png"},20389:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-21-40-9b937f0ea36c9f198a0a2134ee636e64.png"},22167:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-29-05-49b59464be8a0ca736942fcd62d896e2.png"},22683:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-56-32-ddf2a5d7aa40d93a4400fd5ee74c7863.png"},23267:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-21-02-77fcfd5f8b114752058b02683672f18f.png"},26911:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-40-10-9af5654e4f578153de505a6aa3fb2620.png"},28453:(n,e,i)=>{i.d(e,{R:()=>d,x:()=>r});var s=i(96540);const l={},t=s.createContext(l);function d(n){const e=s.useContext(t);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:d(n.components),s.createElement(t.Provider,{value:e},n.children)}},29882:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-55-36-bcf1d43a0d57c1e64c39d5200d4def57.png"},30397:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-35-37-22a2c4e38c028586a07856b73c9d1d2c.png"},31091:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>x,frontMatter:()=>d,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/\u56db\u3001\u4ece\u6c47\u7f16\u89d2\u5ea6\u770b\u7f16\u8bd1\u5668\u4f18\u5316/index","title":"\u56db\u3001\u4ece\u6c47\u7f16\u89d2\u5ea6\u770b\u7f16\u8bd1\u5668\u4f18\u5316","description":"\u672c\u8bfe\u5185\u5bb9\u6742, \u8bf7\u524d\u5f80 \u5faa\u73af\u4f18\u5316\uff1a\u5c06\u4e8b\u60c5\u638c\u63e1\u5728\u81ea\u5df1\u624b\u4e2d | \u751a\u81f3\u5b9e\u9645\u4e0a\u5c31\u662f: \u7f16\u8bd1\u4f18\u5316 | oiwiki, \u4f46\u662f\u672c\u8bfe\u4f1a\u4ece\u6c47\u7f16\u5c42\u9762\u4e0a\u5206\u6790.","source":"@site/docs/002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/002-\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/004-\u56db\u3001\u4ece\u6c47\u7f16\u89d2\u5ea6\u770b\u7f16\u8bd1\u5668\u4f18\u5316/index.md","sourceDirName":"002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/002-\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/004-\u56db\u3001\u4ece\u6c47\u7f16\u89d2\u5ea6\u770b\u7f16\u8bd1\u5668\u4f18\u5316","slug":"/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/\u56db\u3001\u4ece\u6c47\u7f16\u89d2\u5ea6\u770b\u7f16\u8bd1\u5668\u4f18\u5316/","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/\u56db\u3001\u4ece\u6c47\u7f16\u89d2\u5ea6\u770b\u7f16\u8bd1\u5668\u4f18\u5316/","draft":false,"unlisted":false,"editUrl":"https://github.com/HengXin666/HXLoLi/edit/main/docs/002-\u7a0b\u5e8f\u8bed\u8a00/001-C++/003-\u73b0\u4ee3C++/002-\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/004-\u56db\u3001\u4ece\u6c47\u7f16\u89d2\u5ea6\u770b\u7f16\u8bd1\u5668\u4f18\u5316/index.md","tags":[],"version":"current","lastUpdatedBy":"Heng_Xin_666","lastUpdatedAt":1745851959000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u4e09\u3001\u6a21\u7248\u5143\u7f16\u7a0b\u4e0e\u51fd\u6570\u5f0f","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/\u4e09\u3001\u6a21\u7248\u5143\u7f16\u7a0b\u4e0e\u51fd\u6570\u5f0f/"},"next":{"title":"\u4e94\u3001C++\u5f00\u59cb\u7684\u591a\u7ebf\u7a0b\u7f16\u7a0b","permalink":"/HXLoLi/docs/\u7a0b\u5e8f\u8bed\u8a00/C++/\u73b0\u4ee3C++/\u9ad8\u6027\u80fd\u5e76\u884c\u7f16\u7a0b\u4e0e\u4f18\u5316/\u4e94\u3001C++\u5f00\u59cb\u7684\u591a\u7ebf\u7a0b\u7f16\u7a0b/"}}');var l=i(74848),t=i(28453);const d={},r="\u56db\u3001\u4ece\u6c47\u7f16\u89d2\u5ea6\u770b\u7f16\u8bd1\u5668\u4f18\u5316",c={},a=[{value:"4.0 \u7b2c0\u7ae0: \u6c47\u7f16\u8bed\u8a00",id:"40-\u7b2c0\u7ae0-\u6c47\u7f16\u8bed\u8a00",level:2},{value:"4.0.1 AT&amp;T \u6c47\u7f16\u8bed\u8a00",id:"401-att-\u6c47\u7f16\u8bed\u8a00",level:3},{value:"4.0.2 \u6574\u6570\u52a0\u5e38\u6570\u4e58\u6574\u6570: \u90fd\u53ef\u4ee5\u88ab\u4f18\u5316\u6210 leal",id:"402-\u6574\u6570\u52a0\u5e38\u6570\u4e58\u6574\u6570-\u90fd\u53ef\u4ee5\u88ab\u4f18\u5316\u6210-leal",level:3},{value:"4.0.3 \u6307\u9488\u7684\u7d22\u5f15: \u5c3d\u91cf\u7528 size_t",id:"403-\u6307\u9488\u7684\u7d22\u5f15-\u5c3d\u91cf\u7528-size_t",level:3},{value:"4.0.4 \u4e3a\u4ec0\u4e48\u9700\u8981 SIMD? \u5355\u4e2a\u6307\u4ee4\u5904\u7406\u56db\u4e2a\u6570\u636e",id:"404-\u4e3a\u4ec0\u4e48\u9700\u8981-simd-\u5355\u4e2a\u6307\u4ee4\u5904\u7406\u56db\u4e2a\u6570\u636e",level:3},{value:"4.1 \u7b2c1\u7ae0: \u5316\u7b80",id:"41-\u7b2c1\u7ae0-\u5316\u7b80",level:2},{value:"4.1.1 \u7f16\u8bd1\u5668\u4f18\u5316: \u4ee3\u6570\u5316\u7b80",id:"411-\u7f16\u8bd1\u5668\u4f18\u5316-\u4ee3\u6570\u5316\u7b80",level:3},{value:"4.1.2 \u7f16\u8bd1\u5668\u4f18\u5316: \u5e38\u91cf\u6298\u53e0",id:"412-\u7f16\u8bd1\u5668\u4f18\u5316-\u5e38\u91cf\u6298\u53e0",level:3},{value:"4.1.3 \u7f16\u8bd1\u5668\u4f18\u5316: \u4e3e\u4e2a\u4f8b\u5b50",id:"413-\u7f16\u8bd1\u5668\u4f18\u5316-\u4e3e\u4e2a\u4f8b\u5b50",level:3},{value:"4.1.4 \u7f16\u8bd1\u5668\u4f18\u5316: \u6211\u6bd5\u7adf\u4e0d\u662f\u4e07\u80fd\u7684",id:"414-\u7f16\u8bd1\u5668\u4f18\u5316-\u6211\u6bd5\u7adf\u4e0d\u662f\u4e07\u80fd\u7684",level:3},{value:"4.1.5 \u9020\u6210 new/delete \u7684\u5bb9\u5668: \u6211\u662f\u8bf4\uff0c\u5185\u5b58\u5206\u914d\u5728\u5806\u4e0a\u7684\u5bb9\u5668",id:"415-\u9020\u6210-newdelete-\u7684\u5bb9\u5668-\u6211\u662f\u8bf4\u5185\u5b58\u5206\u914d\u5728\u5806\u4e0a\u7684\u5bb9\u5668",level:3},{value:"4.1.6 \u6d89\u53ca\u7684\u8bed\u53e5\u6570\u91cf\u8fc7\u591a\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u653e\u5f03\u4f18\u5316",id:"416-\u6d89\u53ca\u7684\u8bed\u53e5\u6570\u91cf\u8fc7\u591a\u65f6\u7f16\u8bd1\u5668\u4f1a\u653e\u5f03\u4f18\u5316",level:3},{value:"4.1.7 constexpr: \u5f3a\u8feb\u7f16\u8bd1\u5668\u5728\u7f16\u8bd1\u671f\u6c42\u503c",id:"417-constexpr-\u5f3a\u8feb\u7f16\u8bd1\u5668\u5728\u7f16\u8bd1\u671f\u6c42\u503c",level:3},{value:"4.2 \u7b2c2\u7ae0: \u5185\u8054",id:"42-\u7b2c2\u7ae0-\u5185\u8054",level:2},{value:"4.2.1 \u8c03\u7528\u5916\u90e8\u51fd\u6570: call \u6307\u4ee4",id:"421-\u8c03\u7528\u5916\u90e8\u51fd\u6570-call-\u6307\u4ee4",level:3},{value:"4.2.2 \u7f16\u8bd1\u5668\u4f18\u5316: call \u53d8 jmp",id:"422-\u7f16\u8bd1\u5668\u4f18\u5316-call-\u53d8-jmp",level:3},{value:"4.2.3 \u591a\u4e2a\u51fd\u6570\u5b9a\u4e49\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d",id:"423-\u591a\u4e2a\u51fd\u6570\u5b9a\u4e49\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d",level:3},{value:"4.2.4 \u7f16\u8bd1\u5668\u4f18\u5316: \u5185\u8054\u5316",id:"424-\u7f16\u8bd1\u5668\u4f18\u5316-\u5185\u8054\u5316",level:3},{value:"4.2.5 \u5c40\u90e8\u53ef\u89c1\u51fd\u6570: static",id:"425-\u5c40\u90e8\u53ef\u89c1\u51fd\u6570-static",level:3},{value:"4.2.6 inline \u5173\u952e\u5b57? \u4e0d\u9700\u8981",id:"426-inline-\u5173\u952e\u5b57-\u4e0d\u9700\u8981",level:3},{value:"4.2.7 \u201c\u5927\u5382\u9762\u8bd5\u5b98\u201d\u7b11\u8bdd",id:"427-\u5927\u5382\u9762\u8bd5\u5b98\u7b11\u8bdd",level:3},{value:"4.3 \u7b2c3\u7ae0: \u6307\u9488",id:"43-\u7b2c3\u7ae0-\u6307\u9488",level:2},{value:"4.3.1 \u544a\u8bc9\u7f16\u8bd1\u5668\u522b\u6015\u6307\u9488\u522b\u540d: <code>__restrict</code>\u5173\u952e\u5b57",id:"431-\u544a\u8bc9\u7f16\u8bd1\u5668\u522b\u6015\u6307\u9488\u522b\u540d-__restrict\u5173\u952e\u5b57",level:3},{value:"4.3.2 <code>__restrict</code>\u5173\u952e\u5b57: \u53ea\u9700\u52a0\u5728\u975e const \u7684\u5373\u53ef",id:"432-__restrict\u5173\u952e\u5b57-\u53ea\u9700\u52a0\u5728\u975e-const-\u7684\u5373\u53ef",level:3},{value:"4.3.3 \u7981\u6b62\u4f18\u5316: volatile",id:"433-\u7981\u6b62\u4f18\u5316-volatile",level:3},{value:"4.3.4 \u6ce8\u610f\u4e00\u4e0b\u533a\u522b<code>__restrict</code>&amp;<code>volatile</code>",id:"434-\u6ce8\u610f\u4e00\u4e0b\u533a\u522b__restrictvolatile",level:3},{value:"4.3.5 \u7f16\u8bd1\u5668\u4f18\u5316: \u5408\u5e76\u5199\u5165 \u306e \u4e0d\u80fd\u8df3\u8dc3",id:"435-\u7f16\u8bd1\u5668\u4f18\u5316-\u5408\u5e76\u5199\u5165-\u306e-\u4e0d\u80fd\u8df3\u8dc3",level:3},{value:"4.4 \u7b2c4\u7ae0: \u77e2\u91cf\u5316",id:"44-\u7b2c4\u7ae0-\u77e2\u91cf\u5316",level:2},{value:"4.4.1 \u66f4\u5bbd\u7684\u5408\u5e76\u5199\u5165: \u77e2\u91cf\u5316\u6307\u4ee4 (SIMD)",id:"441-\u66f4\u5bbd\u7684\u5408\u5e76\u5199\u5165-\u77e2\u91cf\u5316\u6307\u4ee4-simd",level:3},{value:"4.4.2 SIMD \u6307\u4ee4: \u6562\u4e0d\u6562\u518d\u5bbd\u4e00\u70b9?",id:"442-simd-\u6307\u4ee4-\u6562\u4e0d\u6562\u518d\u5bbd\u4e00\u70b9",level:3},{value:"4.4.3 \u8ba9\u7f16\u8bd1\u5668\u81ea\u52a8\u68c0\u6d4b\u5f53\u524d\u786c\u4ef6\u652f\u6301\u7684\u6307\u4ee4\u96c6",id:"443-\u8ba9\u7f16\u8bd1\u5668\u81ea\u52a8\u68c0\u6d4b\u5f53\u524d\u786c\u4ef6\u652f\u6301\u7684\u6307\u4ee4\u96c6",level:3},{value:"4.4.4 \u6570\u7ec4\u6e05\u96f6: \u81ea\u52a8\u8c03\u7528\u6807\u51c6\u5e93\u7684 memset",id:"444-\u6570\u7ec4\u6e05\u96f6-\u81ea\u52a8\u8c03\u7528\u6807\u51c6\u5e93\u7684-memset",level:3},{value:"4.4.5 \u4ece 0 \u5230 1024 \u586b\u5145: SIMD \u52a0\u901f",id:"445-\u4ece-0-\u5230-1024-\u586b\u5145-simd-\u52a0\u901f",level:3},{value:"4.4.6 \u5982\u679c\u4e0d\u662f 4 \u7684\u500d\u6570? \u8fb9\u754c\u7279\u5224\u6cd5",id:"446-\u5982\u679c\u4e0d\u662f-4-\u7684\u500d\u6570-\u8fb9\u754c\u7279\u5224\u6cd5",level:3},{value:"4.4.7 n \u603b\u662f 4 \u7684\u500d\u6570? \u907f\u514d\u8fb9\u754c\u7279\u5224",id:"447-n-\u603b\u662f-4-\u7684\u500d\u6570-\u907f\u514d\u8fb9\u754c\u7279\u5224",level:3},{value:"4.4.8 \u5047\u5b9a\u6307\u9488\u662f 16 \u5b57\u8282\u5bf9\u9f50\u7684: assume_aligned",id:"448-\u5047\u5b9a\u6307\u9488\u662f-16-\u5b57\u8282\u5bf9\u9f50\u7684-assume_aligned",level:3},{value:"4.4.9 \u6570\u7ec4\u6c42\u548c: reduction \u7684\u4f18\u5316",id:"449-\u6570\u7ec4\u6c42\u548c-reduction-\u7684\u4f18\u5316",level:3},{value:"4.5 \u7b2c5\u7ae0: \u5faa\u73af",id:"45-\u7b2c5\u7ae0-\u5faa\u73af",level:2},{value:"4.5.1 \u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316: \u8fd8\u5728\u4f3a\u5019\u6307\u9488\u522b\u540d",id:"451-\u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316-\u8fd8\u5728\u4f3a\u5019\u6307\u9488\u522b\u540d",level:3},{value:"4.5.2 \u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316: \u89e3\u51b3\u6307\u9488\u522b\u540d",id:"452-\u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316-\u89e3\u51b3\u6307\u9488\u522b\u540d",level:3},{value:"4.5.3 \u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316: OpenMP \u5f3a\u5236\u77e2\u91cf\u5316",id:"453-\u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316-openmp-\u5f3a\u5236\u77e2\u91cf\u5316",level:3},{value:"4.5.4 \u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316: \u7f16\u8bd1\u5668\u63d0\u793a\u5ffd\u7565\u6307\u9488\u522b\u540d",id:"454-\u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316-\u7f16\u8bd1\u5668\u63d0\u793a\u5ffd\u7565\u6307\u9488\u522b\u540d",level:3},{value:"4.5.5 \u5faa\u73af\u4e2d\u7684 if \u8bed\u53e5: \u632a\u5230\u5916\u9762\u6765",id:"455-\u5faa\u73af\u4e2d\u7684-if-\u8bed\u53e5-\u632a\u5230\u5916\u9762\u6765",level:3},{value:"4.5.6 \u5faa\u73af\u4e2d\u7684\u4e0d\u53d8\u91cf: \u632a\u5230\u5916\u9762\u6765",id:"456-\u5faa\u73af\u4e2d\u7684\u4e0d\u53d8\u91cf-\u632a\u5230\u5916\u9762\u6765",level:3},{value:"4.5.7 \u632a\u5230\u5916\u9762\u6765: \u4f18\u5316\u5931\u8d25",id:"457-\u632a\u5230\u5916\u9762\u6765-\u4f18\u5316\u5931\u8d25",level:3},{value:"4.5.8 \u8c03\u7528\u4e0d\u5728\u53e6\u4e00\u4e2a\u6587\u4ef6\u7684\u51fd\u6570: SIMD \u4f18\u5316\u5931\u8d25",id:"458-\u8c03\u7528\u4e0d\u5728\u53e6\u4e00\u4e2a\u6587\u4ef6\u7684\u51fd\u6570-simd-\u4f18\u5316\u5931\u8d25",level:3},{value:"4.5.9 \u5faa\u73af\u4e2d\u7684\u4e0b\u6807: \u968f\u673a\u8bbf\u95ee",id:"459-\u5faa\u73af\u4e2d\u7684\u4e0b\u6807-\u968f\u673a\u8bbf\u95ee",level:3},{value:"4.5.10 \u5faa\u73af\u4e2d\u7684\u4e0b\u6807: \u8df3\u8dc3\u8bbf\u95ee",id:"4510-\u5faa\u73af\u4e2d\u7684\u4e0b\u6807-\u8df3\u8dc3\u8bbf\u95ee",level:3},{value:"4.5.11 \u5faa\u73af\u4e2d\u7684\u4e0b\u6807: \u8fde\u7eed\u8bbf\u95ee",id:"4511-\u5faa\u73af\u4e2d\u7684\u4e0b\u6807-\u8fde\u7eed\u8bbf\u95ee",level:3},{value:"4.5.12 \u4e3a\u4ec0\u4e48\u9700\u8981\u5faa\u73af\u5c55\u5f00",id:"4512-\u4e3a\u4ec0\u4e48\u9700\u8981\u5faa\u73af\u5c55\u5f00",level:3},{value:"4.5.13 \u7f16\u8bd1\u5668\u6307\u4ee4: \u5faa\u73af\u5c55\u5f00",id:"4513-\u7f16\u8bd1\u5668\u6307\u4ee4-\u5faa\u73af\u5c55\u5f00",level:3},{value:"4.6 \u7b2c6\u7ae0: \u7ed3\u6784\u4f53",id:"46-\u7b2c6\u7ae0-\u7ed3\u6784\u4f53",level:2},{value:"4.6.1 \u4e24\u4e2a float: \u5bf9\u9f50\u5230 8 \u5b57\u8282",id:"461-\u4e24\u4e2a-float-\u5bf9\u9f50\u5230-8-\u5b57\u8282",level:3},{value:"4.6.2 \u4e09\u4e2a float: \u5bf9\u9f50\u5230 12 \u5b57\u8282",id:"462-\u4e09\u4e2a-float-\u5bf9\u9f50\u5230-12-\u5b57\u8282",level:3},{value:"4.6.3 \u6dfb\u52a0\u4e00\u4e2a\u8f85\u52a9\u5bf9\u9f50\u7684\u53d8\u91cf: \u5bf9\u9f50\u5230 16 \u5b57\u8282",id:"463-\u6dfb\u52a0\u4e00\u4e2a\u8f85\u52a9\u5bf9\u9f50\u7684\u53d8\u91cf-\u5bf9\u9f50\u5230-16-\u5b57\u8282",level:3},{value:"4.6.4 C++11 \u65b0\u8bed\u6cd5: alignas",id:"464-c11-\u65b0\u8bed\u6cd5-alignas",level:3},{value:"4.6.5 \u7ed3\u6784\u4f53\u7684\u5185\u5b58\u5e03\u5c40: AOS \u4e0e SOA",id:"465-\u7ed3\u6784\u4f53\u7684\u5185\u5b58\u5e03\u5c40-aos-\u4e0e-soa",level:3},{value:"4.6.6 AOS: \u7d27\u51d1\u5b58\u50a8\u591a\u4e2a\u5c5e\u6027",id:"466-aos-\u7d27\u51d1\u5b58\u50a8\u591a\u4e2a\u5c5e\u6027",level:3},{value:"4.6.7 SOA: \u5206\u79bb\u5b58\u50a8\u591a\u4e2a\u5c5e\u6027",id:"467-soa-\u5206\u79bb\u5b58\u50a8\u591a\u4e2a\u5c5e\u6027",level:3},{value:"4.6.8 AOSOA: \u4e2d\u95f4\u65b9\u6848",id:"468-aosoa-\u4e2d\u95f4\u65b9\u6848",level:3},{value:"4.7 \u7b2c7\u7ae0: STL\u5bb9\u5668",id:"47-\u7b2c7\u7ae0-stl\u5bb9\u5668",level:2},{value:"4.7.1 std::vector: \u4e5f\u6709\u6307\u9488\u522b\u540d\u95ee\u9898",id:"471-stdvector-\u4e5f\u6709\u6307\u9488\u522b\u540d\u95ee\u9898",level:3},{value:"4.7.2 \u89e3\u51b3\u65b9\u6848: pragma omp simd \u6216 pragma GCC ivdep",id:"472-\u89e3\u51b3\u65b9\u6848-pragma-omp-simd-\u6216-pragma-gcc-ivdep",level:3},{value:"4.7.3 std::vector: \u4e5f\u80fd\u5b9e\u73b0 SOA",id:"473-stdvector-\u4e5f\u80fd\u5b9e\u73b0-soa",level:3},{value:"4.8 \u7b2c8\u7ae0: \u6570\u5b66\u8fd0\u7b97",id:"48-\u7b2c8\u7ae0-\u6570\u5b66\u8fd0\u7b97",level:2},{value:"4.8.1 \u6570\u5b66\u4f18\u5316: \u9664\u6cd5\u53d8\u4e58\u6cd5",id:"481-\u6570\u5b66\u4f18\u5316-\u9664\u6cd5\u53d8\u4e58\u6cd5",level:3},{value:"4.8.2 \u7f16\u8bd1\u5668\u653e\u5f03\u7684\u4f18\u5316: \u5206\u79bb\u516c\u5171\u9664\u6570",id:"482-\u7f16\u8bd1\u5668\u653e\u5f03\u7684\u4f18\u5316-\u5206\u79bb\u516c\u5171\u9664\u6570",level:3},{value:"4.8.2.1 \u89e3\u51b3\u65b9\u68481: \u624b\u52a8\u4f18\u5316",id:"4821-\u89e3\u51b3\u65b9\u68481-\u624b\u52a8\u4f18\u5316",level:4},{value:"4.8.2.2 \u89e3\u51b3\u65b9\u68482: -ffast-math",id:"4822-\u89e3\u51b3\u65b9\u68482--ffast-math",level:4},{value:"4.8.3 \u6570\u5b66\u51fd\u6570\u8bf7\u52a0 std:: \u524d\u7f00!",id:"483-\u6570\u5b66\u51fd\u6570\u8bf7\u52a0-std-\u524d\u7f00",level:3},{value:"4.8.4 \u5d4c\u5957\u5faa\u73af: \u76f4\u63a5\u7d2f\u52a0\uff0c\u6709\u6307\u9488\u522b\u540d\u95ee\u9898",id:"484-\u5d4c\u5957\u5faa\u73af-\u76f4\u63a5\u7d2f\u52a0\u6709\u6307\u9488\u522b\u540d\u95ee\u9898",level:3},{value:"4.8.4.1 \u89e3\u51b3\u65b9\u68481: \u5148\u8bfb\u5230\u5c40\u90e8\u53d8\u91cf\uff0c\u7d2f\u52a0\u5b8c\u6bd5\u540e\uff0c\u518d\u5199\u5165",id:"4841-\u89e3\u51b3\u65b9\u68481-\u5148\u8bfb\u5230\u5c40\u90e8\u53d8\u91cf\u7d2f\u52a0\u5b8c\u6bd5\u540e\u518d\u5199\u5165",level:4},{value:"4.8.4.2 \u89e3\u51b3\u65b9\u68482: \u5148\u7d2f\u52a0\u5230\u521d\u59cb\u4e3a 0 \u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u518d\u7d2f\u52a0\u5230",id:"4842-\u89e3\u51b3\u65b9\u68482-\u5148\u7d2f\u52a0\u5230\u521d\u59cb\u4e3a-0-\u7684\u5c40\u90e8\u53d8\u91cf\u518d\u7d2f\u52a0\u5230",level:4},{value:"4.9 \u4f18\u5316\u624b\u6cd5\u603b\u7ed3",id:"49-\u4f18\u5316\u624b\u6cd5\u603b\u7ed3",level:2},{value:"4.10 CMake \u5982\u4f55\u5f00\u542f?",id:"410-cmake-\u5982\u4f55\u5f00\u542f",level:2},{value:"4.11 \u56de\u5bb6\u4f5c\u4e1a",id:"411-\u56de\u5bb6\u4f5c\u4e1a",level:2},{value:"\u8bc4\u5206\u89c4\u5219",id:"\u8bc4\u5206\u89c4\u5219",level:3},{value:"\u4f5c\u4e1a\u8981\u6c42",id:"\u4f5c\u4e1a\u8981\u6c42",level:3}];function h(n){const e={a:"a",blockquote:"blockquote",code:"code",del:"del",div:"div",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"\u56db\u4ece\u6c47\u7f16\u89d2\u5ea6\u770b\u7f16\u8bd1\u5668\u4f18\u5316",children:"\u56db\u3001\u4ece\u6c47\u7f16\u89d2\u5ea6\u770b\u7f16\u8bd1\u5668\u4f18\u5316"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsxs)(e.p,{children:["\u672c\u8bfe\u5185\u5bb9\u6742, \u8bf7\u524d\u5f80: ",(0,l.jsx)(e.a,{href:"https://github.com/parallel101/course/blob/master/04/slides.pptx",children:"\u4ece\u6c47\u7f16\u89d2\u5ea6\u770b\u7f16\u8bd1\u5668\u4f18\u5316 | ppt"})," \u67e5\u770b, \u4ee5\u53ca\u8fd9\u4f4d\u535a\u4e3b\u7684\u6587\u7ae0: ",(0,l.jsx)(e.a,{href:"https://johnysswlab.com/loop-optimizations-taking-matters-into-your-hands/",children:"\u5faa\u73af\u4f18\u5316\uff1a\u5c06\u4e8b\u60c5\u638c\u63e1\u5728\u81ea\u5df1\u624b\u4e2d"})," | \u751a\u81f3\u5b9e\u9645\u4e0a\u5c31\u662f: ",(0,l.jsx)(e.a,{href:"https://oi-wiki.org/lang/optimizations/",children:"\u7f16\u8bd1\u4f18\u5316 | oiwiki"}),", \u4f46\u662f\u672c\u8bfe\u4f1a\u4ece\u6c47\u7f16\u5c42\u9762\u4e0a\u5206\u6790."]}),"\n",(0,l.jsxs)(e.p,{children:["\u63a8\u8350\u5728\u7ebfC++\u8f6c\u6c47\u7f16\u7f51\u7ad9: ",(0,l.jsx)(e.a,{href:"https://godbolt.org/",children:"godbolt"})]}),"\n",(0,l.jsx)(e.p,{children:"\u672c\u8bfe\u5185\u5bb9\u7684\u5b9e\u9645\u6548\u679c\u8fd8\u662f\u9700\u8981\u770b\u5b9e\u9645\u7684\u6d4b\u8bd5\u624d\u53ef\u4ee5\u65ad\u8a00!"}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u6211\u4e5f\u4e0d\u590d\u5236\u7c98\u8d34\u4e86, \u5c31\u628a\u91cd\u70b9\u5199\u4e00\u4e0b. \u5177\u4f53\u8fd8\u662f\u770b ",(0,l.jsx)(e.a,{href:"https://www.bilibili.com/video/BV12S4y1K721/",children:"\u3010\u516c\u5f00\u8bfe\u3011\u7f16\u8bd1\u5668\u4f18\u5316\u4e0eSIMD\u6307\u4ee4\u96c6\uff08#4\uff09"})," \u5427"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"40-\u7b2c0\u7ae0-\u6c47\u7f16\u8bed\u8a00",children:"4.0 \u7b2c0\u7ae0: \u6c47\u7f16\u8bed\u8a00"}),"\n",(0,l.jsx)(e.h3,{id:"401-att-\u6c47\u7f16\u8bed\u8a00",children:"4.0.1 AT&T \u6c47\u7f16\u8bed\u8a00"}),"\n",(0,l.jsx)(e.p,{children:"GCC \u7f16\u8bd1\u5668\u6240\u751f\u6210\u7684\u6c47\u7f16\u8bed\u8a00\u5c31\u5c5e\u4e8e\u8fd9\u79cd"}),"\n",(0,l.jsx)(e.h3,{id:"402-\u6574\u6570\u52a0\u5e38\u6570\u4e58\u6574\u6570-\u90fd\u53ef\u4ee5\u88ab\u4f18\u5316\u6210-leal",children:"4.0.2 \u6574\u6570\u52a0\u5e38\u6570\u4e58\u6574\u6570: \u90fd\u53ef\u4ee5\u88ab\u4f18\u5316\u6210 leal"}),"\n",(0,l.jsx)(e.p,{children:"\u56e0\u4e3a\u8fd9\u79cd\u7ebf\u6027\u53d8\u6362\u5728\u5730\u5740\u7d22\u5f15\u4e2d\u5f88\u5e38\u89c1\uff0c\u6240\u4ee5\u88ab x86 \u505a\u6210\u4e86\u5355\u72ec\u4e00\u4e2a\u6307\u4ee4\u3002\u8fd9\u91cc\u5c3d\u7ba1\u4e0d\u662f\u5730\u5740\uff0c\u4f46\u540c\u6837\u53ef\u4ee5\u5229\u7528 lea \u6307\u4ee4\u7b80\u5316\u751f\u6210\u7684\u4ee3\u7801\u5927\u5c0f\u3002"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-31-03.png ##w600##",src:i(73492).A+"",width:"1718",height:"831"})})}),(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-31-28.png ##w600##",src:i(37857).A+"",width:"1767",height:"450"})})})]})]}),"\n",(0,l.jsx)(e.h3,{id:"403-\u6307\u9488\u7684\u7d22\u5f15-\u5c3d\u91cf\u7528-size_t",children:"4.0.3 \u6307\u9488\u7684\u7d22\u5f15: \u5c3d\u91cf\u7528 size_t"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"size_t \u5728 64 \u4f4d\u7cfb\u7edf\u4e0a\u76f8\u5f53\u4e8e uint64_t"}),"\n",(0,l.jsx)(e.li,{children:"size_t \u5728 32 \u4f4d\u7cfb\u7edf\u4e0a\u76f8\u5f53\u4e8e uint32_t"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u4ece\u800c\u4e0d\u9700\u8981\u7528",(0,l.jsx)(e.code,{children:"movslq"}),"\u4ece 32 \u4f4d\u7b26\u53f7\u6269\u5c55\u5230 64 \u4f4d\uff0c\u66f4\u9ad8\u6548\u3002\u800c\u4e14\u4e5f\u80fd\u5904\u7406\u6570\u7ec4\u5927\u5c0f\u8d85\u8fc7",(0,l.jsx)(e.code,{children:"INT_MAX"}),"\u7684\u60c5\u51b5\uff0c\u63a8\u8350\u59cb\u7ec8\u7528",(0,l.jsx)(e.code,{children:"size_t"}),"\u8868\u793a\u6570\u7ec4\u5927\u5c0f\u548c\u7d22\u5f15\u3002"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-29-05.png ##w600##",src:i(22167).A+"",width:"1767",height:"904"})})}),(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-29-25.png ##w600##",src:i(98429).A+"",width:"1835",height:"572"})})})]})]}),"\n",(0,l.jsx)(e.h3,{id:"404-\u4e3a\u4ec0\u4e48\u9700\u8981-simd-\u5355\u4e2a\u6307\u4ee4\u5904\u7406\u56db\u4e2a\u6570\u636e",children:"4.0.4 \u4e3a\u4ec0\u4e48\u9700\u8981 SIMD? \u5355\u4e2a\u6307\u4ee4\u5904\u7406\u56db\u4e2a\u6570\u636e"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-33-05.png ##w600##",src:i(41192).A+"",width:"1971",height:"1072"})})})})]}),"\n",(0,l.jsxs)(e.p,{children:["\u8fd9\u79cd\u5355\u4e2a\u6307\u4ee4\u5904\u7406\u591a\u4e2a\u6570\u636e\u7684\u6280\u672f\u79f0\u4e3a ",(0,l.jsx)(e.strong,{children:"SIMD\uff08single-instruction multiple-data\uff09"}),"\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u4ed6\u53ef\u4ee5\u5927\u5927\u589e\u52a0\u8ba1\u7b97\u5bc6\u96c6\u578b\u7a0b\u5e8f\u7684\u541e\u5410\u91cf\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u56e0\u4e3a SIMD \u628a 4 \u4e2a float \u6253\u5305\u5230\u4e00\u4e2a xmm \u5bc4\u5b58\u5668\u91cc\u540c\u65f6\u8fd0\u7b97\uff0c\u5f88\u50cf\u6570\u5b66\u4e2d\u77e2\u91cf\u7684\u9010\u5143\u7d20\u52a0\u6cd5\u3002\u56e0\u6b64 SIMD \u53c8\u88ab\u79f0\u4e3a\u77e2\u91cf\uff0c\u800c\u539f\u59cb\u7684\u4e00\u6b21\u53ea\u80fd\u5904\u7406 1 \u4e2a float \u7684\u65b9\u5f0f\uff0c\u5219\u79f0\u4e3a\u6807\u91cf\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u4e00\u5b9a\u6761\u4ef6\u4e0b\uff0c\u7f16\u8bd1\u5668\u80fd\u591f\u628a\u4e00\u4e2a\u5904\u7406\u6807\u91cf float \u7684\u4ee3\u7801\uff0c\u8f6c\u6362\u6210\u4e00\u4e2a\u5229\u7528 SIMD \u6307\u4ee4\u7684\uff0c\u5904\u7406\u77e2\u91cf float \u7684\u4ee3\u7801\uff0c\u4ece\u800c\u589e\u5f3a\u4f60\u7a0b\u5e8f\u7684\u541e\u5410\u80fd\u529b\uff01"}),"\n",(0,l.jsx)(e.p,{children:"\u901a\u5e38\u8ba4\u4e3a\u5229\u7528\u540c\u65f6\u5904\u7406 4 \u4e2a float \u7684 SIMD \u6307\u4ee4\u53ef\u4ee5\u52a0\u901f 4 \u500d\u3002\u4f46\u662f\u5982\u679c\u4f60\u7684\u7b97\u6cd5\u4e0d\u9002\u5408 SIMD\uff0c\u5219\u53ef\u80fd\u52a0\u901f\u8fbe\u4e0d\u5230 4 \u500d\uff1b\u4e5f\u6709\u56e0\u4e3a SIMD \u8ba9\u8bbf\u95ee\u5185\u5b58\u66f4\u6709\u89c4\u5f8b\uff0c\u8282\u7ea6\u4e86\u6307\u4ee4\u89e3\u7801\u548c\u6307\u4ee4\u7f13\u5b58\u7684\u538b\u529b\u7b49\u539f\u56e0\uff0c\u51fa\u73b0\u52a0\u901f\u8d85\u8fc7 4 \u500d\u7684\u60c5\u51b5\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"41-\u7b2c1\u7ae0-\u5316\u7b80",children:"4.1 \u7b2c1\u7ae0: \u5316\u7b80"}),"\n",(0,l.jsx)(e.h3,{id:"411-\u7f16\u8bd1\u5668\u4f18\u5316-\u4ee3\u6570\u5316\u7b80",children:"4.1.1 \u7f16\u8bd1\u5668\u4f18\u5316: \u4ee3\u6570\u5316\u7b80"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"int func(int a, int b) {\n    int c = a + b;\n    int d = a - b;\n    return (c + d) / 2; // \u4f1a\u88ab\u4f18\u5316\u6210 a\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"412-\u7f16\u8bd1\u5668\u4f18\u5316-\u5e38\u91cf\u6298\u53e0",children:"4.1.2 \u7f16\u8bd1\u5668\u4f18\u5316: \u5e38\u91cf\u6298\u53e0"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-35-37.png ##w600##",src:i(30397).A+"",width:"1687",height:"475"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"413-\u7f16\u8bd1\u5668\u4f18\u5316-\u4e3e\u4e2a\u4f8b\u5b50",children:"4.1.3 \u7f16\u8bd1\u5668\u4f18\u5316: \u4e3e\u4e2a\u4f8b\u5b50"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-36-34.png ##w600##",src:i(1983).A+"",width:"1829",height:"562"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"414-\u7f16\u8bd1\u5668\u4f18\u5316-\u6211\u6bd5\u7adf\u4e0d\u662f\u4e07\u80fd\u7684",children:"4.1.4 \u7f16\u8bd1\u5668\u4f18\u5316: \u6211\u6bd5\u7adf\u4e0d\u662f\u4e07\u80fd\u7684"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-37-54.png ##w600##",src:i(97318).A+"",width:"1973",height:"775"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"415-\u9020\u6210-newdelete-\u7684\u5bb9\u5668-\u6211\u662f\u8bf4\u5185\u5b58\u5206\u914d\u5728\u5806\u4e0a\u7684\u5bb9\u5668",children:"4.1.5 \u9020\u6210 new/delete \u7684\u5bb9\u5668: \u6211\u662f\u8bf4\uff0c\u5185\u5b58\u5206\u914d\u5728\u5806\u4e0a\u7684\u5bb9\u5668"}),"\n",(0,l.jsx)(e.p,{children:"\u5b58\u50a8\u5728\u5806\u4e0a\uff08\u59a8\u788d\u4f18\u5316\uff09:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"vector, map, set, string, function, any"}),"\n",(0,l.jsx)(e.li,{children:"unique_ptr, shared_ptr, weak_ptr"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u5b58\u50a8\u5728\u6808\u4e0a\uff08\u5229\u4e8e\u4f18\u5316\uff09:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"array, bitset, glm::vec, string_view"}),"\n",(0,l.jsx)(e.li,{children:"pair, tuple, optional, variant"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u5b58\u50a8\u5728\u6808\u4e0a\u65e0\u6cd5\u52a8\u6001\u6269\u5145\u5927\u5c0f\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48 vector \u8fd9\u79cd\u6570\u636e\u7ed3\u6784\u8981\u5b58\u5728\u5806\u4e0a\uff0c\u800c\u56fa\u5b9a\u957f\u5ea6\u7684 array \u53ef\u4ee5\u5b58\u5728\u6808\u4e0a (\u8bdd\u8bf4C++20\u7684vector\u597d\u50cf\u53ef\u4ee5)"}),"\n",(0,l.jsxs)(e.p,{children:["\u5177\u4f53\u600e\u4e48\u770b? \u53ef\u4ee5\u76f4\u63a5",(0,l.jsx)(e.code,{children:"sizeof"}),", \u5982\u679c\u5b58\u50a8\u7684\u6570\u636e\u91cf\u548c\u5927\u5c0f\u4e0d\u76f8\u5173, \u90a3\u5c31\u662f\u5806\u4e0a."]}),"\n",(0,l.jsx)(e.h3,{id:"416-\u6d89\u53ca\u7684\u8bed\u53e5\u6570\u91cf\u8fc7\u591a\u65f6\u7f16\u8bd1\u5668\u4f1a\u653e\u5f03\u4f18\u5316",children:"4.1.6 \u6d89\u53ca\u7684\u8bed\u53e5\u6570\u91cf\u8fc7\u591a\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u653e\u5f03\u4f18\u5316"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7ed3\u8bba: \u4ee3\u7801\u8fc7\u4e8e\u590d\u6742\uff0c\u6d89\u53ca\u7684\u8bed\u53e5\u6570\u91cf\u8fc7\u591a\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u653e\u5f03\u4f18\u5316\uff01"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u7b80\u5355\u7684\u4ee3\u7801\uff0c\u6bd4\u4ec0\u4e48\u4f18\u5316\u624b\u6bb5\u90fd\u5f3a\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"417-constexpr-\u5f3a\u8feb\u7f16\u8bd1\u5668\u5728\u7f16\u8bd1\u671f\u6c42\u503c",children:"4.1.7 constexpr: \u5f3a\u8feb\u7f16\u8bd1\u5668\u5728\u7f16\u8bd1\u671f\u6c42\u503c"}),"\n",(0,l.jsx)(e.p,{children:"\u7ed3\u8bba: \u5982\u679c\u53d1\u73b0\u7f16\u8bd1\u5668\u653e\u5f03\u4e86\u81ea\u52a8\u4f18\u5316\uff0c\u53ef\u4ee5\u7528 constexpr \u51fd\u6570\u8feb\u4f7f\u7f16\u8bd1\u5668\u8fdb\u884c\u5e38\u91cf\u6298\u53e0\uff01"}),"\n",(0,l.jsx)(e.p,{children:"\u4e0d\u8fc7\uff0cconstexpr \u51fd\u6570\u4e2d\u65e0\u6cd5\u4f7f\u7528\u975e constexpr \u7684\u5bb9\u5668: vector, map, set, string \u7b49..."}),"\n",(0,l.jsx)(e.h2,{id:"42-\u7b2c2\u7ae0-\u5185\u8054",children:"4.2 \u7b2c2\u7ae0: \u5185\u8054"}),"\n",(0,l.jsx)(e.h3,{id:"421-\u8c03\u7528\u5916\u90e8\u51fd\u6570-call-\u6307\u4ee4",children:"4.2.1 \u8c03\u7528\u5916\u90e8\u51fd\u6570: call \u6307\u4ee4"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"@PLT"}),"\u662f",(0,l.jsx)(e.code,{children:"Procedure Linkage Table"}),"\u7684\u7f29\u5199\uff0c\u5373\u51fd\u6570\u94fe\u63a5\u8868\u3002\u94fe\u63a5\u5668\u4f1a\u67e5\u627e\u5176\u4ed6",(0,l.jsx)(e.code,{children:".o"}),"\u6587\u4ef6\u4e2d\u662f\u5426\u5b9a\u4e49\u4e86",(0,l.jsx)(e.code,{children:"_Z5otheri"}),"\u8fd9\u4e2a\u7b26\u53f7\uff0c\u5982\u679c\u5b9a\u4e49\u4e86\u5219\u628a\u8fd9\u4e2a",(0,l.jsx)(e.code,{children:"@PLT"}),"\u66ff\u6362\u4e3a\u4ed6\u7684\u5730\u5740\u3002"]}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-42-47.png ##w600##",src:i(11078).A+"",width:"1788",height:"742"})})})})]}),"\n",(0,l.jsx)(e.p,{children:"\u5bf9 PLT \u611f\u5174\u8da3?"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u770b ",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/pannengzhi/p/2018-04-09-about-got-plt.html",children:"\u6df1\u5165\u4e86\u89e3GOT,PLT\u548c\u52a8\u6001\u94fe\u63a5"})]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"422-\u7f16\u8bd1\u5668\u4f18\u5316-call-\u53d8-jmp",children:"4.2.2 \u7f16\u8bd1\u5668\u4f18\u5316: call \u53d8 jmp"}),"\n",(0,l.jsxs)(e.p,{children:["\u5f00\u542f",(0,l.jsx)(e.code,{children:"O3"}),"\u4f18\u5316\u540e:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-44-52.png ##w600##",src:i(41870).A+"",width:"1823",height:"402"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"423-\u591a\u4e2a\u51fd\u6570\u5b9a\u4e49\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d",children:"4.2.3 \u591a\u4e2a\u51fd\u6570\u5b9a\u4e49\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d"}),"\n",(0,l.jsx)(e.p,{children:"\u5982\u679c _Z5otheri \u5b9a\u4e49\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u7f16\u8bd1\u5668\u4f1a\u76f4\u63a5\u8c03\u7528\uff0c\u6ca1\u6709 @PLT \u8868\u793a\u672a\u5b9a\u4e49\u5bf9\u8c61\u3002\u51cf\u8f7b\u4e86\u94fe\u63a5\u5668\u7684\u8d1f\u62c5\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"424-\u7f16\u8bd1\u5668\u4f18\u5316-\u5185\u8054\u5316",children:"4.2.4 \u7f16\u8bd1\u5668\u4f18\u5316: \u5185\u8054\u5316"}),"\n",(0,l.jsx)(e.p,{children:"\u53ea\u6709\u5b9a\u4e49\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u7684\u51fd\u6570\u53ef\u4ee5\u88ab\u5185\u8054\uff01\u5426\u5219\u7f16\u8bd1\u5668\u770b\u4e0d\u89c1\u51fd\u6570\u4f53\u91cc\u7684\u5185\u5bb9\u600e\u4e48\u5185\u8054\u5462\uff1f"}),"\n",(0,l.jsxs)(e.p,{children:["\u4e3a\u4e86\u6548\u7387\u6211\u4eec\u53ef\u4ee5\u5c3d\u91cf\u628a\u5e38\u7528\u51fd\u6570\u5b9a\u4e49\u5728\u5934\u6587\u4ef6\u91cc\uff0c\u7136\u540e\u58f0\u660e\u4e3a",(0,l.jsx)(e.code,{children:"static"}),"\u3002\u8fd9\u6837\u8c03\u7528\u4ed6\u4eec\u7684\u65f6\u5019\u7f16\u8bd1\u5668\u770b\u5f97\u5230\u4ed6\u4eec\u7684\u51fd\u6570\u4f53\uff0c\u4ece\u800c\u6709\u673a\u4f1a\u5185\u8054\u3002"]}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-48-05.png ##w700##",src:i(59618).A+"",width:"1671",height:"997"})})})})]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5185\u8054: \u5f53\u7f16\u8bd1\u5668\u770b\u5f97\u5230\u88ab\u8c03\u7528\u51fd\u6570\uff08other\uff09\u5b9e\u73b0\u7684\u65f6\u5019\uff0c\u4f1a\u76f4\u63a5\u628a\u51fd\u6570\u5b9e\u73b0\u8d34\u5230\u8c03\u7528\u4ed6\u7684\u51fd\u6570\uff08func\uff09\u91cc\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"425-\u5c40\u90e8\u53ef\u89c1\u51fd\u6570-static",children:"4.2.5 \u5c40\u90e8\u53ef\u89c1\u51fd\u6570: static"}),"\n",(0,l.jsx)(e.p,{children:"\u56e0\u4e3a static \u58f0\u660e\u8868\u793a\u4e0d\u4f1a\u66b4\u9732 other \u7ed9\u5176\u4ed6\u6587\u4ef6\uff0c\u800c\u4e14 func \u4e5f\u5df2\u7ecf\u5185\u8054\u4e86 other\uff0c\u6240\u4ee5\u7f16\u8bd1\u5668\u5e72\u8106\u4e0d\u5b9a\u4e49 other \u4e86\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"426-inline-\u5173\u952e\u5b57-\u4e0d\u9700\u8981",children:"4.2.6 inline \u5173\u952e\u5b57? \u4e0d\u9700\u8981"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-49-36.png ##w800##",src:i(1611).A+"",width:"1915",height:"241"})})})})]}),"\n",(0,l.jsx)(e.p,{children:"\u7f16\u8bd1\u7684\u7ed3\u679c\u5b8c\u5168\u4e00\u81f4\uff1f"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u7ed3\u8bba: \u5728\u73b0\u4ee3\u7f16\u8bd1\u5668\u7684\u9ad8\u5f3a\u5ea6\u4f18\u5316\u4e0b\uff0c\u52a0\u4e0d\u52a0",(0,l.jsx)(e.code,{children:"inline"}),"\u65e0\u6240\u8c13"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u7f16\u8bd1\u5668\u4e0d\u662f\u50bb\u5b50\uff0c\u53ea\u8981\u4ed6\u770b\u5f97\u89c1",(0,l.jsx)(e.code,{children:"other"}),"\u7684\u51fd\u6570\u4f53\u5b9a\u4e49\uff0c\u5c31\u4f1a\u81ea\u52a8\u5185\u8054"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5185\u8054\u4e0e\u5426\u548c",(0,l.jsx)(e.code,{children:"inline"}),"\u6ca1\u5173\u7cfb\uff0c",(0,l.jsx)(e.strong,{children:"\u5185\u8054\u4e0e\u5426\u53ea\u53d6\u51b3\u4e8e\u662f\u5426\u5728\u540c\u6587\u4ef6\uff0c\u4e14\u51fd\u6570\u4f53\u591f\u5c0f"})]}),"\n",(0,l.jsxs)(e.p,{children:["\u8981\u6027\u80fd\u7684\uff0c\u5b9a\u4e49\u5728\u5934\u6587\u4ef6\u58f0\u660e\u4e3a",(0,l.jsx)(e.code,{children:"static"}),"\u5373\u53ef\uff0c\u6ca1\u5fc5\u8981\u52a0",(0,l.jsx)(e.code,{children:"inline"}),"\u7684"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"static"}),"\u7eaf\u7cb9\u662f\u4e3a\u4e86\u907f\u514d\u591a\u4e2a",(0,l.jsx)(e.code,{children:".cpp"}),"\u5f15\u7528\u540c\u4e00\u4e2a\u5934\u6587\u4ef6\u9020\u6210\u51b2\u7a81\uff0c\u5e76\u4e0d\u662f\u5fc5\u987b",(0,l.jsx)(e.code,{children:"static"}),"\u624d\u5185\u8054"]}),"\n",(0,l.jsx)(e.p,{children:"\u5982\u679c\u4f60\u4e0d\u786e\u5b9a\u67d0\u4fee\u6539\u662f\u5426\u80fd\u63d0\u5347\u6027\u80fd\uff0c\u90a3\u4f60\u6700\u597d\u5b9e\u9645\u6d4b\u4e00\u4e0b\uff0c\u4e0d\u8981\u8111\u5185\u6a21\u62df"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"inline"}),"\u5728\u73b0\u4ee3 C++ \u4e2d\u6709\u5176\u4ed6\u542b\u4e49\uff0c\u4f46\u548c\u5185\u8054\u6ca1\u6709\u5173\u7cfb\uff0c\u4ed6\u662f\u4e00\u4e2a\u8ff7\u60d1\u6027\u7684\u540d\u5b57"]}),"\n",(0,l.jsx)(e.h3,{id:"427-\u5927\u5382\u9762\u8bd5\u5b98\u7b11\u8bdd",children:"4.2.7 \u201c\u5927\u5382\u9762\u8bd5\u5b98\u201d\u7b11\u8bdd"}),"\n",(0,l.jsx)(e.p,{children:"\u540c\u6837\u6ca6\u4e3a\u7b11\u67c4\u7684\u8fd8\u6709 register \u5173\u952e\u5b57\uff0c\u53f7\u79f0: \u53ef\u4ee5\u8ba9\u4e00\u4e2a\u53d8\u91cf\u4f7f\u7528\u5bc4\u5b58\u5668\u5b58\u50a8\uff0c\u66f4\u9ad8\u6548\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u90fd\u80fd\u628a\u7b49\u5dee\u6570\u5217\u6c42\u548c\u4f18\u5316\u6210 5050 \u7684\u7f16\u8bd1\u5668\u7b11\u7740\u770b\u7740\u4f60\uff0c\u8bf4\u9053: \u8fd8\u8981\u4f60\u63d0\u9192\u5417\uff1f"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u8ba1\u7b97\u673a\u7f16\u7a0b\u53c8\u4e0d\u662f\u91cf\u5b50\u7269\u7406\u5e7f\u4e49\u76f8\u5bf9\u8bba\uff0c\u6211\u4eec\u6bcf\u4e2a\u4eba\u90fd\u6709\u7535\u8111\uff0c\u505a\u4e00\u4e0b\u5b9e\u9a8c\u5f88\u5bb9\u6613\uff0c\u53ef\u603b\u6709\u6240\u8c13\u7684\u201c\u8001\u5e08\u201d\u5c31\u4e0d\u80af\u52a8\u52a8\u624b\u6572\u51e0\u884c\u547d\u4ee4\uff08\u5199doc\u6587\u4ef6\u5012\u633a\u52e4\u7684\uff09\uff0c\u5728\u90a3\u91cc\u4f20\u64ad\u5047\u77e5\u8bc6\u3002"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsxs)(e.p,{children:["\u5728\u7ebf\u505a\u7f16\u8bd1\u5668\u5b9e\u9a8c\u63a8\u8350\u8fd9\u4e2a\u7f51\u7ad9: ",(0,l.jsx)(e.a,{href:"https://godbolt.org/",children:"https://godbolt.org/"})]}),"\n",(0,l.jsx)(e.p,{children:"\u53ef\u4ee5\u5b9e\u65f6\u770b\u6e90\u4ee3\u7801\u7f16\u8bd1\u7684\u7ed3\u679c\uff0c\u8fd8\u80fd\u9009\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u7248\u672c\u548c flag\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u4e0d\u8981\u8111\u5185\u6a21\u62df\uff01\u4f60\u8bef\u4ee5\u4e3a\u67d0\u66f4\u6539\u5bf9\u6027\u80fd\u6709\u5e2e\u52a9\uff0c\u7136\u800c\u5b9e\u9645\u6d4b\u4e00\u4e0b\u65f6\u95f4\u6709\u4e00\u5b9a\u53ef\u80fd\u53cd\u800c\u53d8\u6162\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"43-\u7b2c3\u7ae0-\u6307\u9488",children:"4.3 \u7b2c3\u7ae0: \u6307\u9488"}),"\n",(0,l.jsxs)(e.h3,{id:"431-\u544a\u8bc9\u7f16\u8bd1\u5668\u522b\u6015\u6307\u9488\u522b\u540d-__restrict\u5173\u952e\u5b57",children:["4.3.1 \u544a\u8bc9\u7f16\u8bd1\u5668\u522b\u6015\u6307\u9488\u522b\u540d: ",(0,l.jsx)(e.code,{children:"__restrict"}),"\u5173\u952e\u5b57"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-53-46.png ##w700##",src:i(97677).A+"",width:"1795",height:"891"})})}),(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-54-28.png ##w700##",src:i(19760).A+"",width:"1742",height:"684"})})}),(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-55-36.png ##w700##",src:i(29882).A+"",width:"1621",height:"708"})})})]})]}),"\n",(0,l.jsxs)(e.h3,{id:"432-__restrict\u5173\u952e\u5b57-\u53ea\u9700\u52a0\u5728\u975e-const-\u7684\u5373\u53ef",children:["4.3.2 ",(0,l.jsx)(e.code,{children:"__restrict"}),"\u5173\u952e\u5b57: \u53ea\u9700\u52a0\u5728\u975e const \u7684\u5373\u53ef"]}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_15-56-32.png ##w700##",src:i(22683).A+"",width:"1573",height:"805"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"433-\u7981\u6b62\u4f18\u5316-volatile",children:"4.3.3 \u7981\u6b62\u4f18\u5316: volatile"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-00-45.png ##w700##",src:i(75825).A+"",width:"1677",height:"969"})})})})]}),"\n",(0,l.jsxs)(e.h3,{id:"434-\u6ce8\u610f\u4e00\u4e0b\u533a\u522b__restrictvolatile",children:["4.3.4 \u6ce8\u610f\u4e00\u4e0b\u533a\u522b",(0,l.jsx)(e.code,{children:"__restrict"}),"&",(0,l.jsx)(e.code,{children:"volatile"})]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"volatile int *a"}),"\u6216",(0,l.jsx)(e.code,{children:"int volatile *a"})]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"int *__restrict a"})}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8bed\u6cd5\u4e0a\u533a\u522b: volatile \u5728 * \u524d\u9762, \u800c __restrict \u5728 * \u540e\u9762\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u529f\u80fd\u4e0a\u533a\u522b: volatile \u662f\u7981\u7528\u4f18\u5316, __restrict \u662f\u5e2e\u52a9\u4f18\u5316\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u662f\u5426\u5c5e\u4e8e\u6807\u51c6\u4e0a\u533a\u522b:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"volatile \u548c const \u4e00\u6837\u662f C++ \u6807\u51c6\u7684\u4e00\u90e8\u5206\u3002"}),"\n",(0,l.jsx)(e.li,{children:"restrict \u662f C99 \u6807\u51c6\u5173\u952e\u5b57\uff0c\u4f46\u4e0d\u662f C++ \u6807\u51c6\u7684\u5173\u952e\u5b57\u3002"}),"\n",(0,l.jsx)(e.li,{children:"__restrict \u5176\u5b9e\u662f\u7f16\u8bd1\u5668\u7684\u201c\u79c1\u8d27\u201d\uff0c\u597d\u5728\u5927\u591a\u6570\u4e3b\u6d41\u7f16\u8bd1\u5668\u90fd\u652f\u6301\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.del,{children:"\u6240\u4ee5\u65e0\u803b\u7684 C\u8279\u6807\u51c6\u59d4\u5458\u4f1a\u4ec0\u4e48\u65f6\u5019\u80af\u628a\u4ed6\u52a0\u5165\u6807\u51c6\u5462\uff1f\u770b\u770b\u4eba\u5bb6 C \u8bed\u8a00\u3002"})}),"\n",(0,l.jsx)(e.h3,{id:"435-\u7f16\u8bd1\u5668\u4f18\u5316-\u5408\u5e76\u5199\u5165-\u306e-\u4e0d\u80fd\u8df3\u8dc3",children:"4.3.5 \u7f16\u8bd1\u5668\u4f18\u5316: \u5408\u5e76\u5199\u5165 \u306e \u4e0d\u80fd\u8df3\u8dc3"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-03-52.png ##w700##",src:i(73388).A+"",width:"1765",height:"632"})})}),(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-04-51.png ##w700##",src:i(84906).A+"",width:"1667",height:"433"})})})]})]}),"\n",(0,l.jsx)(e.h2,{id:"44-\u7b2c4\u7ae0-\u77e2\u91cf\u5316",children:"4.4 \u7b2c4\u7ae0: \u77e2\u91cf\u5316"}),"\n",(0,l.jsx)(e.h3,{id:"441-\u66f4\u5bbd\u7684\u5408\u5e76\u5199\u5165-\u77e2\u91cf\u5316\u6307\u4ee4-simd",children:"4.4.1 \u66f4\u5bbd\u7684\u5408\u5e76\u5199\u5165: \u77e2\u91cf\u5316\u6307\u4ee4 (SIMD)"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-06-22.png ##w700##",src:i(9946).A+"",width:"1821",height:"948"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"442-simd-\u6307\u4ee4-\u6562\u4e0d\u6562\u518d\u5bbd\u4e00\u70b9",children:"4.4.2 SIMD \u6307\u4ee4: \u6562\u4e0d\u6562\u518d\u5bbd\u4e00\u70b9?"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-07-18.png ##w700##",src:i(7358).A+"",width:"1698",height:"878"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"443-\u8ba9\u7f16\u8bd1\u5668\u81ea\u52a8\u68c0\u6d4b\u5f53\u524d\u786c\u4ef6\u652f\u6301\u7684\u6307\u4ee4\u96c6",children:"4.4.3 \u8ba9\u7f16\u8bd1\u5668\u81ea\u52a8\u68c0\u6d4b\u5f53\u524d\u786c\u4ef6\u652f\u6301\u7684\u6307\u4ee4\u96c6"}),"\n",(0,l.jsxs)(e.div,{className:"markdown-alert markdown-alert-tip",children:["\n",(0,l.jsxs)(e.p,{className:"markdown-alert-title",children:[(0,l.jsx)(e.span,{className:"octicon octicon-tip",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-light-bulb mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Tip"]}),"\n",(0,l.jsx)(e.p,{children:"\u8fd9\u6837\u5c31\u4e0d\u592a\u5177\u6709\u53ef\u79fb\u690d\u6027\u4e86"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"gcc -march=native -O3\n"})}),"\n",(0,l.jsx)(e.h3,{id:"444-\u6570\u7ec4\u6e05\u96f6-\u81ea\u52a8\u8c03\u7528\u6807\u51c6\u5e93\u7684-memset",children:"4.4.4 \u6570\u7ec4\u6e05\u96f6: \u81ea\u52a8\u8c03\u7528\u6807\u51c6\u5e93\u7684 memset"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-09-47.png ##w700##",src:i(51196).A+"",width:"1772",height:"731"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"445-\u4ece-0-\u5230-1024-\u586b\u5145-simd-\u52a0\u901f",children:"4.4.5 \u4ece 0 \u5230 1024 \u586b\u5145: SIMD \u52a0\u901f"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"void func(int *a) {\n    for (int i = 0; i < 1024; ++i) {\n        a[i] = i;\n    }\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u4f18\u5316\u6210: // \u4f2a\u4ee3\u7801"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"void func(int *a) {\n    __m128i curr = {0, 1, 2, 3};\n    __m128i delta = {4, 4, 4, 4};\n    for (int i = 0; i < 1024; i += 4) {\n        a[i : i + 4] = curr;\n        curr += delta;\n    }\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u4e00\u6b21\u5199\u5165 4 \u4e2a int\uff0c\u4e00\u6b21\u8ba1\u7b97 4 \u4e2a int \u7684\u52a0\u6cd5\uff0c\u4ece\u800c\u66f4\u52a0\u9ad8\u6548"}),"\n",(0,l.jsx)(e.p,{children:"\u4f46\u8fd9\u6837\u6709\u4e2a\u7f3a\u70b9\uff0c\u90a3\u5c31\u662f\u6570\u7ec4\u7684\u5927\u5c0f\u5fc5\u987b\u4e3a 4 \u7684\u6574\u6570\u500d, \u5426\u5219\u5c31\u4f1a\u5199\u5165\u8d8a\u754c\u7684\u5730\u5740"}),"\n",(0,l.jsx)(e.h3,{id:"446-\u5982\u679c\u4e0d\u662f-4-\u7684\u500d\u6570-\u8fb9\u754c\u7279\u5224\u6cd5",children:"4.4.6 \u5982\u679c\u4e0d\u662f 4 \u7684\u500d\u6570? \u8fb9\u754c\u7279\u5224\u6cd5"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-14-55.png ##w800##",src:i(94107).A+"",width:"1982",height:"845"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"447-n-\u603b\u662f-4-\u7684\u500d\u6570-\u907f\u514d\u8fb9\u754c\u7279\u5224",children:"4.4.7 n \u603b\u662f 4 \u7684\u500d\u6570? \u907f\u514d\u8fb9\u754c\u7279\u5224"}),"\n",(0,l.jsx)(e.p,{children:"\u5982\u679c\u4f60\u80fd\u4fdd\u8bc1 n \u603b\u662f 4 \u7684\u500d\u6570\uff0c\u4e5f\u53ef\u4ee5\u8fd9\u6837\u5199:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"void func(int *a, int n) {\n    n = n / 4 * 4;\n    for (int i = 0; i < n; ++i) {\n        a[i] = i;\n    }\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u7f16\u8bd1\u5668\u4f1a\u53d1\u73b0 n % 4 = 0\uff0c\u4ece\u800c\u4e0d\u4f1a\u751f\u6210\u8fb9\u754c\u7279\u5224\u7684\u5206\u652f\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"448-\u5047\u5b9a\u6307\u9488\u662f-16-\u5b57\u8282\u5bf9\u9f50\u7684-assume_aligned",children:"4.4.8 \u5047\u5b9a\u6307\u9488\u662f 16 \u5b57\u8282\u5bf9\u9f50\u7684: assume_aligned"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-16-53.png ##w800##",src:i(95187).A+"",width:"2005",height:"1182"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"449-\u6570\u7ec4\u6c42\u548c-reduction-\u7684\u4f18\u5316",children:"4.4.9 \u6570\u7ec4\u6c42\u548c: reduction \u7684\u4f18\u5316"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-17-41.png ##w800##",src:i(4301).A+"",width:"2042",height:"1185"})})})})]}),"\n",(0,l.jsx)(e.h2,{id:"45-\u7b2c5\u7ae0-\u5faa\u73af",children:"4.5 \u7b2c5\u7ae0: \u5faa\u73af"}),"\n",(0,l.jsxs)(e.div,{className:"markdown-alert markdown-alert-tip",children:["\n",(0,l.jsxs)(e.p,{className:"markdown-alert-title",children:[(0,l.jsx)(e.span,{className:"octicon octicon-tip",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-light-bulb mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Tip"]}),"\n",(0,l.jsxs)(e.p,{children:["\u76f8\u6bd4\u4e8e\u6267\u884c\u4e00\u904d\u7684\u4ee3\u7801, \u6839\u636e\u4ece\u8ba1\u7ec4\u4e2d\u5b66\u5230\u7684",(0,l.jsx)(e.code,{children:"\u52a0\u5927\u6982\u7387\u4e8b\u4ef6"}),"\u7684\u539f\u5219, \u6211\u4eec\u66f4\u503e\u5411\u4f18\u5316",(0,l.jsx)(e.code,{children:"\u5faa\u73af"}),"\u4e2d\u7684\u4ee3\u7801, \u56e0\u4e3a\u4ed6\u4eec\u7684\u6267\u884c\u6b21\u6570\u5f88\u591a, \u4e5f\u79f0\u4e3a\u70ed\u4ee3\u7801..."]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"451-\u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316-\u8fd8\u5728\u4f3a\u5019\u6307\u9488\u522b\u540d",children:"4.5.1 \u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316: \u8fd8\u5728\u4f3a\u5019\u6307\u9488\u522b\u540d"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-21-02.png ##w800##",src:i(23267).A+"",width:"2037",height:"1178"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"452-\u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316-\u89e3\u51b3\u6307\u9488\u522b\u540d",children:"4.5.2 \u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316: \u89e3\u51b3\u6307\u9488\u522b\u540d"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-21-40.png ##w800##",src:i(20389).A+"",width:"2068",height:"923"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"453-\u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316-openmp-\u5f3a\u5236\u77e2\u91cf\u5316",children:"4.5.3 \u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316: OpenMP \u5f3a\u5236\u77e2\u91cf\u5316"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-22-43.png ##w800##",src:i(46371).A+"",width:"1976",height:"1139"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"454-\u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316-\u7f16\u8bd1\u5668\u63d0\u793a\u5ffd\u7565\u6307\u9488\u522b\u540d",children:"4.5.4 \u5faa\u73af\u4e2d\u7684\u77e2\u91cf\u5316: \u7f16\u8bd1\u5668\u63d0\u793a\u5ffd\u7565\u6307\u9488\u522b\u540d"}),"\n",(0,l.jsxs)(e.p,{children:["\u9664\u4e86\u53ef\u4ee5\u7528",(0,l.jsx)(e.code,{children:"__restrict"}),"\uff0c",(0,l.jsx)(e.code,{children:"#pragma omp simd"}),"\u5916\uff0c\u5bf9\u4e8e GCC \u7f16\u8bd1\u5668\u8fd8\u53ef\u4ee5\u7528:"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"#pragma GCC ivdep\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u8868\u793a\u5ffd\u89c6\u4e0b\u65b9 for \u5faa\u73af\u5185\u53ef\u80fd\u7684\u6307\u9488\u522b\u540d\u73b0\u8c61\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u8fd9\u4e2a pragma \u6307\u4ee4\u4e0d\u540c\uff0c\u8fd9\u91cc\u53ea\u662f\u62ff GCC \u4e3e\u4f8b\uff0c\u5176\u4ed6\u7f16\u8bd1\u5668\u8bf7\u81ea\u884c\u67e5\u627e\u8d44\u6599\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"455-\u5faa\u73af\u4e2d\u7684-if-\u8bed\u53e5-\u632a\u5230\u5916\u9762\u6765",children:"4.5.5 \u5faa\u73af\u4e2d\u7684 if \u8bed\u53e5: \u632a\u5230\u5916\u9762\u6765"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-24-23.png",src:i(71871).A+"",width:"2107",height:"1185"})}),"\n",(0,l.jsx)(e.h3,{id:"456-\u5faa\u73af\u4e2d\u7684\u4e0d\u53d8\u91cf-\u632a\u5230\u5916\u9762\u6765",children:"4.5.6 \u5faa\u73af\u4e2d\u7684\u4e0d\u53d8\u91cf: \u632a\u5230\u5916\u9762\u6765"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-25-05.png",src:i(11808).A+"",width:"2088",height:"1070"})}),"\n",(0,l.jsx)(e.h3,{id:"457-\u632a\u5230\u5916\u9762\u6765-\u4f18\u5316\u5931\u8d25",children:"4.5.7 \u632a\u5230\u5916\u9762\u6765: \u4f18\u5316\u5931\u8d25"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-25-49.png",src:i(2296).A+"",width:"1155",height:"690"})}),"\n",(0,l.jsxs)(e.p,{children:["\u6ce8: \u5b9e\u9645\u4e0a, ",(0,l.jsx)(e.code,{children:"dt*dt"}),"\u4e0d\u52a0\u62ec\u53f7\u4e0d\u4f5c\u4f18\u5316\uff0c\u662f\u7531\u4e8e\u6d6e\u70b9\u8fd0\u7b97\u4e0d\u6ee1\u8db3\u7ed3\u5408\u5f8b\uff0c\u56e0\u4e3a\u6d6e\u70b9\u4e0d\u80fd\u7cbe\u786e\u8868\u793a\u5b9e\u6570\u3002"]}),"\n",(0,l.jsx)(e.h3,{id:"458-\u8c03\u7528\u4e0d\u5728\u53e6\u4e00\u4e2a\u6587\u4ef6\u7684\u51fd\u6570-simd-\u4f18\u5316\u5931\u8d25",children:"4.5.8 \u8c03\u7528\u4e0d\u5728\u53e6\u4e00\u4e2a\u6587\u4ef6\u7684\u51fd\u6570: SIMD \u4f18\u5316\u5931\u8d25"}),"\n",(0,l.jsx)(e.p,{children:"\u56e0\u4e3a\u7f16\u8bd1\u5668\u770b\u4e0d\u5230\u90a3\u4e2a\u6587\u4ef6\u7684 other \u51fd\u6570\u91cc\u662f\u4ec0\u4e48\uff0c\u54ea\u6015 other \u5728\u5b9a\u4e49\u4ed6\u7684\u6587\u4ef6\u91cc\u662f\u4e2a\u7a7a\u51fd\u6570\uff0c\u4ed6\u4e5f\u4e0d\u6562\u4f18\u5316\u6389\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"void other();\n\nfloat func(float *a) {\n    float ret = 0;\n    for (int i = 0; i < 1024; i++) {\n        ret += a[i];\n        other();\n    }\n    return ret;\n}\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u89e3\u51b3\u65b9\u6848: \u653e\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u91cc"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u7ed3\u8bba: \u907f\u514d\u5728 for \u5faa\u73af\u4f53\u91cc\u8c03\u7528\u5916\u90e8\u51fd\u6570\uff0c\u628a\u4ed6\u4eec\u79fb\u5230\u540c\u4e00\u4e2a\u6587\u4ef6\u91cc\uff0c\u6216\u8005\u653e\u5728\u5934\u6587\u4ef6\u58f0\u660e\u4e3a",(0,l.jsx)(e.code,{children:"static"}),"\u51fd\u6570\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5c06 other \u653e\u5230 \u548c func \u540c\u4e00\u4e2a .cpp \u6587\u4ef6\u91cc\uff0c\u8fd9\u6837\u7f16\u8bd1\u5668\u770b\u5f97\u5230 other \u7684\u51fd\u6570\u4f53\uff0c\u5c31\u53ef\u4ee5\u5185\u8054\u5316\u8be5\u51fd\u6570"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"459-\u5faa\u73af\u4e2d\u7684\u4e0b\u6807-\u968f\u673a\u8bbf\u95ee",children:"4.5.9 \u5faa\u73af\u4e2d\u7684\u4e0b\u6807: \u968f\u673a\u8bbf\u95ee"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u77e2\u91cf\u5316\u5931\u8d25!"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"void func(float *a, int *b) {\n    for (int i = 0; i < 1024; i++) {\n        a[b[i]] += 1;\n    }\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"4510-\u5faa\u73af\u4e2d\u7684\u4e0b\u6807-\u8df3\u8dc3\u8bbf\u95ee",children:"4.5.10 \u5faa\u73af\u4e2d\u7684\u4e0b\u6807: \u8df3\u8dc3\u8bbf\u95ee"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u77e2\u91cf\u5316\u90e8\u5206\u6210\u529f\uff0c\u4f46\u662f\u975e\u5e38\u8270\u96be"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"void func(float *a) {\n    for (int i = 0; i < 1024; i++) {\n        a[i * 2] += 1;\n    }\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"4511-\u5faa\u73af\u4e2d\u7684\u4e0b\u6807-\u8fde\u7eed\u8bbf\u95ee",children:"4.5.11 \u5faa\u73af\u4e2d\u7684\u4e0b\u6807: \u8fde\u7eed\u8bbf\u95ee"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u77e2\u91cf\u5316\u5927\u6210\u529f!"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"void func(float *a) {\n    for (int i = 0; i < 1024; i++) {\n        a[i] += 1;\n    }\n}\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u7ed3\u8bba: \u4e0d\u7ba1\u662f\u7f16\u8bd1\u5668\u8fd8\u662f CPU\uff0c\u90fd\u559c\u6b22\u987a\u5e8f\u7684",(0,l.jsx)(e.strong,{children:"\u8fde\u7eed\u8bbf\u95ee"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"4512-\u4e3a\u4ec0\u4e48\u9700\u8981\u5faa\u73af\u5c55\u5f00",children:"4.5.12 \u4e3a\u4ec0\u4e48\u9700\u8981\u5faa\u73af\u5c55\u5f00"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-33-07.png ##w700##",src:i(78861).A+"",width:"1965",height:"699"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"4513-\u7f16\u8bd1\u5668\u6307\u4ee4-\u5faa\u73af\u5c55\u5f00",children:"4.5.13 \u7f16\u8bd1\u5668\u6307\u4ee4: \u5faa\u73af\u5c55\u5f00"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-33-39.png ##w800##",src:i(2578).A+"",width:"1985",height:"1092"})})})})]}),"\n",(0,l.jsx)(e.h2,{id:"46-\u7b2c6\u7ae0-\u7ed3\u6784\u4f53",children:"4.6 \u7b2c6\u7ae0: \u7ed3\u6784\u4f53"}),"\n",(0,l.jsx)(e.h3,{id:"461-\u4e24\u4e2a-float-\u5bf9\u9f50\u5230-8-\u5b57\u8282",children:"4.6.1 \u4e24\u4e2a float: \u5bf9\u9f50\u5230 8 \u5b57\u8282"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-36-54.png",src:i(15146).A+"",width:"1980",height:"1113"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"462-\u4e09\u4e2a-float-\u5bf9\u9f50\u5230-12-\u5b57\u8282",children:"4.6.2 \u4e09\u4e2a float: \u5bf9\u9f50\u5230 12 \u5b57\u8282"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-37-20.png ##w800##",src:i(64308).A+"",width:"1947",height:"945"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"463-\u6dfb\u52a0\u4e00\u4e2a\u8f85\u52a9\u5bf9\u9f50\u7684\u53d8\u91cf-\u5bf9\u9f50\u5230-16-\u5b57\u8282",children:"4.6.3 \u6dfb\u52a0\u4e00\u4e2a\u8f85\u52a9\u5bf9\u9f50\u7684\u53d8\u91cf: \u5bf9\u9f50\u5230 16 \u5b57\u8282"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-38-23.png ##w800##",src:i(87014).A+"",width:"1966",height:"1180"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"464-c11-\u65b0\u8bed\u6cd5-alignas",children:"4.6.4 C++11 \u65b0\u8bed\u6cd5: alignas"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-39-02.png ##w800##",src:i(36142).A+"",width:"2050",height:"1184"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"465-\u7ed3\u6784\u4f53\u7684\u5185\u5b58\u5e03\u5c40-aos-\u4e0e-soa",children:"4.6.5 \u7ed3\u6784\u4f53\u7684\u5185\u5b58\u5e03\u5c40: AOS \u4e0e SOA"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"AOS\uff08Array of Struct\uff09\u5355\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u7d27\u6328\u7740\u5b58"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"xyzxyzxyzxyz"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"SOA\uff08Struct of Array\uff09\u5c5e\u6027\u5206\u79bb\u5b58\u50a8\u5728\u591a\u4e2a\u6570\u7ec4"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"xxxxyyyyzzzz"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"AOS \u5fc5\u987b\u5bf9\u9f50\u5230 2 \u7684\u5e42\u624d\u9ad8\u6548\uff0cSOA \u5c31\u4e0d\u9700\u8981\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"AOS \u7b26\u5408\u76f4\u89c9\uff0c\u4e0d\u4e00\u5b9a\u8981\u5b58\u50a8\u5728\u6570\u7ec4\u8fd9\u79cd\u7ebf\u6027\u7ed3\u6784\uff0c\u800c SOA \u53ef\u80fd\u65e0\u6cd5\u4fdd\u8bc1\u591a\u4e2a\u6570\u7ec4\u5927\u5c0f\u4e00\u81f4\u3002"}),"\n",(0,l.jsx)(e.p,{children:"SOA \u4e0d\u7b26\u5408\u76f4\u89c9\uff0c\u4f46\u901a\u5e38\u662f\u66f4\u9ad8\u6548\u7684\uff01"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-40-10.png ##w550##",src:i(26911).A+"",width:"886",height:"663"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"466-aos-\u7d27\u51d1\u5b58\u50a8\u591a\u4e2a\u5c5e\u6027",children:"4.6.6 AOS: \u7d27\u51d1\u5b58\u50a8\u591a\u4e2a\u5c5e\u6027"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-40-55.png ##w800##",src:i(75550).A+"",width:"1775",height:"949"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"467-soa-\u5206\u79bb\u5b58\u50a8\u591a\u4e2a\u5c5e\u6027",children:"4.6.7 SOA: \u5206\u79bb\u5b58\u50a8\u591a\u4e2a\u5c5e\u6027"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-41-45.png ##w800##",src:i(43498).A+"",width:"1689",height:"855"})})})})]}),"\n",(0,l.jsx)(e.h3,{id:"468-aosoa-\u4e2d\u95f4\u65b9\u6848",children:"4.6.8 AOSOA: \u4e2d\u95f4\u65b9\u6848"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-42-47.png ##w800##",src:i(51841).A+"",width:"1926",height:"1026"})})})})]}),"\n",(0,l.jsx)(e.h2,{id:"47-\u7b2c7\u7ae0-stl\u5bb9\u5668",children:"4.7 \u7b2c7\u7ae0: STL\u5bb9\u5668"}),"\n",(0,l.jsx)(e.h3,{id:"471-stdvector-\u4e5f\u6709\u6307\u9488\u522b\u540d\u95ee\u9898",children:"4.7.1 std::vector: \u4e5f\u6709\u6307\u9488\u522b\u540d\u95ee\u9898"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-44-14.png ##w800##",src:i(20079).A+"",width:"1468",height:"912"})})})})]}),"\n",(0,l.jsxs)(e.div,{className:"markdown-alert markdown-alert-tip",children:["\n",(0,l.jsxs)(e.p,{className:"markdown-alert-title",children:[(0,l.jsx)(e.span,{className:"octicon octicon-tip",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-light-bulb mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Tip"]}),"\n",(0,l.jsxs)(e.p,{children:["__restrict: \u4e0d\u80fd\u7528\u4e8e",(0,l.jsx)(e.code,{children:"std::vector"})]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"472-\u89e3\u51b3\u65b9\u6848-pragma-omp-simd-\u6216-pragma-gcc-ivdep",children:"4.7.2 \u89e3\u51b3\u65b9\u6848: pragma omp simd \u6216 pragma GCC ivdep"}),"\n",(0,l.jsx)(e.p,{children:"C/C++ \u7684\u7f3a\u70b9\uff1a\u6307\u9488\u7684\u81ea\u7531\u5ea6\u8fc7\u9ad8\uff0c\u5141\u8bb8\u591a\u4e2a immutable reference \u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\uff0c\u800c Rust \u4ece\u8bed\u6cd5\u5c42\u9762\u7981\u6b62\uff0c\u4ece\u800c\u8ba9\u7f16\u8bd1\u5668\u653e\u5fc3\u5927\u80c6\u4f18\u5316\u3002"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-45-37.png ##w800##",src:i(53593).A+"",width:"1830",height:"463"})})})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.del,{children:"\u4e3a\u4ec0\u4e48\u6807\u51c6\u59d4\u5458\u4f1a\u4e0d\u6539\u8fdb\u4e00\u4e0b\uff1f\u56e0\u4e3a\u4e00\u65e6\u653e\u5f03\u517c\u5bb9\uff0c\u5c31\u7b49\u4e8e\u629b\u5f03\u6240\u6709\u5386\u53f2\u9057\u4ea7\u7684\u5168\u65b0\u8bed\u8a00\uff0c\u5c31\u548c Rust \u65e0\u5f02\uff0c\u4ece\u800c\u6ca1\u6709\u4efb\u4f55\u7406\u7531\u518d\u5b66\u4e60 C++\u3002"})}),"\n",(0,l.jsx)(e.h3,{id:"473-stdvector-\u4e5f\u80fd\u5b9e\u73b0-soa",children:"4.7.3 std::vector: \u4e5f\u80fd\u5b9e\u73b0 SOA"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-46-13.png ##w800##",src:i(32786).A+"",width:"1903",height:"557"})})})})]}),"\n",(0,l.jsx)(e.h2,{id:"48-\u7b2c8\u7ae0-\u6570\u5b66\u8fd0\u7b97",children:"4.8 \u7b2c8\u7ae0: \u6570\u5b66\u8fd0\u7b97"}),"\n",(0,l.jsx)(e.h3,{id:"481-\u6570\u5b66\u4f18\u5316-\u9664\u6cd5\u53d8\u4e58\u6cd5",children:"4.8.1 \u6570\u5b66\u4f18\u5316: \u9664\u6cd5\u53d8\u4e58\u6cd5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"[] () -> float {\n    return a / 2; // \u7b49\u4ef7\u4e8e a * 0.5f\n};\n"})}),"\n",(0,l.jsx)(e.h3,{id:"482-\u7f16\u8bd1\u5668\u653e\u5f03\u7684\u4f18\u5316-\u5206\u79bb\u516c\u5171\u9664\u6570",children:"4.8.2 \u7f16\u8bd1\u5668\u653e\u5f03\u7684\u4f18\u5316: \u5206\u79bb\u516c\u5171\u9664\u6570"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4e3a\u4ec0\u4e48\u653e\u5f03\u4f18\u5316\uff1f\u56e0\u4e3a\u7f16\u8bd1\u5668\u5bb3\u6015 b = 0\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"[&] (float b) {\n    for (int i = 0; i < 1024; ++i) {\n        a[i] /= b; // \u4e0d\u4f1a\u4f18\u5316\u4e3a *= 1/b\n    }\n};\n"})}),"\n",(0,l.jsx)(e.h4,{id:"4821-\u89e3\u51b3\u65b9\u68481-\u624b\u52a8\u4f18\u5316",children:"4.8.2.1 \u89e3\u51b3\u65b9\u68481: \u624b\u52a8\u4f18\u5316"}),"\n",(0,l.jsx)(e.p,{children:"\u4e58\u6cd5\u6bd4\u9664\u6cd5\u66f4\u5feb\uff01\u63d0\u524d\u8ba1\u7b97\u597d b \u7684\u5012\u6570\u907f\u514d\u91cd\u590d\u6c42\u9664\u6cd5\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"[&] (float b) {\n    float inv_b = 1 / b;\n    for (int i = 0; i < 1024; ++i) {\n        a[i] *= inv_b;\n    }\n};\n"})}),"\n",(0,l.jsx)(e.h4,{id:"4822-\u89e3\u51b3\u65b9\u68482--ffast-math",children:"4.8.2.2 \u89e3\u51b3\u65b9\u68482: -ffast-math"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sh",children:"gcc -ffast-math -O3\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"-ffast-math"}),"\u9009\u9879\u8ba9 GCC \u66f4\u5927\u80c6\u5730\u5c1d\u8bd5\u6d6e\u70b9\u8fd0\u7b97\u7684\u4f18\u5316\uff0c\u6709\u65f6\u80fd\u5e26\u6765 2 \u500d\u5de6\u53f3\u7684\u63d0\u5347\u3002\u4f5c\u4e3a\u4ee3\u4ef7\uff0c\u4ed6\u5bf9 NaN \u548c\u65e0\u7a77\u5927\u7684\u5904\u7406\uff0c\u53ef\u80fd\u4f1a\u548c IEEE \u6807\u51c6\uff08\u8150\u673d\u7684\uff09\u89c4\u5b9a\u7684\u4e0d\u4e00\u81f4\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5982\u679c\u4f60\u80fd\u4fdd\u8bc1\uff0c\u7a0b\u5e8f\u4e2d\u6c38\u8fdc\u4e0d\u4f1a\u51fa\u73b0",(0,l.jsx)(e.code,{children:"NaN"}),"\u548c",(0,l.jsx)(e.code,{children:"\u65e0\u7a77\u5927"}),"\uff0c\u90a3\u4e48\u53ef\u4ee5\u653e\u5fc3\u6253\u5f00",(0,l.jsx)(e.code,{children:"-ffast-math"}),"\u3002"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"-ffast-math"}),"\u5bf9\u4e8e:"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"[&] (float b) {\n    for (int i = 0; i < 1024; ++i) {\n        a[i] = std::sqrt(a[i]);\n    }\n};\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u540c\u6837\u6709\u7528, \u56e0\u4e3a\u8fd9\u6837\u7f16\u8bd1\u5668\u5c31\u5426\u5b9a\u4e86",(0,l.jsx)(e.code,{children:"a[i] < 0"}),"\u7684\u60c5\u51b5, \u53ef\u4ee5\u5927\u80c6\u7684\u4f18\u5316\u4e86..."]}),"\n",(0,l.jsx)(e.h3,{id:"483-\u6570\u5b66\u51fd\u6570\u8bf7\u52a0-std-\u524d\u7f00",children:"4.8.3 \u6570\u5b66\u51fd\u6570\u8bf7\u52a0 std:: \u524d\u7f00!"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"abs(1.4f) = 1"}),"\uff0c\u56e0\u4e3a abs \u662f\u4e2a\u53c2\u6570\u7c7b\u578b\u4e3a int \u7684\u51fd\u6570\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u9ebb\u70e6\uff0c\u8bf7\u7528\u5b89\u5168\u7684",(0,l.jsx)(e.code,{children:"std::abs(1.4f) = 1.4f"})]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"sqrt \u53ea\u63a5\u53d7 double"}),"\n",(0,l.jsx)(e.li,{children:"sqrtf \u53ea\u63a5\u53d7 float"}),"\n",(0,l.jsx)(e.li,{children:"std::sqrt \u91cd\u8f7d\u4e86 double \u548c float\uff08\u63a8\u8350\uff09"}),"\n",(0,l.jsx)(e.li,{children:"abs \u53ea\u63a5\u53d7 int"}),"\n",(0,l.jsx)(e.li,{children:"fabs \u53ea\u63a5\u53d7 double"}),"\n",(0,l.jsx)(e.li,{children:"fabsf \u53ea\u63a5\u53d7 float"}),"\n",(0,l.jsx)(e.li,{children:"std::abs \u91cd\u8f7d\u4e86 int, double, float\uff08\u63a8\u8350\uff09"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u603b\u4e4b\uff0c\u8bf7\u52ff\u7528\u5168\u5c40\u7684\u6570\u5b66\u51fd\u6570\uff0c\u4ed6\u4eec\u662f C \u8bed\u8a00\u7684\u9057\u4ea7\u3002\u59cb\u7ec8\u7528",(0,l.jsx)(e.code,{children:"std::sin"}),",",(0,l.jsx)(e.code,{children:"std::pow"}),"\u7b49\u3002"]}),"\n",(0,l.jsx)(e.h3,{id:"484-\u5d4c\u5957\u5faa\u73af-\u76f4\u63a5\u7d2f\u52a0\u6709\u6307\u9488\u522b\u540d\u95ee\u9898",children:"4.8.4 \u5d4c\u5957\u5faa\u73af: \u76f4\u63a5\u7d2f\u52a0\uff0c\u6709\u6307\u9488\u522b\u540d\u95ee\u9898"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.th,{style:{textAlign:"center"},children:"##container##"})})}),(0,l.jsx)(e.tbody,{children:(0,l.jsx)(e.tr,{children:(0,l.jsx)(e.td,{style:{textAlign:"center"},children:(0,l.jsx)(e.img,{alt:"Clip_2024-07-11_16-59-54.png ##w700##",src:i(16753).A+"",width:"2097",height:"1097"})})})})]}),"\n",(0,l.jsx)(e.h4,{id:"4841-\u89e3\u51b3\u65b9\u68481-\u5148\u8bfb\u5230\u5c40\u90e8\u53d8\u91cf\u7d2f\u52a0\u5b8c\u6bd5\u540e\u518d\u5199\u5165",children:"4.8.4.1 \u89e3\u51b3\u65b9\u68481: \u5148\u8bfb\u5230\u5c40\u90e8\u53d8\u91cf\uff0c\u7d2f\u52a0\u5b8c\u6bd5\u540e\uff0c\u518d\u5199\u5165"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7f16\u8bd1\u5668\u8ba4\u4e3a\u4e0d\u5b58\u5728\u6307\u9488\u522b\u540d\u7684\u95ee\u9898\uff0c\u77e2\u91cf\u5316\u6210\u529f!"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"void func(float *a, float *b, float *c) {\n    for (int i = 0; i < 1024; i++) {\n        float tmp = c[i];\n        for (int j = 0; j < 1024; j++) {\n            tmp += a[i] * b[j];\n        }\n        c[i] = tmp;\n    }\n}\n"})}),"\n",(0,l.jsx)(e.h4,{id:"4842-\u89e3\u51b3\u65b9\u68482-\u5148\u7d2f\u52a0\u5230\u521d\u59cb\u4e3a-0-\u7684\u5c40\u90e8\u53d8\u91cf\u518d\u7d2f\u52a0\u5230",children:"4.8.4.2 \u89e3\u51b3\u65b9\u68482: \u5148\u7d2f\u52a0\u5230\u521d\u59cb\u4e3a 0 \u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u518d\u7d2f\u52a0\u5230"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4e5f\u80fd\u77e2\u91cf\u5316\u6210\u529f\uff01\u8be5\u89e3\u51b3\u65b9\u6848\u6bd4\u8d77\u524d\u4e00\u79cd\uff0c\u7531\u4e8e\u52a0\u6cd5\u987a\u5e8f\u539f\u56e0\uff0c\u7b97\u51fa\u6765\u7684\u6d6e\u70b9\u7cbe\u5ea6\u66f4\u9ad8\u3002(\u56e0\u4e3a\u6d6e\u70b9\u6570\u4f7f\u7528\u7684\u662f\u79d1\u5b66\u8ba1\u6570\u6cd5\u5b58\u50a8, \u6240\u4ee5\u53ef\u80fd",(0,l.jsx)(e.code,{children:"1e7 + 1e-3 = 1e7"}),"\u4e86)"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:"void func(float *a, float *b, float *c) {\n    for (int i = 0; i < 1024; i++) {\n        float tmp = 0;\n        for (int j = 0; j < 1024; j++) {\n            tmp += a[i] * b[j];\n        }\n        c[i] += tmp;\n    }\n}\n"})}),"\n",(0,l.jsx)(e.h2,{id:"49-\u4f18\u5316\u624b\u6cd5\u603b\u7ed3",children:"4.9 \u4f18\u5316\u624b\u6cd5\u603b\u7ed3"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u51fd\u6570\u5c3d\u91cf\u5199\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u5185"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u907f\u514d\u5728 for \u5faa\u73af\u5185\u8c03\u7528\u5916\u90e8\u51fd\u6570"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u975e const \u6307\u9488\u52a0\u4e0a",(0,l.jsx)(e.code,{children:"__restrict"}),"\u4fee\u9970"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8bd5\u7740\u7528 SOA \u53d6\u4ee3 AOS"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5bf9\u9f50\u5230 16 \u6216 64 \u5b57\u8282"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7b80\u5355\u7684\u4ee3\u7801\uff0c\u4e0d\u8981\u590d\u6742\u5316"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u8bd5\u8bd5\u770b",(0,l.jsx)(e.code,{children:"#pragma omp simd"})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5faa\u73af\u4e2d\u4e0d\u53d8\u7684\u5e38\u91cf\u632a\u5230\u5916\u9762\u6765"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u5bf9\u5c0f\u5faa\u73af\u4f53\u7528",(0,l.jsx)(e.code,{children:"#pragma unroll"})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"-ffast-math"}),"\u548c",(0,l.jsx)(e.code,{children:"-march=native"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"410-cmake-\u5982\u4f55\u5f00\u542f",children:"4.10 CMake \u5982\u4f55\u5f00\u542f?"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-CMake",children:"set(CMAKE_BUILD_TYPE Release) # -O3\n\n# CMake \u4e2d\u5f00\u542f -fopenmp\nfind_package(OpenMP REQUIRED)\ntarget_link_libraries(testbench PUBLIC OpenMP::OpenMP_CXX)\n\n# CMake \u4e2d\u5f00\u542f -ffast-math \u548c -march=native\ntarget_compile_options(testbench PUBLIC -ffast-math -march=native)\n"})}),"\n",(0,l.jsx)(e.h2,{id:"411-\u56de\u5bb6\u4f5c\u4e1a",children:"4.11 \u56de\u5bb6\u4f5c\u4e1a"}),"\n",(0,l.jsx)(e.h3,{id:"\u8bc4\u5206\u89c4\u5219",children:"\u8bc4\u5206\u89c4\u5219"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5728\u4f60\u7684\u7535\u8111\u4e0a\u52a0\u901f\u4e86\u591a\u5c11\u500d\uff0c\u5c31\u662f\u591a\u5c11\u5206\uff01\u8bf7\u5728 PR \u63cf\u8ff0\u4e2d\u5199\u660e\u52a0\u901f\u524d\u540e\u7684\u7528\u65f6\u6570\u636e\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u6700\u597d\u8be6\u7ec6\u89e3\u91ca\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u8fd9\u6837\u53ef\u4ee5\u4f18\u5316\u3002\u4f1a\u989d\u5916\u4ee5\u4e58\u6cd5\u7684\u5f62\u5f0f\u52a0\u5206\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u6bd4\u5982\u4f60\u4f18\u5316\u540e\u52a0\u901f\u4e86 50 \u500d\uff0c\u8bb2\u7684\u5f88\u8be6\u7ec6\uff0c\u6240\u4ee5\u5206\u6570\u4e58 2\uff0c\u53d8\u6210 100 \u5206\uff01"}),"\n",(0,l.jsx)(e.li,{children:"\u6bd4\u5982\u4f60\u4f18\u5316\u540e\u52a0\u901f\u4e86 1000 \u500d\uff0c\u4f46\u662f\u4f60\u7684 PR \u63cf\u8ff0\u662f\u7a7a\uff0c\u6240\u4ee5\u5206\u6570\u4e58 0\uff0c\u53d8\u6210 0 \u5206\uff01"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u4f5c\u4e1a\u8981\u6c42",children:"\u4f5c\u4e1a\u8981\u6c42"}),"\n",(0,l.jsx)(e.p,{children:"\u5229\u7528\u8fd9\u6b21\u8bfe\u4e0a\u6240\u5b66\u77e5\u8bc6\uff0c\u4fee\u6539 main.cpp\uff0c\u4f18\u5316\u5176\u4e2d\u7684\u591a\u4f53\u5f15\u529b\u6c42\u89e3\u5668\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4e0d\u5141\u8bb8\u4f7f\u7528\u591a\u7ebf\u7a0b\u5e76\u884c"}),"\n",(0,l.jsx)(e.li,{children:"\u4e0d\u5141\u8bb8\u505a\u7b97\u6cd5\u590d\u6742\u5ea6\u4f18\u5316"}),"\n",(0,l.jsx)(e.li,{children:"\u53ef\u4ee5\u9488\u5bf9\u7f16\u8bd1\u5668\u548c\u5e73\u53f0\u4f18\u5316\uff0c\u8fd9\u6b21\u4e0d\u8981\u6c42\u8de8\u5e73\u53f0"}),"\n",(0,l.jsx)(e.li,{children:"\u53ef\u4ee5\u7528 xmmintrin.h\uff0c\u5982\u679c\u4f60\u89c9\u5f97\u7f16\u8bd1\u5668\u9760\u4e0d\u4f4f\u7684\u8bdd"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:'#include <cstdio>\n#include <cstdlib>\n#include <vector>\n#include <chrono>\n#include <cmath>\n\nfloat frand() {\n    return (float)rand() / RAND_MAX * 2 - 1;\n}\n\nstruct Star {\n    float px, py, pz;\n    float vx, vy, vz;\n    float mass;\n};\n\nstd::vector<Star> stars;\n\nvoid init() {\n    for (int i = 0; i < 48; i++) {\n        stars.push_back({\n            frand(), frand(), frand(),\n            frand(), frand(), frand(),\n            frand() + 1,\n        });\n    }\n}\n\nfloat G = 0.001;\nfloat eps = 0.001;\nfloat dt = 0.01;\n\nvoid step() {\n    for (auto &star: stars) {\n        for (auto &other: stars) {\n            float dx = other.px - star.px;\n            float dy = other.py - star.py;\n            float dz = other.pz - star.pz;\n            float d2 = dx * dx + dy * dy + dz * dz + eps * eps;\n            d2 *= sqrt(d2);\n            star.vx += dx * other.mass * G * dt / d2;\n            star.vy += dy * other.mass * G * dt / d2;\n            star.vz += dz * other.mass * G * dt / d2;\n        }\n    }\n    for (auto &star: stars) {\n        star.px += star.vx * dt;\n        star.py += star.vy * dt;\n        star.pz += star.vz * dt;\n    }\n}\n\nfloat calc() {\n    float energy = 0;\n    for (auto &star: stars) {\n        float v2 = star.vx * star.vx + star.vy * star.vy + star.vz * star.vz;\n        energy += star.mass * v2 / 2;\n        for (auto &other: stars) {\n            float dx = other.px - star.px;\n            float dy = other.py - star.py;\n            float dz = other.pz - star.pz;\n            float d2 = dx * dx + dy * dy + dz * dz + eps * eps;\n            energy -= other.mass * star.mass * G / sqrt(d2) / 2;\n        }\n    }\n    return energy;\n}\n\ntemplate <class Func>\nlong benchmark(Func const &func) {\n    auto t0 = std::chrono::steady_clock::now();\n    func();\n    auto t1 = std::chrono::steady_clock::now();\n    auto dt = std::chrono::duration_cast<std::chrono::milliseconds>(t1 - t0);\n    return dt.count();\n}\n\nint main() {\n    init();\n    printf("Initial energy: %f\\n", calc());\n    auto dt = benchmark([&] {\n        for (int i = 0; i < 100000; i++)\n            step();\n    });\n    printf("Final energy: %f\\n", calc());\n    printf("Time elapsed: %ld ms\\n", dt);\n    return 0;\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u6211\u7684\u4f5c\u7b54:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-C++",children:'#include <cstdio>\n#include <cstdlib>\n#include <vector>\n#include <chrono>\n#include <cmath>\n\nstatic float frand() {\n    return (float)rand() / RAND_MAX * 2 - 1;\n}\n\n// \u6362\u6210 SOA\nstruct Star {\n    std::vector<float> px, py, pz, vx, vy, vz, mass;\n};\n\nStar stars;\n\nvoid init() {\n    for (std::size_t i = 0; i < 48; ++i) {\n        stars.px.push_back(frand());\n        stars.py.push_back(frand());\n        stars.pz.push_back(frand());\n        stars.vx.push_back(frand());\n        stars.vy.push_back(frand());\n        stars.vz.push_back(frand());\n        stars.mass.push_back(frand() + 1);\n    }\n}\n\nfloat G = 0.001;\nfloat eps = 0.001;\nfloat dt = 0.01;\n\nvoid step() {\n    for (std::size_t i = 0; i < 48; ++i) {\n        for (std::size_t j = 0; j < 48; ++j) {\n            float dx = stars.px[j] - stars.px[i];\n            float dy = stars.py[j] - stars.py[i];\n            float dz = stars.pz[j] - stars.pz[i];\n            float mass = stars.mass[j];\n            float d2 = dx * dx + dy * dy + dz * dz + eps * eps;\n            d2 *= std::sqrt(d2);\n            d2 = mass * G * dt / d2;\n            stars.vx[i] += dx * d2;\n            stars.vy[i] += dy * d2;\n            stars.vz[i] += dz * d2;\n        }\n    }\n\n    for (std::size_t i = 0; i < 48; ++i) {\n        stars.px[i] += stars.vx[i] * dt;\n        stars.py[i] += stars.vy[i] * dt;\n        stars.pz[i] += stars.vz[i] * dt;\n    }\n}\n\nfloat calc() {\n    float energy = 0;\n    for (std::size_t i = 0; i < 48; ++i) {\n        float v2 = stars.vx[i] * stars.vx[i] + stars.vy[i] * stars.vy[i] + stars.vz[i] * stars.vz[i];\n        energy += stars.mass[i] * v2 * 0.5f;\n        for (std::size_t j = 0; j < 48; ++j) {\n            float dx = stars.px[j] - stars.px[i];\n            float dy = stars.py[j] - stars.py[i];\n            float dz = stars.pz[j] - stars.pz[i];\n            float d2 = dx * dx + dy * dy + dz * dz + eps * eps;\n            energy -= stars.mass[j] * stars.mass[i] * G / std::sqrt(d2) * 0.5f;\n        }\n    }\n    return energy;\n}\n/* \n * Clion DEBUG \u65e0\u4f18\u5316\nInitial energy: -13.414000\nFinal energy: -13.356842\nTime elapsed: 78754 ms\n\n * \u4ee3\u7801\u4f18\u5316\u540e\nInitial energy: -13.414000\nFinal energy: -13.356842\nTime elapsed: 39932 ms | 39853 ms\n\n * \u518d\u5f00 -O3 \u4f18\u5316\u540e\nInitial energy: -13.414000\nFinal energy: -13.356842\nTime elapsed: 900 ms | 909 ms | 902 ms\n * */\ntemplate <class Func>\nlong benchmark(Func const &func) {\n    auto t0 = std::chrono::steady_clock::now();\n    func();\n    auto t1 = std::chrono::steady_clock::now();\n    auto dt = std::chrono::duration_cast<std::chrono::milliseconds>(t1 - t0);\n    return dt.count();\n}\n\nint main() {\n    init();\n    printf("Initial energy: %f\\n", calc());\n    auto dt = benchmark([&] {\n        for (int i = 0; i < 100000; i++)\n            step();\n    });\n    printf("Final energy: %f\\n", calc());\n    printf("Time elapsed: %ld ms\\n", dt);\n    return 0;\n}\n'})})]})}function x(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(h,{...n})}):h(n)}},32786:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-46-13-b27d80c7bcd08b1ca4c6dd0e8c100f4d.png"},36142:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-39-02-a7e279cbe0b7077d7db3efc941d42a7e.png"},37857:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-31-28-1262edcc34807d0da1c25d7e55254c20.png"},41192:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-33-05-35ff12086c8e3eeb7e238ac6212eebb3.png"},41870:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-44-52-dab68a1b4bc992e785fde41d10204b70.png"},43498:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-41-45-eddb1cf82e651acd430f8ab47efba35e.png"},46371:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-22-43-e455894d2944cf36f2c3754507c0e0a7.png"},51196:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-09-47-3f30d5554ad77199eb438f492de42b49.png"},51841:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-42-47-11a16098e2d46f5944171aa9b71f61bd.png"},53593:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-45-37-303c9d4f6fa8d635564064f28dfbffc2.png"},59618:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-48-05-7fa455870983c0493627e07583ca4d54.png"},64308:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-37-20-d369b6a5bb51ce129004a8defe5ca98f.png"},71871:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-24-23-05679d4e8d7d95b82f8ad9cbc72f4ea4.png"},73388:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-03-52-cba5b72a40ad9202542379dc6fd27803.png"},73492:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-31-03-91ca447a12c3123d2662f51d05fd324a.png"},75550:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-40-55-c5278c82964c64e84c849e9dceef1fa7.png"},75825:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-00-45-2365be1baab4231fe5c964c4fb325d7d.png"},78861:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-33-07-c0c6a94da2da4b9bee78162d97e0a426.png"},84906:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-04-51-e6e17be77a6619e172ccf3d3c9048f95.png"},87014:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-38-23-d4d7d51ca36ef07a9410cad058d237de.png"},94107:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-14-55-3f29bb8ea6fd5b8115b87e6366b65e8d.png"},95187:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_16-16-53-82827b3ed532cef263a14b81f9a57ff3.png"},97318:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-37-54-bf7911957fa6d16b47dce76a1e3fc2bc.png"},97677:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-53-46-77cb60dc91059e1bff56c5126f912990.png"},98429:(n,e,i)=>{i.d(e,{A:()=>s});const s=i.p+"assets/images/Clip_2024-07-11_15-29-25-be09291dac64304e2ec3cfd12d33c753.png"}}]);