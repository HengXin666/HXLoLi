<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++ç½‘ç»œç¼–ç¨‹/Windowsç½‘ç»œç¼–ç¨‹/IOCP/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">IOCPï¼ˆI/Oå®Œæˆç«¯å£ï¼‰ | HXLoLi</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://HengXin666.github.io/HXLoLi/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://HengXin666.github.io/HXLoLi/img/logo.png"><meta data-rh="true" property="og:url" content="https://HengXin666.github.io/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++ç½‘ç»œç¼–ç¨‹/Windowsç½‘ç»œç¼–ç¨‹/IOCP"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="IOCPï¼ˆI/Oå®Œæˆç«¯å£ï¼‰ | HXLoLi"><meta data-rh="true" name="description" content="IOCPæ˜¯Windowså¹³å°ä¸‹ä¸€ç§é«˜æ•ˆçš„çº¿ç¨‹åŒæ­¥æœºåˆ¶ï¼Œä¸“é—¨ç”¨äºå¤„ç†å¤§é‡çš„å¹¶å‘è¾“å…¥/è¾“å‡ºæ“ä½œã€‚å®ƒå…è®¸åº”ç”¨ç¨‹åºåœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´é«˜æ•ˆåœ°åˆ†é…I/Oæ“ä½œï¼Œæé«˜äº†ç½‘ç»œåº”ç”¨å’Œæ–‡ä»¶æ“ä½œçš„æ€§èƒ½ã€‚ä½¿ç”¨IOCPï¼Œå¯ä»¥è®©åº”ç”¨ç¨‹åºåªæœ‰åœ¨I/Oæ“ä½œå®Œæˆæ—¶æ‰æ¥æ”¶é€šçŸ¥ï¼Œä»è€Œå‡å°‘èµ„æºçš„å ç”¨å’Œæé«˜åº”ç”¨ç¨‹åºçš„å“åº”èƒ½åŠ›ã€‚"><meta data-rh="true" property="og:description" content="IOCPæ˜¯Windowså¹³å°ä¸‹ä¸€ç§é«˜æ•ˆçš„çº¿ç¨‹åŒæ­¥æœºåˆ¶ï¼Œä¸“é—¨ç”¨äºå¤„ç†å¤§é‡çš„å¹¶å‘è¾“å…¥/è¾“å‡ºæ“ä½œã€‚å®ƒå…è®¸åº”ç”¨ç¨‹åºåœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´é«˜æ•ˆåœ°åˆ†é…I/Oæ“ä½œï¼Œæé«˜äº†ç½‘ç»œåº”ç”¨å’Œæ–‡ä»¶æ“ä½œçš„æ€§èƒ½ã€‚ä½¿ç”¨IOCPï¼Œå¯ä»¥è®©åº”ç”¨ç¨‹åºåªæœ‰åœ¨I/Oæ“ä½œå®Œæˆæ—¶æ‰æ¥æ”¶é€šçŸ¥ï¼Œä»è€Œå‡å°‘èµ„æºçš„å ç”¨å’Œæé«˜åº”ç”¨ç¨‹åºçš„å“åº”èƒ½åŠ›ã€‚"><link data-rh="true" rel="icon" href="/HXLoLi/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://HengXin666.github.io/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++ç½‘ç»œç¼–ç¨‹/Windowsç½‘ç»œç¼–ç¨‹/IOCP"><link data-rh="true" rel="alternate" href="https://HengXin666.github.io/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++ç½‘ç»œç¼–ç¨‹/Windowsç½‘ç»œç¼–ç¨‹/IOCP" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://HengXin666.github.io/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++ç½‘ç»œç¼–ç¨‹/Windowsç½‘ç»œç¼–ç¨‹/IOCP" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/HXLoLi/blog/rss.xml" title="HXLoLi RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/HXLoLi/blog/atom.xml" title="HXLoLi Atom Feed">





<script src="https://cdn.jsdelivr.net/npm/d3@6.2.0/dist/d3.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/force-graph@1.40.3/dist/force-graph.js"></script>
<script src="https://cdn.jsdelivr.net/npm/note-graph@latest/dist/note-graph.umd.js"></script><link rel="stylesheet" href="/HXLoLi/assets/css/styles.38e40bb0.css">
<script src="/HXLoLi/assets/js/runtime~main.393541d5.js" defer="defer"></script>
<script src="/HXLoLi/assets/js/main.4fcd7d46.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>

<style>
  #open-graph-btn {
    align-items: center;
    display: flex;
    justify-content: center;
    width: 100%;
    height: 100%;
    background: none;
    border: none;
    cursor: pointer;
    font-family: inherit;
    padding: 0;
    color: var(--ifm-navbar-link-color);
    transition: color var(--ifm-transition-fast) var(--ifm-transition-timing-default);
  }

  #open-graph-btn:hover {
    color: var(--ifm-link-color);
  }

  @media screen and (max-width: 996px) {
    #open-graph-btn {
      justify-content: flex-start;
      padding-left: 1em;
    }
  }

  #graph-container {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 20px;
    background-color: var(--ifm-background-surface-color);
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    z-index: 2;
  }

  #graph-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(5px);
    z-index: 1;
  }

  #close-graph-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      cursor: pointer;
      font-size: small;
      font-weight: bold;
      z-index: 2;
    }

    canvas {
      margin: 0px auto;
    }

    .force-graph-container .graph-tooltip {
      transform: none !important;
    }
  </style><div id="__docusaurus"><link rel="preload" as="image" href="/HXLoLi/img/logo.png"><link rel="preload" as="image" href="/HXLoLi/default-icons/default_folder.svg"><link rel="preload" as="image" href="/HXLoLi//default-icons/alipay.svg"><link rel="preload" as="image" href="/HXLoLi//img/alipay_qr_code.png"><link rel="preload" as="image" href="/HXLoLi//default-icons/wechat.svg"><link rel="preload" as="image" href="/HXLoLi//img/wechat_qr_code.png"><link rel="preload" as="image" href="/HXLoLi//default-icons/cc.svg"><div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/HXLoLi/"><div class="navbar__logo"><img src="/HXLoLi/img/logo.png" alt="HXLoLi Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/HXLoLi/img/logo.png" alt="HXLoLi Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">HXLoLi</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/HXLoLi/docs/å…³äº">ç¬”è®°</a><a class="navbar__item navbar__link" href="/HXLoLi/blog">åšå®¢</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">æ›´å¤š</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/HXLoLi/blog/archive">å½’æ¡£</a></li></ul></div><a href="https://github.com/HengXin666/HXLoLi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item">
    <button id="open-graph-btn" title="Show Graph Visualisation" type="button" aria-label="Show Graph Visualisation" aria-live="polite" onclick="openGraph()">
      <svg viewBox="0 0 1024 1024" width="24" height="24" fill="currentColor">
        <path d="M512 512m-125.866667 0a125.866667 125.866667 0 1 0 251.733334 0 125.866667 125.866667 0 1 0-251.733334 0Z"></path>
        <path d="M512 251.733333m-72.533333 0a72.533333 72.533333 0 1 0 145.066666 0 72.533333 72.533333 0 1 0-145.066666 0Z"></path>
        <path d="M614.4 238.933333c0 4.266667 2.133333 8.533333 2.133333 12.8 0 19.2-4.266667 36.266667-12.8 51.2 81.066667 36.266667 138.666667 117.333333 138.666667 211.2C742.4 640 640 744.533333 512 744.533333s-230.4-106.666667-230.4-232.533333c0-93.866667 57.6-174.933333 138.666667-211.2-8.533333-14.933333-12.8-32-12.8-51.2 0-4.266667 0-8.533333 2.133333-12.8-110.933333 42.666667-189.866667 147.2-189.866667 273.066667 0 160 130.133333 292.266667 292.266667 292.266666S804.266667 672 804.266667 512c0-123.733333-78.933333-230.4-189.866667-273.066667z"></path>
        <path d="M168.533333 785.066667m-72.533333 0a72.533333 72.533333 0 1 0 145.066667 0 72.533333 72.533333 0 1 0-145.066667 0Z"></path>
        <path d="M896 712.533333m-61.866667 0a61.866667 61.866667 0 1 0 123.733334 0 61.866667 61.866667 0 1 0-123.733334 0Z"></path>
        <path d="M825.6 772.266667c-74.666667 89.6-187.733333 147.2-313.6 147.2-93.866667 0-181.333333-32-249.6-87.466667-10.666667 19.2-25.6 34.133333-44.8 44.8C298.666667 942.933333 401.066667 981.333333 512 981.333333c149.333333 0 281.6-70.4 366.933333-177.066666-21.333333-4.266667-40.533333-17.066667-53.333333-32zM142.933333 684.8c-25.6-53.333333-38.4-110.933333-38.4-172.8C104.533333 288 288 104.533333 512 104.533333S919.466667 288 919.466667 512c0 36.266667-6.4 72.533333-14.933334 106.666667 23.466667 2.133333 42.666667 10.666667 57.6 25.6 12.8-42.666667 19.2-87.466667 19.2-132.266667 0-258.133333-211.2-469.333333-469.333333-469.333333S42.666667 253.866667 42.666667 512c0 74.666667 17.066667 142.933333 46.933333 204.8 14.933333-14.933333 32-27.733333 53.333333-32z"></path>
      </svg>
      <span class="graph-only" style="margin-left: 1rem; font-size: 1rem">Graph View</span>
    </button>
    <style>
    @media only screen and (min-width: 997px) {
      .graph-only {
        display: none;
      }
    }
    </style>
    </div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/HXLoLi/"><img src="/HXLoLi/img/logo.png" alt="HXLoLi Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/HXLoLi/img/logo.png" alt="HXLoLi Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>HXLoLi</b></a><nav aria-label="æ–‡æ¡£ä¾§è¾¹æ " class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/HXLoLi/docs/å…³äº">å…³äº</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/è®¡ä½¬å¸¸è­˜/æ•°æ®ç»“æ„ä¸ç®—æ³•/ã€algorithmã€‘ç›®éŒ²"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">è®¡ä½¬å¸¸è­˜</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" style="font-size:14px" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/ã€Cè‰¹ã€‘ç›®å½•å¤§çº²"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">ç¨‹åºè¯­è¨€</div><div style="flex:1"></div></div></a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/ã€Cè‰¹ã€‘ç›®å½•å¤§çº²"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">C++</div><div style="flex:1"></div></div></a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/ã€Cè‰¹ã€‘ç›®å½•å¤§çº²">ã€Cè‰¹ã€‘ç›®å½•å¤§çº²</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++åŸºç¡€/é¢å‘å¯¹è±¡/åŸºæœ¬è¯­æ³•"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">tmpä¸¶C++ä¸¶memo</div><div style="flex:1"></div></div></a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++åŸºç¡€/é¢å‘å¯¹è±¡/åŸºæœ¬è¯­æ³•"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">C++åŸºç¡€</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/STLåº“/STLå¸¸ç”¨æ•°æ®ç»“æ„"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">STLåº“</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++æ–°ç‰¹æ€§/C++11å¸¸ç”¨æ–°ç‰¹æ€§/autoè‡ªåŠ¨ç±»å‹æ¨å¯¼"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">C++æ–°ç‰¹æ€§</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++ç½‘ç»œç¼–ç¨‹/å®è·µç‰ˆæœ¬/ç½‘ç»œç¼–ç¨‹å¤§çº²"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">C++ç½‘ç»œç¼–ç¨‹</div><div style="flex:1"></div></div></a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++ç½‘ç»œç¼–ç¨‹/å®è·µç‰ˆæœ¬/ç½‘ç»œç¼–ç¨‹å¤§çº²"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">å®è·µç‰ˆæœ¬</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++ç½‘ç»œç¼–ç¨‹/Windowsç½‘ç»œç¼–ç¨‹/WindowsAPI"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">Windowsç½‘ç»œç¼–ç¨‹</div><div style="flex:1"></div></div></a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++ç½‘ç»œç¼–ç¨‹/Windowsç½‘ç»œç¼–ç¨‹/WindowsAPI">WindowsAPI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++ç½‘ç»œç¼–ç¨‹/Windowsç½‘ç»œç¼–ç¨‹/IOCP">IOCP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++ç½‘ç»œç¼–ç¨‹/Windowsç½‘ç»œç¼–ç¨‹/ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç </a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++ç½‘ç»œç¼–ç¨‹/åŸºäºUDPå¯é æ€§ä¼ è¾“KCP">åŸºäºUDPå¯é æ€§ä¼ è¾“KCP</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹/Cè¯­è¨€ç‰ˆ/åºç« ä¸¶çº¿ç¨‹æ¦‚è¿°"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">C++å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹</div><div style="flex:1"></div></div></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/ç°ä»£C++/ç°ä»£C++ç¬”è®°ç›®å½•"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">ç°ä»£C++</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/CMake/è®¤è¯†å¹¶ç¼–å†™ç¬¬ä¸€ä¸ªCMake"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">CMake</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/C++ç¬¬ä¸‰æ–¹åº“/Protobuf/protobufå®‰è£…"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">C++ç¬¬ä¸‰æ–¹åº“</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/C++å…«å˜æ—¥å¿—/é“¾æ¥å±æ€§/å¤šæ–‡ä»¶ä¸‹æ¨¡ç‰ˆä½¿ç”¨"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">C++å…«å˜æ—¥å¿—</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/C++ä»£ç è§„èŒƒ/å¼€å‘è§„èŒƒ"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">C++ä»£ç è§„èŒƒ</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/å¤§é¡¹ç›®/å¤§é¡¹ç›®/å¼€å‘ç¬”è®°/å·¥ç¨‹ä»‹ç»"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">å¤§é¡¹ç›®</div><div style="flex:1"></div></div></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/Java/ğŸ’Javaä»å…¥é—¨åˆ°å¼€æºœğŸ’"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">Java</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/Python/ç¬¬ä¸‰æ–¹åº“/Jupyterä¸¶Notebook/Pythonå®‰è£…JupyterNotebooké…ç½®ä½¿ç”¨æ•™ç¨‹"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">Python</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/Webå‰ç«¯/Webå‰ç«¯ç›®éŒ²"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">Webå‰ç«¯</div><div style="flex:1"></div></div></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/æ¸¸æˆå¼•æ“/è™šå¹»å¼•æ“/ã€è™šå¹»ã€‘ç›®å½•"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">æ¸¸æˆå¼•æ“</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/DevOpsä¸ç‰ˆæœ¬æ§åˆ¶/Linux/ã€Linuxã€‘ç›®å½•"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">DevOpsä¸ç‰ˆæœ¬æ§åˆ¶</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/ä¸­é—´ä»¶/Redis/ã€Redisã€‘ç›®å½•"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">ä¸­é—´ä»¶</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/æ•°æ®åº“/MySQLæ•°æ®åº“/ã¨ã‚ã‚‹ã€ŒMySQLã€ã®ç¦åº«ç›®éŒ²"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">æ•°æ®åº“</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/åˆ·é¢˜æ—¥å¿—/åšé¢˜è®°å½•"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">åˆ·é¢˜æ—¥å¿—</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/åµŒå…¥å¼/æ‚é¡¹/ICé€šä¿¡"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">åµŒå…¥å¼</div><div style="flex:1"></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/Game/MineCraft/æœåŠ¡å™¨/è„šæœ¬"><img src="/HXLoLi/default-icons/default_folder.svg" style="width:20px;margin-right:5px"><div style="display:flex;flex-direction:column"><div style="flex:1">Game</div><div style="flex:1"></div></div></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="é¡µé¢è·¯å¾„"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ä¸»é¡µé¢" class="breadcrumbs__link" href="/HXLoLi/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">ç¨‹åºè¯­è¨€</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">C++</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">tmpä¸¶C++ä¸¶memo</span><meta itemprop="position" content="3"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">C++ç½‘ç»œç¼–ç¨‹</span><meta itemprop="position" content="4"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Windowsç½‘ç»œç¼–ç¨‹</span><meta itemprop="position" content="5"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">IOCP</span><meta itemprop="position" content="6"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>IOCPï¼ˆI/Oå®Œæˆç«¯å£ï¼‰</h1></header>
<p>IOCPæ˜¯Windowså¹³å°ä¸‹ä¸€ç§é«˜æ•ˆçš„çº¿ç¨‹åŒæ­¥æœºåˆ¶ï¼Œä¸“é—¨ç”¨äºå¤„ç†å¤§é‡çš„å¹¶å‘è¾“å…¥/è¾“å‡ºæ“ä½œã€‚å®ƒå…è®¸åº”ç”¨ç¨‹åºåœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´é«˜æ•ˆåœ°åˆ†é…I/Oæ“ä½œï¼Œæé«˜äº†ç½‘ç»œåº”ç”¨å’Œæ–‡ä»¶æ“ä½œçš„æ€§èƒ½ã€‚ä½¿ç”¨IOCPï¼Œå¯ä»¥è®©åº”ç”¨ç¨‹åºåªæœ‰åœ¨I/Oæ“ä½œå®Œæˆæ—¶æ‰æ¥æ”¶é€šçŸ¥ï¼Œä»è€Œå‡å°‘èµ„æºçš„å ç”¨å’Œæé«˜åº”ç”¨ç¨‹åºçš„å“åº”èƒ½åŠ›ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æ¯”è¾ƒ">æ¯”è¾ƒ<a href="#æ¯”è¾ƒ" class="hash-link" aria-label="æ¯”è¾ƒçš„ç›´æ¥é“¾æ¥" title="æ¯”è¾ƒçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p><span class="tailwind"><a href="https://zhuanlan.zhihu.com/p/106957967" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">æŠ€æœ¯æ´¾-epollå’ŒIOCPä¹‹æ¯”è¾ƒ<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æ ¸å¿ƒæ¦‚å¿µ">æ ¸å¿ƒæ¦‚å¿µ<a href="#æ ¸å¿ƒæ¦‚å¿µ" class="hash-link" aria-label="æ ¸å¿ƒæ¦‚å¿µçš„ç›´æ¥é“¾æ¥" title="æ ¸å¿ƒæ¦‚å¿µçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<ul>
<li>
<p><strong>å®Œæˆç«¯å£</strong>ï¼šä¸€ä¸ªæŠ½è±¡çš„ã€ä¸ç³»ç»Ÿå…³è”çš„I/Oæ“ä½œé˜Ÿåˆ—ï¼Œå¯ä»¥å…³è”å¤šä¸ªI/Oå¯¹è±¡ï¼ˆå¦‚socketã€æ–‡ä»¶å¥æŸ„ç­‰ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å·¥ä½œçº¿ç¨‹</strong>ï¼šä»å®Œæˆç«¯å£è·å–å·²å®Œæˆçš„I/Oæ“ä½œé€šçŸ¥ï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„å¤„ç†é€»è¾‘ã€‚</p>
</li>
<li>
<p><strong>å…³è”</strong>ï¼šå°†I/Oå¯¹è±¡ï¼ˆå¦‚socketï¼‰ä¸å®Œæˆç«¯å£ç»‘å®šï¼Œä½¿å¾—è¯¥å¯¹è±¡ä¸Šçš„I/Oæ“ä½œå®Œæˆåï¼Œç›¸å…³çš„å®ŒæˆåŒ…ä¼šè¢«æŠ•é€’åˆ°å®Œæˆç«¯å£ã€‚</p>
</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å¤´æ–‡ä»¶">å¤´æ–‡ä»¶<a href="#å¤´æ–‡ä»¶" class="hash-link" aria-label="å¤´æ–‡ä»¶çš„ç›´æ¥é“¾æ¥" title="å¤´æ–‡ä»¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-C++ language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:hsl(355, 65%, 65%)">#</span><span class="token macro property directive keyword" style="color:hsl(286, 60%, 67%)">include</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property string" style="color:hsl(95, 38%, 62%)">&lt;WinSock2.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:hsl(355, 65%, 65%)">#</span><span class="token macro property directive keyword" style="color:hsl(286, 60%, 67%)">include</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property string" style="color:hsl(95, 38%, 62%)">&lt;MSWSock.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:hsl(355, 65%, 65%)">#</span><span class="token macro property directive keyword" style="color:hsl(286, 60%, 67%)">define</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property macro-name" style="color:hsl(355, 65%, 65%)">WIN32_LEAN_AND_MEAN</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:hsl(355, 65%, 65%)">#</span><span class="token macro property directive keyword" style="color:hsl(286, 60%, 67%)">include</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property string" style="color:hsl(95, 38%, 62%)">&lt;Windows.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:hsl(355, 65%, 65%)">#</span><span class="token macro property directive keyword" style="color:hsl(286, 60%, 67%)">pragma</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property expression function" style="color:hsl(207, 82%, 66%)">comment</span><span class="token macro property expression punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token macro property expression" style="color:hsl(355, 65%, 65%)">lib</span><span class="token macro property expression punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token macro property expression" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property string" style="color:hsl(95, 38%, 62%)">&quot;Ws2_32.lib&quot;</span><span class="token macro property expression punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:hsl(355, 65%, 65%)">#</span><span class="token macro property directive keyword" style="color:hsl(286, 60%, 67%)">pragma</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property expression function" style="color:hsl(207, 82%, 66%)">comment</span><span class="token macro property expression punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token macro property expression" style="color:hsl(355, 65%, 65%)">lib</span><span class="token macro property expression punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token macro property expression" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property string" style="color:hsl(95, 38%, 62%)">&quot;Mswsock.lib&quot;</span><span class="token macro property expression punctuation" style="color:hsl(220, 14%, 71%)">)</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">C++</span><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="margin-top:80px">
<hr>
</div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ç›¸å…³æ•°æ®ç»“æ„">ç›¸å…³æ•°æ®ç»“æ„<a href="#ç›¸å…³æ•°æ®ç»“æ„" class="hash-link" aria-label="ç›¸å…³æ•°æ®ç»“æ„çš„ç›´æ¥é“¾æ¥" title="ç›¸å…³æ•°æ®ç»“æ„çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="overlapped">OVERLAPPED<a href="#overlapped" class="hash-link" aria-label="OVERLAPPEDçš„ç›´æ¥é“¾æ¥" title="OVERLAPPEDçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><code>OVERLAPPED</code>æ˜¯ Windows æ“ä½œç³»ç»Ÿä¸­çš„ä¸€ä¸ªç»“æ„ä½“ï¼Œç”¨äºåœ¨å¼‚æ­¥ I/O æ“ä½œä¸­ä¼ é€’å‚æ•°å’Œç»“æœä¿¡æ¯ã€‚å®ƒçš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="language-C++ language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:hsl(286, 60%, 67%)">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">struct</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">_OVERLAPPED</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ULONG_PTR Internal</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ULONG_PTR InternalHigh</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">union</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            DWORD Offset</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            DWORD OffsetHigh</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"> DUMMYSTRUCTNAME</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        PVOID Pointer</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"> DUMMYUNIONNAME</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    HANDLE hEvent</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"> OVERLAPPED</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">*</span><span class="token plain">LPOVERLAPPED</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">C++</span><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>æˆå‘˜:
<ul>
<li><code>Internal</code>ï¼šç”¨äºä¼ é€’æ“ä½œçš„çŠ¶æ€æˆ–é”™è¯¯ç ç­‰ä¿¡æ¯ã€‚</li>
<li><code>InternalHigh</code>ï¼šç”¨äºä¼ é€’æ“ä½œçš„é™„åŠ ä¿¡æ¯ã€‚</li>
<li><code>DUMMYUNIONNAME</code>ï¼šä¸€ä¸ªè”åˆä½“ï¼ŒåŒ…å«ä¸¤ä¸ªæˆå‘˜ï¼š
<ul>
<li><code>Offset</code>å’Œ<code>OffsetHigh</code>ï¼šç”¨äºæŒ‡å®šæ–‡ä»¶åç§»é‡ï¼Œé€šå¸¸åœ¨æ–‡ä»¶æ“ä½œä¸­ä½¿ç”¨ã€‚</li>
<li><code>Pointer</code>ï¼šç”¨äºæŒ‡å®šè‡ªå®šä¹‰çš„æŒ‡é’ˆï¼Œå¯ä»¥ä¼ é€’é¢å¤–çš„æ•°æ®ã€‚</li>
</ul>
</li>
<li><code>hEvent</code>ï¼šç”¨äºæŒ‡å®šäº‹ä»¶å¥æŸ„ï¼Œå¯ä»¥é€šè¿‡äº‹ä»¶å¯¹è±¡å®ç°åŒæ­¥æˆ–å¼‚æ­¥çš„é€šçŸ¥æœºåˆ¶ã€‚</li>
</ul>
</li>
</ul>
<div style="margin-top:80px">
<hr>
</div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å…³é”®å‡½æ•°">å…³é”®å‡½æ•°<a href="#å…³é”®å‡½æ•°" class="hash-link" aria-label="å…³é”®å‡½æ•°çš„ç›´æ¥é“¾æ¥" title="å…³é”®å‡½æ•°çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å‰ç½®çŸ¥è¯†">å‰ç½®çŸ¥è¯†<a href="#å‰ç½®çŸ¥è¯†" class="hash-link" aria-label="å‰ç½®çŸ¥è¯†çš„ç›´æ¥é“¾æ¥" title="å‰ç½®çŸ¥è¯†çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åœ¨å‡½æ•°åŸå‹æˆ–æ–‡æ¡£ä¸­ï¼Œ<code>[in]</code>ã€<code>[out]</code>å’Œ<code>[in, out]</code>è¿™æ ·çš„æ ‡è®°ç”¨äºæŒ‡ç¤ºå‚æ•°æ˜¯å¦‚ä½•è¢«å‡½æ•°ä½¿ç”¨çš„ã€‚è¿™äº›æ ‡è®°å¸®åŠ©å¼€å‘è€…ç†è§£å„ä¸ªå‚æ•°çš„ä½œç”¨å’ŒæœŸæœ›çš„æ•°æ®æµå‘ï¼Œæ˜¯APIæ–‡æ¡£ä¸­å¸¸è§çš„æ³¨é‡Šæ–¹å¼ã€‚ä¸‹é¢æ˜¯æ¯ä¸ªæ ‡è®°çš„å…·ä½“å«ä¹‰ï¼š</p>
<ul>
<li>
<p><code>[in]</code>ï¼šè¿™ä¸ªæ ‡è®°è¡¨ç¤ºå‚æ•°æ˜¯è¾“å…¥å‚æ•°ã€‚å®ƒè¢«ç”¨æ¥ä»è°ƒç”¨è€…ä¼ é€’æ•°æ®åˆ°å‡½æ•°å†…éƒ¨ã€‚å‡½æ•°ä¼šè¯»å–è¿™ä¸ªå‚æ•°çš„å€¼ï¼Œä½†ä¸æœŸæœ›ä¿®æ”¹å®ƒã€‚è°ƒç”¨è€…åº”è¯¥åœ¨è°ƒç”¨å‡½æ•°ä¹‹å‰æä¾›è¿™ä¸ªå‚æ•°çš„å€¼ã€‚</p>
</li>
<li>
<p><code>[out]</code>ï¼šè¿™ä¸ªæ ‡è®°è¡¨ç¤ºå‚æ•°æ˜¯è¾“å‡ºå‚æ•°ã€‚å‡½æ•°ä¼šé€šè¿‡è¿™ä¸ªå‚æ•°å‘è°ƒç”¨è€…è¿”å›æ•°æ®ã€‚è°ƒç”¨è€…æä¾›ä¸€ä¸ªå˜é‡ï¼ˆæˆ–è€…å˜é‡çš„åœ°å€/å¼•ç”¨ï¼‰ï¼Œå‡½æ•°ä¼šä¿®æ”¹è¿™ä¸ªå˜é‡çš„å†…å®¹ï¼Œä»¥åæ˜ æ“ä½œçš„ç»“æœæˆ–è¾“å‡ºæ•°æ®ã€‚åœ¨è°ƒç”¨å‡½æ•°ä¹‹å‰ï¼Œè¯¥å‚æ•°çš„åˆå§‹å€¼é€šå¸¸ä¸é‡è¦ï¼Œé™¤éæ–‡æ¡£ç‰¹åˆ«è¯´æ˜ã€‚</p>
</li>
<li>
<p><code>[in, out]</code>ï¼šè¿™ä¸ªæ ‡è®°è¡¨ç¤ºå‚æ•°æ—¢æ˜¯è¾“å…¥åˆæ˜¯è¾“å‡ºå‚æ•°ã€‚è°ƒç”¨è€…æä¾›åˆå§‹å€¼ï¼Œå¹¶ä¸”å‡½æ•°å¯èƒ½ä¼šæ ¹æ®æ“ä½œçš„éœ€è¦è¯»å–å¹¶ä¿®æ”¹å®ƒã€‚è¿™æ„å‘³ç€å‡½æ•°æ—¢ä¼šè¯»å–å‚æ•°çš„åˆå§‹å€¼ï¼Œä¹Ÿä¼šæ›´æ–°å®ƒä»¥åæ˜ æ–°çš„çŠ¶æ€æˆ–ç»“æœã€‚</p>
</li>
</ul>
<p>è¿™äº›æ ‡è®°å¯¹äºç†è§£å‡½æ•°å¦‚ä½•ä¸å…¶å‚æ•°äº¤äº’æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ä¾‹å¦‚ï¼Œå½“ä½ çœ‹åˆ°ä¸€ä¸ªæ ‡è®°ä¸º[out]çš„å‚æ•°æ—¶ï¼Œä½ å°±çŸ¥é“éœ€è¦æŸ¥çœ‹è¿™ä¸ªå‚æ•°åœ¨å‡½æ•°è°ƒç”¨åçš„å€¼ï¼Œå› ä¸ºå®ƒå¾ˆå¯èƒ½åŒ…å«äº†ä¸€äº›é‡è¦çš„è¾“å‡ºä¿¡æ¯æˆ–å‡½æ•°æ‰§è¡Œçš„ç»“æœã€‚ç›¸åï¼Œä¸€ä¸ª[in]æ ‡è®°çš„å‚æ•°åªéœ€è¦åœ¨è°ƒç”¨å‰è¢«æ­£ç¡®è®¾ç½®ï¼Œå› ä¸ºå‡½æ•°åªä¼šè¯»å–å®ƒã€‚</p>
<p>åœ¨ç¼–å†™ä»£ç æ—¶ï¼Œæ­£ç¡®å¤„ç†è¿™äº›ä¸åŒç±»å‹çš„å‚æ•°å¯¹äºç¡®ä¿ç¨‹åºçš„æ­£ç¡®æ€§å’Œé¿å…æ½œåœ¨çš„é”™è¯¯éå¸¸é‡è¦ã€‚</p>
<div style="margin-top:80px">
<hr>
</div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="createiocompletionport">CreateIoCompletionPort()<a href="#createiocompletionport" class="hash-link" aria-label="CreateIoCompletionPort()çš„ç›´æ¥é“¾æ¥" title="CreateIoCompletionPort()çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ç”¨äº<strong>åˆ›å»ºä¸€ä¸ªæ–°çš„IOå®Œæˆç«¯å£</strong> æˆ– <strong>å°†I/Oå¯¹è±¡ï¼ˆå¦‚socketï¼‰ä¸å·²æœ‰çš„å®Œæˆç«¯å£å…³è”</strong>ã€‚</p>
<div class="language-C++ language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">HANDLE </span><span class="token function" style="color:hsl(207, 82%, 66%)">CreateIoCompletionPort</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain">      HANDLE    FileHandle</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> out</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> HANDLE    ExistingCompletionPort</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain">      ULONG_PTR CompletionKey</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain">      DWORD     NumberOfConcurrentThreads</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">C++</span><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p><strong>å‚æ•°</strong>:</p>
<ul>
<li><code>FileHandle</code>ï¼šéœ€è¦å…³è”çš„I/Oå¯¹è±¡å¥æŸ„ï¼Œæˆ–è€…æ˜¯<code>INVALID_HANDLE_VALUE</code>ä»¥<strong>åˆ›å»º</strong>æ–°çš„å®Œæˆç«¯å£ã€‚</li>
<li><code>ExistingCompletionPort</code>ï¼šè¦<code>å…³è”</code>çš„ç°æœ‰å®Œæˆç«¯å£å¥æŸ„ï¼Œæˆ–è€…ä¸º<code>NULL</code>ä»¥<strong>åˆ›å»º</strong>æ–°çš„å®Œæˆç«¯å£ã€‚</li>
<li><code>CompletionKey</code>ï¼šç”¨æˆ·å®šä¹‰çš„å€¼ï¼Œä¸æ¯ä¸ªI/Oæ“ä½œä¸€èµ·è¿”å›ï¼Œç”¨äºåŒºåˆ†ä¸åŒçš„I/Oæºã€‚<sup>[1]</sup></li>
<li><code>NumberOfConcurrentThreads</code>ï¼šæŒ‡å®šå¯ä»¥åŒæ—¶è®¿é—®å®Œæˆç«¯å£çš„æœ€å¤§çº¿ç¨‹æ•°(æ˜¯ç”¨æˆ·ä»£ç çº¿ç¨‹æ•°)ã€‚ä¼ é€’0è¡¨ç¤ºç”±ç³»ç»Ÿå†³å®šã€‚
<ul>
<li><strong>å¦‚ä½•ç†è§£</strong>ï¼šå‡è®¾<code>NumberOfConcurrentThreads</code>è¢«è®¾ç½®ä¸º4ï¼Œè¿™æ„å‘³ç€åœ¨ä»»ä½•æ—¶åˆ»ï¼Œæœ€å¤šåªæœ‰å››ä¸ªçº¿ç¨‹å¯ä»¥ä»å®Œæˆç«¯å£è·å–IOå®Œæˆäº‹ä»¶è¿›è¡Œå¤„ç†ã€‚å¦‚æœæœ‰æ›´å¤šçš„çº¿ç¨‹å°è¯•ä»å®Œæˆç«¯å£è·å–äº‹ä»¶ï¼Œé‚£ä¹ˆè¶…å‡ºè¿™ä¸ªé™åˆ¶çš„çº¿ç¨‹å°†ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°å…¶ä¸­ä¸€ä¸ªæ­£åœ¨å¤„ç†çš„çº¿ç¨‹å®Œæˆå…¶å·¥ä½œã€‚è¿™ä¸ªæœºåˆ¶æœ‰åŠ©äºå¼€å‘è€…æ§åˆ¶åº”ç”¨ç¨‹åºçš„å¹¶å‘çº§åˆ«ï¼Œä»¥åŠç®¡ç†çº¿ç¨‹çš„ä½¿ç”¨ï¼Œä»è€Œä¼˜åŒ–ç¨‹åºæ€§èƒ½å’Œèµ„æºåˆ©ç”¨ç‡ã€‚</li>
<li><strong>è®¾ç½®å»ºè®®</strong>ï¼šå¦‚æœè®¾ç½®ä¸º0ï¼Œç³»ç»Ÿä¼šæ ¹æ®å½“å‰è®¡ç®—æœºä¸Šçš„é€»è¾‘å¤„ç†å™¨æ•°é‡è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜çš„çº¿ç¨‹æ•°ã€‚è¿™é€šå¸¸æ˜¯æ¨èçš„åšæ³•ï¼Œå› ä¸ºå®ƒå¯ä»¥è®©ç³»ç»ŸåŸºäºå½“å‰ç¡¬ä»¶é…ç½®æ¥ä¼˜åŒ–å¹¶å‘æ“ä½œã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>è¿”å›å€¼</strong>ï¼š</p>
<ul>
<li>å¦‚æœå‡½æ•°è°ƒç”¨<code>æˆåŠŸ</code>ï¼Œè¿”å›å€¼æ˜¯<strong>ä¸€ä¸ªæŒ‡å‘æ–°åˆ›å»ºæˆ–å·²å­˜åœ¨çš„IOå®Œæˆç«¯å£çš„å¥æŸ„</strong>ã€‚</li>
<li>å¦‚æœå‡½æ•°<code>å¤±è´¥</code>ï¼Œè¿”å›å€¼ä¸º<code>NULL</code>ã€‚å¤±è´¥æ—¶ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨GetLastErrorå‡½æ•°è·å–æ›´å¤šé”™è¯¯ä¿¡æ¯ã€‚</li>
</ul>
</li>
</ul>
<p>æ³¨: <code>å‚æ•°ä¸€</code> ä¸ <code>å‚æ•°äºŒ</code> æ˜¯ä¸èƒ½äº’æ¢çš„</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯éœ€è¦è¢«å…³è”çš„å¯¹è±¡ï¼Œè€Œç¬¬äºŒä¸ªå‚æ•°å†³å®šäº†è¿™ä¸ªå¯¹è±¡å°†è¢«å…³è”åˆ°å“ªä¸ªI/Oå®Œæˆç«¯å£ä¸Š</li>
</ul>
<p><strong>ç¤ºä¾‹ä»£ç :</strong></p>
<div class="language-C++ language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:hsl(220, 10%, 40%)">// åˆ›å»ºå®Œæˆç«¯å£</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">HANDLE sev_iocp </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">CreateIoCompletionPort</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">INVALID_HANDLE_VALUE</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token constant" style="color:hsl(29, 54%, 61%)">NULL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token constant" style="color:hsl(29, 54%, 61%)">NULL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)">// å…³è”å®Œæˆç«¯å£</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token function" style="color:hsl(207, 82%, 66%)">CreateIoCompletionPort</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">HANDLE</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain">server</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">getSerSocket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> sev_iocp</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token constant" style="color:hsl(29, 54%, 61%)">NULL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    HX</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token plain">tools</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token class-name" style="color:hsl(29, 54%, 61%)">HXprint</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token function" style="color:hsl(207, 82%, 66%)">getHXprint</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token function" style="color:hsl(207, 82%, 66%)">ptr_pError</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;å…³è”å®Œæˆç«¯å£æ—¶å‡ºé”™!&quot;</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">C++</span><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="margin-top:80px">
<hr>
</div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="acceptex">AcceptEx()<a href="#acceptex" class="hash-link" aria-label="AcceptEx()çš„ç›´æ¥é“¾æ¥" title="AcceptEx()çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><code>AcceptEx()</code>æ˜¯<code>Windows Sockets 2</code>çš„ä¸€ä¸ªæ‰©å±•å‡½æ•°ï¼Œç”¨äºåœ¨æœåŠ¡å™¨ç«¯å¼‚æ­¥åœ°æ¥å—æ–°çš„è¿æ¥è¯·æ±‚ã€‚å®ƒæ˜¯ä¸“é—¨è®¾è®¡æ¥ä¸IOå®Œæˆç«¯å£ï¼ˆIOCPï¼‰æ¨¡å‹ä¸€èµ·ä½¿ç”¨çš„ï¼Œå…è®¸åº”ç”¨ç¨‹åºé«˜æ•ˆåœ°å¤„ç†å¤šä¸ªå¹¶å‘è¿æ¥ã€‚ä¸ä¼ ç»Ÿçš„<code>accept()</code>å‡½æ•°ç›¸æ¯”ï¼Œ<code>AcceptEx()</code>æä¾›äº†æ›´å¤šçš„çµæ´»æ€§å’Œæ€§èƒ½ä¼˜åŠ¿ï¼Œç‰¹åˆ«æ˜¯åœ¨é«˜æ€§èƒ½ç½‘ç»œæœåŠ¡å™¨çš„å¼€å‘ä¸­ã€‚</p>
<div class="language-C++ language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">BOOL </span><span class="token function" style="color:hsl(207, 82%, 66%)">AcceptEx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain">  SOCKET sListenSocket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">         </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// ç›‘å¬çš„socket &lt;æœåŠ¡ç«¯å¥—æ¥å­—&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain">  SOCKET sAcceptSocket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">         </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// å®¢æˆ·ç«¯å¥—æ¥å­—ï¼Œå¿…é¡»æ˜¯é€šè¿‡socketå‡½æ•°åˆ›å»ºçš„ï¼Œæœªç»‘å®šçš„å¥—æ¥å­—</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">out</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> PVOID lpOutputBuffer</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">         </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// ç”¨æ¥æ¥æ”¶é¦–æ‰¹æ•°æ®åŠå­˜å‚¨ä¸¤ä¸ªsockaddrç»“æ„çš„ç¼“å†²åŒº</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain">  DWORD dwReceiveDataLength</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// åœ¨é¦–æ¬¡æ¥å—çš„æ•°æ®ä¸­æœŸæœ›è¯»å–çš„å­—èŠ‚æ•°ï¼Œå¦‚æœä¸º0ï¼Œåˆ™è¡¨ç¤ºä¸æ¥æ”¶æ•°æ®</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain">  DWORD dwLocalAddressLength</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">   </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// æœ¬åœ°åœ°å€sockaddrç»“æ„çš„å¤§å°ï¼Œæ­¤å€¼å¿…é¡»è‡³å°‘æ¯”æ­£åœ¨ä½¿ç”¨çš„ä¼ è¾“åè®®çš„æœ€å¤§åœ°å€é•¿åº¦å¤š16ä¸ªå­—èŠ‚</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain">  DWORD dwRemoteAddressLength</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">  </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// è¿œç¨‹åœ°å€sockaddrç»“æ„çš„å¤§å°ï¼Œæ­¤å€¼å¿…é¡»è‡³å°‘æ¯”æ­£åœ¨ä½¿ç”¨çš„ä¼ è¾“åè®®çš„æœ€å¤§åœ°å€é•¿åº¦å¤š16ä¸ªå­—èŠ‚</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">out</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> LPDWORD lpdwBytesReceived</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// å®é™…æ¥æ”¶åˆ°çš„å­—èŠ‚æ•°</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> out</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> LPOVERLAPPED lpOverlapped </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// æŒ‡å‘OVERLAPPEDç»“æ„çš„æŒ‡é’ˆï¼Œç”¨äºå¼‚æ­¥æ“ä½œ</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">C++</span><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p><strong>å‚æ•°</strong>:</p>
<ul>
<li><code>sListenSocket</code>ï¼šè¿™æ˜¯å¼•ç”¨ç›‘å¬å¥—æ¥å­—çš„å¥æŸ„ï¼Œå®ƒå¿…é¡»å¤„äºç›‘å¬çŠ¶æ€ï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ã€‚</li>
<li><code>sAcceptSocket</code>ï¼šè¿™æ˜¯å¼•ç”¨å°†è¦æ¥å—æ–°è¿æ¥çš„å¥—æ¥å­—çš„å¥æŸ„ã€‚æ­¤å¥—æ¥å­—åœ¨è°ƒç”¨<code>AcceptEx</code>ä¹‹å‰å¿…é¡»å·²ç»<strong>åˆ›å»ºä¸”å’Œå…³è”äº†å®Œæˆç«¯å£</strong>ï¼Œä½†ä¸åº”ç»‘å®šåˆ°ä»»ä½•åœ°å€ã€‚</li>
<li><code>lpOutputBuffer</code>ï¼šæŒ‡å‘æ¥æ”¶ç¬¬ä¸€æ‰¹ä¼ å…¥æ•°æ®ä»¥åŠä¸¤ä¸ªå¥—æ¥å­—åœ°å€çš„ç¼“å†²åŒºçš„æŒ‡é’ˆã€‚ç¼“å†²åŒºçš„å¤§å°åº”è‡³å°‘ä¸º<code>dwReceiveDataLength + dwLocalAddressLength + dwRemoteAddressLength</code>ã€‚</li>
<li><code>dwReceiveDataLength</code>ï¼šæŒ‡å®š<code>lpOutputBuffer</code>ä¸­ç”¨äºæ¥æ”¶æ¥è‡ªå‘é€æ–¹çš„æ•°æ®çš„éƒ¨åˆ†çš„å¤§å°ï¼ˆå­—èŠ‚ï¼‰ã€‚</li>
<li><code>dwLocalAddressLength</code>ï¼šæŒ‡å®š<code>lpOutputBuffer</code>ä¸­ç”¨äºå­˜å‚¨æœ¬åœ°å¥—æ¥å­—åœ°å€çš„éƒ¨åˆ†çš„å¤§å°ï¼ˆå­—èŠ‚ï¼‰ã€‚</li>
<li><code>dwRemoteAddressLength</code>ï¼šæŒ‡å®š<code>lpOutputBuffer</code>ä¸­ç”¨äºå­˜å‚¨è¿œç¨‹å¥—æ¥å­—åœ°å€çš„éƒ¨åˆ†çš„å¤§å°ï¼ˆå­—èŠ‚ï¼‰ã€‚</li>
<li><code>lpdwBytesReceived</code>ï¼šä¸€ä¸ªæŒ‡é’ˆï¼Œç”¨äºæ¥æ”¶åœ¨<code>lpOutputBuffer</code>ä¸­å®é™…æ¥æ”¶åˆ°çš„æ•°æ®å­—èŠ‚æ•°ã€‚</li>
<li><code>lpOverlapped</code>ï¼šæŒ‡å‘ä¸€ä¸ª<code>OVERLAPPED</code>ç»“æ„çš„æŒ‡é’ˆï¼Œè¯¥ç»“æ„ç”¨äºå¼‚æ­¥æ“ä½œã€‚åœ¨æ“ä½œå®Œæˆæ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>GetQueuedCompletionStatus</code>æ¥æ£€ç´¢æ“ä½œçš„ç»“æœã€‚</li>
</ul>
</li>
<li>
<p><strong>è¿”å›å€¼</strong>:</p>
<ul>
<li>æˆåŠŸï¼šå¦‚æœå‡½æ•°æˆåŠŸåœ°å¼€å§‹äº†ä¸€ä¸ªå¼‚æ­¥æ“ä½œæ¥æ¥å—ä¸€ä¸ªè¿æ¥ï¼Œåˆ™è¿”å›<code>TRUE</code>ã€‚</li>
<li>å¤±è´¥ï¼šå¦‚æœå‡ºç°é”™è¯¯ï¼Œåˆ™è¿”å›<code>FALSE</code>ã€‚å¯ä»¥é€šè¿‡è°ƒç”¨<code>WSAGetLastError()</code>å‡½æ•°æ¥è·å–æ›´å¤šé”™è¯¯ä¿¡æ¯ã€‚å¦‚æœ<code>WSAGetLastError()</code>è¿”å›<code>ERROR_IO_PENDING</code>ï¼Œè¿™è¡¨æ˜å¼‚æ­¥æ“ä½œå·²æˆåŠŸå¯åŠ¨ï¼Œå¹¶ä¸”å®Œæˆå°†åœ¨æœªæ¥é€šçŸ¥ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç¤ºä¾‹ä»£ç :</strong></p>
<div class="language-C++ language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:hsl(355, 65%, 65%)">#</span><span class="token macro property directive keyword" style="color:hsl(286, 60%, 67%)">define</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property macro-name" style="color:hsl(355, 65%, 65%)">STR_MAX_SIZE</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property expression number" style="color:hsl(29, 54%, 61%)">1024</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)">// IOCP äº‹ä»¶ç±»å‹</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">enum</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">IocpEventType</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ACCEPT</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// ç­‰å¾…è¿æ¥</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    RECV</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">   </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// æ¥æ”¶</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    SEND    </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// å‘é€</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">struct</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(29, 54%, 61%)">HXData</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    OVERLAPPED Overlapped</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain">          </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// é‡å ç»“æ„ä½“å¿…éœ€è¦æ”¾åˆ°ç¬¬ä¸€ä¸ªä½ç½®</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    SOCKET cli_socket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain">              </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// å®¢æˆ·ç«¯å¥—æ¥å­—</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    CHAR str_data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">STR_MAX_SIZE</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// æ”¶/å‘ çš„æ•°æ®</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    WSABUF buf_data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain">                </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// ç”¨äºæè¿°æ•°æ®ç¼“å†²åŒº</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    IocpEventType eventType</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain">        </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// äº‹ä»¶ç±»å‹</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    DWORD bufferCount</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain">              </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// æ¥æ”¶çš„å­—èŠ‚æ•°</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    DWORD lFlags</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain">                   </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// ä½œç”¨æœªçŸ¥</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">public</span><span class="token operator" style="color:hsl(207, 82%, 66%)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// æ„é€ å‡½æ•°</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">HXData</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">SOCKET cli_socket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> IocpEventType eventType</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:hsl(207, 82%, 66%)">memset</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token keyword" style="color:hsl(286, 60%, 67%)">this</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">sizeof</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">HXData</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">this</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">cli_socket </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> cli_socket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">this</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">buf_data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">buf </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">this</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">str_data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">this</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">buf_data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token plain">len </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">sizeof</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token keyword" style="color:hsl(286, 60%, 67%)">this</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">str_data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">this</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">bufferCount </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">this</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">lFlags </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">this</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">eventType </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> eventType</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"> HXData</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)">// ç­‰å¾…è¿æ¥</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">accepHX</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">SOCKET ser_socket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> HANDLE sev_iocp</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// å‡†å¤‡ä¸€ä¸ªæœªå…³è”çš„, ç”¨äºè¿æ¥å®¢æˆ·ç«¯çš„å¥—æ¥å­—</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    SOCKET cli_socket </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">socket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> SOCK_STREAM</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> IPPROTO_TCP</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// å…³è”å®Œæˆç«¯å£</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token function" style="color:hsl(207, 82%, 66%)">CreateIoCompletionPort</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">HWND</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain">cli_socket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> sev_iocp</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token constant" style="color:hsl(29, 54%, 61%)">NULL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        HX</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token plain">tools</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token class-name" style="color:hsl(29, 54%, 61%)">HXprint</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token function" style="color:hsl(207, 82%, 66%)">getHXprint</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token function" style="color:hsl(207, 82%, 66%)">ptr_pError</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;æ–°å»ºå®¢æˆ·ç«¯å¥—æ¥å­—, å…³è”å®Œæˆç«¯å£æ—¶å‡ºé”™!&quot;</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">return</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    HXData</span><span class="token operator" style="color:hsl(207, 82%, 66%)">*</span><span class="token plain"> data </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">new</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">HXData</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">cli_socket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> ACCEPT</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">char</span><span class="token plain"> szBuff</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">STR_MAX_SIZE</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"> </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// å•çº¯åªæ˜¯ç¼“å†²åŒº (void *)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    DWORD dwRecved </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">AcceptEx</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        ser_socket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        cli_socket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        szBuff</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">sizeof</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">sockaddr</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">+</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">16</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">sizeof</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">sockaddr</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">+</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">16</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;</span><span class="token plain">dwRecved</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">LPOVERLAPPED</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain">data</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)">// æŠ•é€’ä¸€ä¸ªç­‰å¾…è¿æ¥çš„ä»»åŠ¡</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">accepHX</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">server</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">getSerSocket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> sev_iocp</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">C++</span><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="margin-top:80px">
<hr>
</div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getqueuedcompletionstatus">GetQueuedCompletionStatus()<a href="#getqueuedcompletionstatus" class="hash-link" aria-label="GetQueuedCompletionStatus()çš„ç›´æ¥é“¾æ¥" title="GetQueuedCompletionStatus()çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä»å®Œæˆç«¯å£è·å–ä¸€ä¸ªå·²å®Œæˆçš„I/Oæ“ä½œã€‚</p>
<div class="language-C++ language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">BOOL </span><span class="token function" style="color:hsl(207, 82%, 66%)">GetQueuedCompletionStatus</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain">  HANDLE       CompletionPort</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">               </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// å®Œæˆç«¯å£çš„å¥æŸ„</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">out</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> LPDWORD      lpNumberOfBytesTransferred</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">   </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// æŒ‡å‘ä¸€ä¸ªå˜é‡çš„æŒ‡é’ˆï¼Œè¯¥å˜é‡æ¥æ”¶å®Œæˆçš„I/Oæ“ä½œä¼ è¾“çš„å­—èŠ‚æ•°</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">out</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> PULONG_PTR   lpCompletionKey</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">              </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// æŒ‡å‘ä¸€ä¸ªå˜é‡çš„æŒ‡é’ˆï¼Œè¯¥å˜é‡æ¥æ”¶ä¸å®Œæˆçš„I/Oæ“ä½œå…³è”çš„å®Œæˆé”®</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">out</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> LPOVERLAPPED </span><span class="token operator" style="color:hsl(207, 82%, 66%)">*</span><span class="token plain">lpOverlapped</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">                </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// æŒ‡å‘ä¸€ä¸ªå˜é‡çš„æŒ‡é’ˆï¼Œè¯¥å˜é‡æ¥æ”¶æŒ‡å‘å®Œæˆçš„I/Oæ“ä½œçš„OVERLAPPEDç»“æ„çš„æŒ‡é’ˆ</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain">  DWORD        dwMilliseconds                </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// ç­‰å¾…æ“ä½œå®Œæˆçš„è¶…æ—¶æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">C++</span><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p><strong>å‚æ•°</strong>:</p>
<ul>
<li><code>CompletionPort</code>ï¼šå®Œæˆç«¯å£çš„å¥æŸ„ã€‚</li>
<li><code>lpNumberOfBytesTransferred</code>ï¼šæŒ‡å‘æ¥æ”¶å·²ä¼ è¾“å­—èŠ‚è®¡æ•°çš„å˜é‡ã€‚</li>
<li><code>lpCompletionKey</code>ï¼šæ¥æ”¶ä¸å®ŒæˆåŒ…å…³è”çš„å®Œæˆé”®ã€‚</li>
<li><code>lpOverlapped</code>ï¼šæ¥æ”¶æŒ‡å‘<code>OVERLAPPED</code>ç»“æ„çš„æŒ‡é’ˆï¼Œè¯¥ç»“æ„ç”¨äºå¼‚æ­¥I/Oæ“ä½œã€‚</li>
<li><code>dwMilliseconds</code>ï¼šç­‰å¾…å®ŒæˆåŒ…çš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚
<ul>
<li><code>INFINITE</code>ï¼šå½“<code>dwMilliseconds</code>å‚æ•°è®¾ç½®ä¸º<code>INFINITE</code>æ—¶ï¼Œå‡½æ•°å°†ä¼šæ— é™æœŸç­‰å¾…ï¼Œç›´åˆ°è‡³å°‘æœ‰ä¸€ä¸ªå®ŒæˆåŒ…å¯ç”¨ã€‚è¿™æ„å‘³ç€å¦‚æœæ²¡æœ‰ä»»ä½•I/Oæ“ä½œå®Œæˆï¼Œè°ƒç”¨çº¿ç¨‹å°†ä¼šè¢«ä¸€ç›´é˜»å¡ã€‚</li>
<li><code>0</code>ï¼šè™½ç„¶ä¸æ˜¯ä¸€ä¸ªå®å®šä¹‰ï¼Œä½†å°†<code>dwMilliseconds</code>å‚æ•°è®¾ç½®ä¸º0ä¹Ÿå…·æœ‰ç‰¹æ®Šå«ä¹‰ã€‚è¿™è¡¨ç¤ºå‡½æ•°å°†ç«‹å³æ£€æŸ¥å®Œæˆç«¯å£ï¼Œçœ‹æ˜¯å¦æœ‰ä»»ä½•å®ŒæˆåŒ…å¯ç”¨ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ç«‹å³è¿”å›ï¼Œä¸ä¼šå‘ç”Ÿç­‰å¾…ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>è¿”å›å€¼</strong>ï¼š</p>
<ul>
<li>å¦‚æœå‡½æ•°è°ƒç”¨æˆåŠŸä¸”å®Œæˆäº†ä¸€ä¸ªI/Oæ“ä½œï¼Œè¿”å›å€¼ä¸º<code>TRUE</code>ã€‚</li>
<li>å¦‚æœç­‰å¾…è¶…æ—¶ï¼Œè¿”å›å€¼ä¸º<code>FALSE</code>ï¼Œå¹¶ä¸”<code>*lpOverlapped</code>ä¼šè¢«è®¾ç½®<code>ä¸ºNULL</code>ã€‚</li>
<li>å¦‚æœå‡½æ•°å¤±è´¥æˆ–è€…å®Œæˆçš„æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å®ŒæˆåŒ…ï¼ˆé€šè¿‡<code>PostQueuedCompletionStatus</code>æŠ•é€’ï¼‰ï¼Œè¿”å›å€¼ä¹Ÿå¯èƒ½æ˜¯<code>FALSE</code>ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”è¯¥æ£€æŸ¥<code>lpOverlapped</code>å‚æ•°æ¥åŒºåˆ†è¿™äº›æƒ…å†µã€‚å¯ä»¥é€šè¿‡<code>GetLastError</code>è·å–æ›´å¤šçš„é”™è¯¯ä¿¡æ¯ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç¤ºä¾‹ä»£ç </strong>:</p>
<div class="language-C++ language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:hsl(220, 10%, 40%)">// å¤„ç† ä¸»å¾ªç¯</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token boolean" style="color:hsl(29, 54%, 61%)">true</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    DWORD dwBytesTranfered </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ULONG_PTR uKey</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    LPOVERLAPPED data_mae </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token constant" style="color:hsl(29, 54%, 61%)">NULL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">GetQueuedCompletionStatus</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">sev_iocp</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;</span><span class="token plain">dwBytesTranfered</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;</span><span class="token plain">uKey</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;</span><span class="token plain">data_mae</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> INFINITE</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    HXData</span><span class="token operator" style="color:hsl(207, 82%, 66%)">*</span><span class="token plain"> data </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">HXData</span><span class="token operator" style="color:hsl(207, 82%, 66%)">*</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain">data_mae</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">data</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">eventType</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">case</span><span class="token plain"> ACCEPT</span><span class="token operator" style="color:hsl(207, 82%, 66%)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// æ·»åŠ åˆ°æ¥æ”¶æ•°æ®ä»»åŠ¡</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        data</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">eventType </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> RECV</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:hsl(207, 82%, 66%)">recvHX</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        print</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token function" style="color:hsl(207, 82%, 66%)">ptr_pInfo</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;å®¢æˆ·ç«¯å·²è¿æ¥!&quot;</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// å†åˆ›å»ºä¸€ä¸ªç­‰å¾…è¿æ¥çš„ä»»åŠ¡</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:hsl(207, 82%, 66%)">accepHX</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">server</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">.</span><span class="token function" style="color:hsl(207, 82%, 66%)">getSerSocket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> sev_iocp</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">break</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">case</span><span class="token plain"> RECV</span><span class="token operator" style="color:hsl(207, 82%, 66%)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">dwBytesTranfered </span><span class="token operator" style="color:hsl(207, 82%, 66%)">==</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            print</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token function" style="color:hsl(207, 82%, 66%)">ptr_pInfo</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;å®¢æˆ·ç«¯å·²æ–­å¼€è¿æ¥!&quot;</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// å–æ¶ˆå¯¹å®Œæˆç«¯å£çš„å…³è”</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token function" style="color:hsl(207, 82%, 66%)">CreateIoCompletionPort</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">HANDLE</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain">data</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">cli_socket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token constant" style="color:hsl(29, 54%, 61%)">NULL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token function" style="color:hsl(207, 82%, 66%)">closesocket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">data</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">cli_socket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">delete</span><span class="token plain"> data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">continue</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        print</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token function" style="color:hsl(207, 82%, 66%)">ptr_pInfo</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;æ”¶åˆ°æ¶ˆæ¯: %s&quot;</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> data</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">str_data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:hsl(207, 82%, 66%)">recvHX</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">break</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">default</span><span class="token operator" style="color:hsl(207, 82%, 66%)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">break</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">C++</span><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="margin-top:80px">
<hr>
</div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="wsarecv">WSARecv()<a href="#wsarecv" class="hash-link" aria-label="WSARecv()çš„ç›´æ¥é“¾æ¥" title="WSARecv()çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><code>WSARecv</code>å‡½æ•°ç”¨äºåœ¨å¥—æ¥å­—ä¸Šå¼‚æ­¥æ¥æ”¶æ•°æ®ã€‚</p>
<div class="language-C++ language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:hsl(286, 60%, 67%)">int</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">WSARecv</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain">  SOCKET                             s</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">                    </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// ç›®æ ‡å¥—æ¥å­—</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> out</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> LPWSABUF                       lpBuffers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">            </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// æ•°æ®ç¼“å†²åŒºæ•°ç»„</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain">  DWORD                              dwBufferCount</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">        </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// ç¼“å†²åŒºæ•°ç»„ä¸­çš„å…ƒç´ æ•°é‡</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">out</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> LPDWORD                            lpNumberOfBytesRecvd</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// å®é™…æ¥æ”¶çš„å­—èŠ‚æ•°</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> out</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> LPDWORD                        lpFlags</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">              </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// æ§åˆ¶æ¥æ”¶è¡Œä¸ºçš„æ ‡å¿—</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> out</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain"> LPWSAOVERLAPPED                lpOverlapped</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain">         </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// æŒ‡å‘OVERLAPPEDç»“æ„çš„æŒ‡é’ˆï¼Œç”¨äºå¼‚æ­¥æ“ä½œ</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain">in</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token plain">  LPWSAOVERLAPPED_COMPLETION_ROUTINE lpCompletionRoutine   </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// å®Œæˆä¾‹ç¨‹çš„å›è°ƒå‡½æ•°ï¼Œå½“I/Oæ“ä½œå®Œæˆæ—¶è¢«è°ƒç”¨</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">C++</span><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p><strong>å‚æ•°</strong>:</p>
<ul>
<li>
<p><code>s</code>ï¼šæŒ‡å®šè¦æ¥æ”¶æ•°æ®çš„å¥—æ¥å­—ã€‚</p>
</li>
<li>
<p><code>lpBuffers</code>ï¼šæŒ‡å‘ä¸€ä¸ª<code>WSABUF</code>ç»“æ„æ•°ç»„çš„æŒ‡é’ˆï¼Œç”¨äºæŒ‡å®šæ¥æ”¶ç¼“å†²åŒºçš„ä½ç½®å’Œå¤§å°ã€‚</p>
</li>
<li>
<p><code>dwBufferCount</code>ï¼šæŒ‡å®š<code>lpBuffers</code>æ•°ç»„ä¸­çš„å…ƒç´ æ•°é‡ã€‚</p>
</li>
<li>
<p><code>lpNumberOfBytesRecvd</code>ï¼šæŒ‡å‘ä¸€ä¸ª<code>DWORD</code>å˜é‡çš„æŒ‡é’ˆï¼Œç”¨äºè¿”å›å®é™…æ¥æ”¶åˆ°çš„å­—èŠ‚æ•°ã€‚</p>
</li>
<li>
<p><code>lpFlags</code>ï¼šæŒ‡å‘ä¸€ä¸ª<code>DWORD</code>å˜é‡çš„æŒ‡é’ˆï¼Œç”¨äºæŒ‡å®šæ¥æ”¶æ“ä½œçš„æ ‡å¿—ã€‚å¯ä»¥è®¾ç½®ä¸º<code>NULL</code>ã€‚
|å€¼|å«ä¹‰|
|:-|:-|
|MSG_PEEK|çª¥è§†ä¼ å…¥çš„æ•°æ®ã€‚æ•°æ®è¢«å¤åˆ¶åˆ°ç¼“å†²åŒºä¸­ï¼Œä½†ä¸ä¼šä»è¾“å…¥é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚|
|MSG_OOB|å¤„ç†OOBæ•°æ®|
|MSG_PARTIAL|æ­¤æ¬¡æ¥æ”¶åˆ°çš„æ•°æ®æ˜¯å®¢æˆ·ç«¯å‘æ¥çš„ä¸€éƒ¨åˆ†ï¼Œæ¥ä¸‹æ¥æ¥æ”¶ä¸‹ä¸€éƒ¨åˆ†|
|MSG_PUSH_IMMEDIATE|é€šçŸ¥ä¼ é€å°½å¿«å®Œæˆ|
|MSG_WAITALL|å‘¼å«è€…æä¾›çš„ç¼“å†²åŒºå·²æ»¡æˆ–è¿æ¥å·²å…³é—­æˆ–è¯·æ±‚å·²å–æ¶ˆæˆ–å‘ç”Ÿé”™è¯¯æ‰æŠŠæ•°æ®å‘é€å‡ºå»|</p>
<div class="language-GPT-3.5 language-gpt-3.5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-gpt-3.5 codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">å°½ç®¡åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹flagsè®¾ç½®ä¸º0å°±è¶³å¤Ÿäº†ï¼Œä½†åœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹ï¼Œä½ å¯èƒ½ä¼šéœ€è¦è®¾ç½®ç‰¹å®šçš„flagsæ¥æ»¡è¶³ç‰¹æ®Šéœ€æ±‚ï¼Œä¾‹å¦‚ï¼š</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">MSG_PEEKï¼šæŸ¥çœ‹æ¥æ”¶ç¼“å†²åŒºçš„æ•°æ®è€Œä¸å®é™…ä»ç¼“å†²åŒºä¸­ç§»é™¤å®ƒä»¬ã€‚è¿™å¯ä»¥ç”¨äºé¢„è§ˆæ•°æ®ã€‚</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">MSG_OOBï¼šæ¥æ”¶å¸¦å¤–æ•°æ®ã€‚è¿™æ˜¯ä¸€ç§ç‰¹æ®Šç”¨é€”çš„æ ‡å¿—ï¼Œç”¨äºå¤„ç†TCPçš„ç´§æ€¥æ•°æ®ã€‚</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">MSG_PARTIALï¼šå…è®¸æ¥æ”¶éƒ¨åˆ†æ¶ˆæ¯ï¼Œè¿™åœ¨å¤„ç†å¤§å‹æ•°æ®ä¼ è¾“æ—¶å¯èƒ½æœ‰ç”¨ã€‚</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">GPT</span><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><code>lpOverlapped</code>ï¼šæŒ‡å‘ä¸€ä¸ª<code>WSAOVERLAPPED</code>ç»“æ„çš„æŒ‡é’ˆï¼Œç”¨äºæŒ‡å®šå¼‚æ­¥æ“ä½œçš„å‚æ•°ã€‚è¿™ä¸ªå‚æ•°å¿…é¡»æŒ‡å‘ä¹‹å‰ä½¿ç”¨<code>AcceptEx</code>æˆ–<code>WSARecvFrom</code>ç­‰å‡½æ•°åˆ›å»ºçš„<code>WSAOVERLAPPED</code>ç»“æ„ã€‚</p>
</li>
<li>
<p><code>lpCompletionRoutine</code>ï¼šæŒ‡å‘ä¸€ä¸ªå›è°ƒå‡½æ•°çš„æŒ‡é’ˆï¼Œç”¨äºåœ¨å¼‚æ­¥æ“ä½œå®Œæˆæ—¶è¿›è¡Œå›è°ƒã€‚å¯ä»¥è®¾ç½®ä¸º<code>NULL</code>ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>è¿”å›å€¼</strong>:</p>
<ul>
<li>å¦‚æœå‡½æ•°è°ƒç”¨æˆåŠŸï¼Œè¿”å›å€¼ä¸º<code>0</code>ã€‚</li>
<li>å¦‚æœå‡½æ•°è°ƒç”¨å¤±è´¥ï¼Œè¿”å›å€¼ä¸º<code>SOCKET_ERROR</code>ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡è°ƒç”¨<code>WSAGetLastError</code>å‡½æ•°è·å–å…·ä½“çš„é”™è¯¯ä»£ç ã€‚
<ul>
<li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºå¼‚æ­¥æ“ä½œæ¥è¯´ï¼Œè¿”å›å€¼ä¸º0åªè¡¨ç¤ºå‡½æ•°<strong>è°ƒç”¨æˆåŠŸ</strong>ï¼Œä¸ä»£è¡¨<strong>æ•°æ®å·²ç»æ¥æ”¶å®Œæ¯•</strong>ã€‚å®é™…æ¥æ”¶åˆ°çš„å­—èŠ‚æ•°å¯ä»¥é€šè¿‡<code>lpNumberOfBytesRecvd</code>å‚æ•°ä¼ å‡ºã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>ç¤ºä¾‹ä»£ç </strong>:</p>
<div class="language-C++ language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:hsl(286, 60%, 67%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">recvHX</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">HXData </span><span class="token operator" style="color:hsl(207, 82%, 66%)">*</span><span class="token plain">data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token function" style="color:hsl(207, 82%, 66%)">WSARecv</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">data</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">cli_socket</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;</span><span class="token plain">data</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">buf_data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;</span><span class="token plain">data</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">bufferCount</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;</span><span class="token plain">data</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token plain">lFlags</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">LPOVERLAPPED</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain">data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token constant" style="color:hsl(29, 54%, 61%)">NULL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token function" style="color:hsl(207, 82%, 66%)">WSAGetLastError</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">!=</span><span class="token plain"> WSA_IO_PENDING</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            HX</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token plain">tools</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token class-name" style="color:hsl(29, 54%, 61%)">HXprint</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token function" style="color:hsl(207, 82%, 66%)">getHXprint</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token function" style="color:hsl(207, 82%, 66%)">ptr_pError</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;åˆ›å»ºæ¥æ”¶ä»»åŠ¡æ—¶å‡ºç°é”™è¯¯&quot;</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">C++</span><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="margin-top:80px">
<hr>
</div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="wsasend">WSASend()<a href="#wsasend" class="hash-link" aria-label="WSASend()çš„ç›´æ¥é“¾æ¥" title="WSASend()çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><code>WSASend</code>å‡½æ•°æ˜¯Windowså¥—æ¥å­—APIä¸­çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå‘æŒ‡å®šçš„å¥—æ¥å­—å‘é€æ•°æ®ã€‚</p>
<div class="language-C++ language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:hsl(286, 60%, 67%)">int</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">WSASend</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  SOCKET                             s</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  LPWSABUF                           lpBuffers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  DWORD                              dwBufferCount</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  LPDWORD                            lpNumberOfBytesSent</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  DWORD                              dwFlags</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  LPWSAOVERLAPPED                    lpOverlapped</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  LPWSAOVERLAPPED_COMPLETION_ROUTINE lpCompletionRoutine</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">C++</span><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p><strong>å‚æ•°</strong>:</p>
<ul>
<li><code>s</code>ï¼šæŒ‡å®šè¦å‘é€æ•°æ®çš„å¥—æ¥å­—ã€‚</li>
<li><code>lpBuffers</code>ï¼šæŒ‡å‘ä¸€ä¸ª<code>WSABUF</code>ç»“æ„æ•°ç»„çš„æŒ‡é’ˆï¼Œæ¯ä¸ª<code>WSABUF</code>ç»“æ„æè¿°è¦å‘é€çš„æ•°æ®ç¼“å†²åŒºä¿¡æ¯ã€‚</li>
<li><code>dwBufferCount</code>ï¼šæŒ‡å®š<code>lpBuffers</code>æ•°ç»„ä¸­çš„å…ƒç´ æ•°ç›®ã€‚</li>
<li><code>lpNumberOfBytesSent</code>ï¼šå¦‚æœå‡½æ•°è°ƒç”¨æˆåŠŸï¼Œè¿™ä¸ªå‚æ•°å°†è¿”å›å®é™…å‘é€çš„å­—èŠ‚æ•°ã€‚</li>
<li><code>dwFlags</code>ï¼šæŒ‡å®šä¸€äº›æ ‡å¿—æ¥æ§åˆ¶å‘é€æ“ä½œçš„è¡Œä¸ºï¼Œå¯ä»¥æ˜¯<code>0</code>æˆ–è€…ä¸€äº›ç‰¹å®šçš„æ ‡å¿—ï¼Œä¾‹å¦‚<code>MSG_OOB</code>ï¼ˆå‘é€ç´§æ€¥æ•°æ®ï¼‰æˆ–<code>MSG_DONTROUTE</code>ï¼ˆä¸ç»è¿‡è·¯ç”±ï¼‰ç­‰ã€‚</li>
<li><code>lpOverlapped</code>ï¼šæŒ‡å‘ä¸€ä¸ª<code>WSAOVERLAPPED</code>ç»“æ„çš„æŒ‡é’ˆï¼Œç”¨äºæ”¯æŒå¼‚æ­¥æ“ä½œã€‚å¦‚æœä½¿ç”¨åŒæ­¥æ–¹å¼å‘é€æ•°æ®ï¼Œå¯ä»¥è®¾ç½®ä¸º<code>NULL</code>ã€‚</li>
<li><code>lpCompletionRoutine</code>ï¼šæŒ‡å‘ä¸€ä¸ªå›è°ƒå‡½æ•°çš„æŒ‡é’ˆï¼Œç”¨äºåœ¨å¼‚æ­¥æ“ä½œå®Œæˆåè¿›è¡Œå›è°ƒã€‚å¦‚æœä¸éœ€è¦å›è°ƒï¼Œå¯ä»¥è®¾ç½®ä¸º<code>NULL</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¿”å›å€¼</strong>:</p>
<ul>
<li>å¦‚æœå‡½æ•°è°ƒç”¨æˆåŠŸï¼Œè¿”å›<code>0</code>ã€‚</li>
<li>å¦‚æœå‡½æ•°è°ƒç”¨å¤±è´¥ï¼Œè¿”å›<code>SOCKET_ERROR</code>ï¼Œå¹¶å¯ä»¥é€šè¿‡<code>WSAGetLastError</code>å‡½æ•°è·å–é”™è¯¯ä»£ç ã€‚</li>
</ul>
</li>
<li>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>
<p>åœ¨ä½¿ç”¨<code>WSASend</code>è¿›è¡Œå¼‚æ­¥å‘é€æ—¶ï¼Œéœ€è¦ä½¿ç”¨<code>WSAOVERLAPPED</code>ç»“æ„æ¥æŒ‡å®šå¼‚æ­¥æ“ä½œçš„ç›¸å…³å‚æ•°ï¼Œå¹¶ä¸”éœ€è¦ä¸ºæ¯ä¸ªå¼‚æ­¥å‘é€æ“ä½œåˆ†é…ä¸€ä¸ªç‹¬ç«‹çš„<code>WSAOVERLAPPED</code>ç»“æ„ã€‚åœ¨æ“ä½œå®Œæˆåï¼Œå¯ä»¥é€šè¿‡<code>GetQueuedCompletionStatus</code>å‡½æ•°æˆ–è€…<code>GetOverlappedResult</code>å‡½æ•°è·å–å‘é€ç»“æœã€‚</p>
</li>
<li>
<p>å¦‚æœä½¿ç”¨åŒæ­¥æ–¹å¼å‘é€æ•°æ®ï¼Œå¯ä»¥å°†<code>lpOverlapped</code>å‚æ•°è®¾ç½®ä¸º<code>NULL</code>ï¼Œæ­¤æ—¶å‡½æ•°å°†<strong>é˜»å¡ç›´åˆ°å‘é€æ“ä½œå®Œæˆ</strong>ã€‚</p>
</li>
<li>
<p>åœ¨ä½¿ç”¨å¼‚æ­¥å‘é€æ—¶ï¼Œ<strong>éœ€è¦ç¡®ä¿å‘é€ç¼“å†²åŒºæ•°æ®çš„æœ‰æ•ˆæ€§ï¼Œä»¥åŠåœ¨å‘é€æ“ä½œå®Œæˆä¹‹å‰ä¿æŒç¼“å†²åŒºçš„æœ‰æ•ˆæ€§</strong>(ä¸èƒ½é‡Šæ”¾, æˆ–è€…ä¿®æ”¹)ã€‚</p>
</li>
</ul>
</li>
</ul>
<div style="margin-top:80px">
<hr>
</div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="postqueuedcompletionstatus">PostQueuedCompletionStatus()<a href="#postqueuedcompletionstatus" class="hash-link" aria-label="PostQueuedCompletionStatus()çš„ç›´æ¥é“¾æ¥" title="PostQueuedCompletionStatus()çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æ‰‹åŠ¨å‘å®Œæˆç«¯å£æŠ•é€’ä¸€ä¸ªå®ŒæˆåŒ…ï¼Œå¸¸ç”¨äºé€šçŸ¥å·¥ä½œçº¿ç¨‹æ‰§è¡Œç‰¹å®šä»»åŠ¡æˆ–åœæ­¢æ‰§è¡Œã€‚</p>
<div class="language-C++ language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">BOOL </span><span class="token function" style="color:hsl(207, 82%, 66%)">PostQueuedCompletionStatus</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    HANDLE       CompletionPort</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    DWORD        dwNumberOfBytesTransferred</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ULONG_PTR    dwCompletionKey</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    LPOVERLAPPED lpOverlapped</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">C++</span><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>å‚æ•°</strong>:
<ul>
<li><code>CompletionPort</code>ï¼šå®Œæˆç«¯å£çš„å¥æŸ„ã€‚</li>
<li><code>dwNumberOfBytesTransferred</code>ï¼šè‡ªå®šä¹‰çš„å­—èŠ‚æ•°ï¼Œå¯ç”¨äºä¼ é€’ä¿¡æ¯ã€‚</li>
<li><code>dwCompletionKey</code>ï¼šè‡ªå®šä¹‰çš„å®Œæˆé”®ï¼Œå¯ç”¨äºåŒºåˆ†ä¸åŒçš„æ“ä½œæˆ–I/Oæºã€‚</li>
<li><code>lpOverlapped</code>ï¼šæŒ‡å‘<code>OVERLAPPED</code>ç»“æ„çš„æŒ‡é’ˆï¼Œå¯ç”¨äºä¼ é€’é¢å¤–ä¿¡æ¯</li>
</ul>
</li>
<li><strong>è¿”å›å€¼:</strong>
<ul>
<li>å¦‚æœå‡½æ•°è°ƒç”¨æˆåŠŸï¼Œè¿”å›å€¼ä¸º<code>TRUE</code>ã€‚</li>
<li>å¦‚æœå‡½æ•°è°ƒç”¨å¤±è´¥ï¼Œè¿”å›å€¼ä¸º<code>FALSE</code>ã€‚å¤±è´¥æ—¶ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨<code>GetLastError</code>å‡½æ•°è·å–æ›´å¤šé”™è¯¯ä¿¡æ¯ã€‚</li>
</ul>
</li>
</ul>
<div style="margin-top:80px">
<hr>
</div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æ³¨è§£">æ³¨è§£<a href="#æ³¨è§£" class="hash-link" aria-label="æ³¨è§£çš„ç›´æ¥é“¾æ¥" title="æ³¨è§£çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥<a href="#å‚è€ƒé“¾æ¥" class="hash-link" aria-label="å‚è€ƒé“¾æ¥çš„ç›´æ¥é“¾æ¥" title="å‚è€ƒé“¾æ¥çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<ol>
<li>æ„Ÿè°¢GPT-3.5</li>
<li><span class="tailwind"><a href="https://blog.csdn.net/www_dong/article/details/125667928" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">c++â€”â€”iocpæ¨¡å‹<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></li>
<li>æ‹“å±•é˜…è¯»: <span class="tailwind"><a href="https://www.cnblogs.com/yuanchenhui/p/iocp_windows.html" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">é‡‡ç”¨å®Œæˆç«¯å£ï¼ˆIOCPï¼‰å®ç°é«˜æ€§èƒ½ç½‘ç»œæœåŠ¡å™¨ï¼ˆWindows c++ç‰ˆï¼‰<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></li>
</ol>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-completionkey-è¯¦è§£">[1] CompletionKey è¯¦è§£<a href="#1-completionkey-è¯¦è§£" class="hash-link" aria-label="[1] CompletionKey è¯¦è§£çš„ç›´æ¥é“¾æ¥" title="[1] CompletionKey è¯¦è§£çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><code>CompletionKey</code>å‚æ•°åœ¨<code>CreateIoCompletionPort</code>å‡½æ•°ä¸­èµ·ç€é‡è¦çš„è§’è‰²ï¼Œå®ƒä¸ºå¼€å‘è€…æä¾›äº†ä¸€ç§å°†ç‰¹å®šçš„ç”¨æˆ·å®šä¹‰æ•°æ®ä¸IOå®Œæˆç«¯å£ï¼ˆIOCPï¼‰ä¸Šçš„æ¯ä¸ªI/Oæ“ä½œå…³è”çš„æœºåˆ¶ã€‚è¿™ä½¿å¾—åœ¨å¤„ç†å®Œæˆé€šçŸ¥æ—¶ï¼Œèƒ½å¤Ÿæ›´å®¹æ˜“åœ°è¯†åˆ«å’ŒåŒºåˆ†æ¥è‡ªä¸åŒæºçš„I/Oæ“ä½œã€‚</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å¦‚ä½•ç†è§£completionkey">å¦‚ä½•ç†è§£CompletionKey<a href="#å¦‚ä½•ç†è§£completionkey" class="hash-link" aria-label="å¦‚ä½•ç†è§£CompletionKeyçš„ç›´æ¥é“¾æ¥" title="å¦‚ä½•ç†è§£CompletionKeyçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>å½“ä½ ä½¿ç”¨<code>CreateIoCompletionPort</code>å‡½æ•°å°†ä¸€ä¸ªI/Oå¯¹è±¡ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªæ–‡ä»¶å¥æŸ„æˆ–socketï¼‰å…³è”åˆ°å®Œæˆç«¯å£æ—¶ï¼Œä½ å¯ä»¥ä¸ºè¿™ä¸ªæ“ä½œæŒ‡å®šä¸€ä¸ª<code>ULONG_PTR</code>ç±»å‹çš„<code>CompletionKey</code>ã€‚è¿™ä¸ªé”®å€¼éšåä¼šä¸æ‰€æœ‰ä»è¯¥I/Oå¯¹è±¡äº§ç”Ÿçš„I/Oå®Œæˆé€šçŸ¥ä¸€èµ·è¿”å›ç»™å¤„ç†è¿™äº›é€šçŸ¥çš„çº¿ç¨‹ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼Œå½“å·¥ä½œçº¿ç¨‹è°ƒç”¨<code>GetQueuedCompletionStatus</code>å‡½æ•°ä»IOCPè·å–ä¸€ä¸ªI/Oå®Œæˆé€šçŸ¥æ—¶ï¼Œé™¤äº†å¾—åˆ°å…³äºI/Oæ“ä½œæœ¬èº«çš„ä¿¡æ¯ï¼ˆå¦‚ä¼ è¾“çš„å­—èŠ‚æ•°å’ŒæŒ‡å‘OVERLAPPEDç»“æ„çš„æŒ‡é’ˆï¼‰ä¹‹å¤–ï¼Œè¿˜ä¼šæ”¶åˆ°ä¸è¯¥I/Oæ“ä½œå…³è”çš„<code>CompletionKey</code>ã€‚é€šè¿‡è¿™ä¸ª<code>CompletionKey</code>ï¼Œå·¥ä½œçº¿ç¨‹å¯ä»¥ç¡®å®šæ˜¯å“ªä¸ªI/Oå¯¹è±¡äº§ç”Ÿäº†è¿™ä¸ªå®Œæˆé€šçŸ¥ï¼Œè¿›è€Œæ ¹æ®ä¸åŒçš„<code>CompletionKey</code>æ‰§è¡Œç›¸åº”çš„å¤„ç†é€»è¾‘ã€‚</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä½¿ç”¨åœºæ™¯ç¤ºä¾‹">ä½¿ç”¨åœºæ™¯ç¤ºä¾‹<a href="#ä½¿ç”¨åœºæ™¯ç¤ºä¾‹" class="hash-link" aria-label="ä½¿ç”¨åœºæ™¯ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ä½¿ç”¨åœºæ™¯ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªç½‘ç»œæœåŠ¡å™¨åº”ç”¨ç¨‹åºï¼Œè¯¥ç¨‹åºåŒæ—¶ç›‘å¬å¤šä¸ªä¸åŒçš„ç«¯å£ã€‚æ¯ä¸ªç›‘å¬çš„socketéƒ½å¯ä»¥è¢«å…³è”åˆ°åŒä¸€ä¸ªIOCPä¸Šï¼Œä½†æ˜¯ä½ å¯ä»¥ä¸ºæ¯ä¸ªsocketæŒ‡å®šä¸åŒçš„<code>CompletionKey</code>ã€‚å½“ä¸€ä¸ªI/Oæ“ä½œå®Œæˆæ—¶ï¼Œé€šè¿‡æ£€æŸ¥è¿”å›çš„<code>CompletionKey</code>ï¼Œä½ çš„åº”ç”¨ç¨‹åºå¯ä»¥ç«‹å³çŸ¥é“æ˜¯å“ªä¸ªsocketçš„I/Oæ“ä½œå®Œæˆäº†ï¼Œä»è€Œå¿«é€Ÿå‡†ç¡®åœ°å¤„ç†è¯¥äº‹ä»¶ã€‚</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä¼˜åŠ¿">ä¼˜åŠ¿<a href="#ä¼˜åŠ¿" class="hash-link" aria-label="ä¼˜åŠ¿çš„ç›´æ¥é“¾æ¥" title="ä¼˜åŠ¿çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>ä½¿ç”¨<code>CompletionKey</code>çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºå…¶æä¾›äº†ä¸€ç§ç®€å•è€Œé«˜æ•ˆçš„æ–¹å¼æ¥ç®¡ç†å’ŒåŒºåˆ†å¤§é‡çš„I/Oæºã€‚è¿™å¯¹äºæ„å»ºé«˜æ€§èƒ½çš„å¹¶å‘ç½‘ç»œåº”ç”¨ç¨‹åºå’Œæ–‡ä»¶ç³»ç»Ÿåº”ç”¨ç¨‹åºå°¤ä¸ºé‡è¦ï¼Œå› ä¸ºå®ƒå…è®¸å¼€å‘è€…ä»¥ç»Ÿä¸€å’Œæœ‰åºçš„æ–¹å¼å¤„ç†å„ç§ä¸åŒæ¥æºçš„I/Oå®Œæˆé€šçŸ¥ã€‚</p>
<p>æ€»ä¹‹ï¼Œ<code>CompletionKey</code>æ˜¯IOCPæä¾›çš„ä¸€ä¸ªå¼ºå¤§åŠŸèƒ½ï¼Œé€šè¿‡å…è®¸å¼€å‘è€…å°†ç”¨æˆ·å®šä¹‰çš„æ•°æ®ä¸ç‰¹å®šçš„I/Oæ“ä½œå…³è”ï¼Œå®ƒæå¤§åœ°å¢å¼ºäº†IOCPçš„çµæ´»æ€§å’Œåº”ç”¨ç¨‹åºçš„å¯ç®¡ç†æ€§ã€‚å¸Œæœ›è¿™ä¸ªè§£é‡Šèƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£<code>CompletionKey</code>çš„æ¦‚å¿µå’Œç”¨æ³•ã€‚</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/HengXin666/HXLoLi/edit/main/docs/002-ç¨‹åºè¯­è¨€/001-C++/002-tmpä¸¶C++ä¸¶memo/004-C++ç½‘ç»œç¼–ç¨‹/002-Windowsç½‘ç»œç¼–ç¨‹/002-IOCP/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ç¼–è¾‘æ­¤é¡µ</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">æœ€å<!-- -->ç”± <b>Heng_Xin_666</b> <!-- -->äº <b><time datetime="2025-04-28T14:52:39.000Z" itemprop="dateModified">2025å¹´4æœˆ28æ—¥</time></b> <!-- -->æ›´æ–°</span></div></div></footer></article><div style="display:flex;justify-content:flex-end;margin-top:20px">è¯·ä½œè€…å–å¥¶èŒ¶:<div class="icon-container" style="margin-left:10px"><img src="/HXLoLi//default-icons/alipay.svg" alt="Alipay Icon" class="icon"><img src="/HXLoLi//img/alipay_qr_code.png" alt="QR Code" class="qr-code"></div><div class="icon-container" style="margin-left:10px"><img src="/HXLoLi//default-icons/wechat.svg" alt="Alipay Icon" class="icon"><img src="/HXLoLi//img/wechat_qr_code.png" alt="QR Code" class="qr-code"></div></div><div style="display:flex;justify-content:flex-end"><span style="font-size:12px">æœ¬æ–‡éµå¾ª <img src="/HXLoLi//default-icons/cc.svg" alt="CC" style="width:14px"> <span class="tailwind"><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">CC 4.0 BY-SA<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span> ç‰ˆæƒåè®®, è½¬è½½è¯·æ ‡æ˜å‡ºå¤„</span></div><div><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡ä»¶é€‰é¡¹å¡"><a class="pagination-nav__link pagination-nav__link--prev" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++ç½‘ç»œç¼–ç¨‹/Windowsç½‘ç»œç¼–ç¨‹/WindowsAPI"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">WindowsAPI</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/HXLoLi/docs/ç¨‹åºè¯­è¨€/C++/tmpä¸¶C++ä¸¶memo/C++ç½‘ç»œç¼–ç¨‹/Windowsç½‘ç»œç¼–ç¨‹/ç¤ºä¾‹ä»£ç "><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">ç¤ºä¾‹ä»£ç </div></a></nav></div></div><div>Loading Comments...</div></div><div class="col col--3"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop"><div class="tailwind"><div class="text-fuchsia-400" style="border-left:1px solid var(--ifm-toc-border-color)"><div class="ml-4 -mb-2" style="border-bottom:1.5px solid var(--ifm-toc-border-color)">0<!-- -->%</div></div></div><ul class="table-of-contents table-of-contents__left-border"><li><a href="#æ¯”è¾ƒ" class="table-of-contents__link toc-highlight">æ¯”è¾ƒ</a></li><li><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="table-of-contents__link toc-highlight">æ ¸å¿ƒæ¦‚å¿µ</a></li><li><a href="#å¤´æ–‡ä»¶" class="table-of-contents__link toc-highlight">å¤´æ–‡ä»¶</a></li><li><a href="#ç›¸å…³æ•°æ®ç»“æ„" class="table-of-contents__link toc-highlight">ç›¸å…³æ•°æ®ç»“æ„</a><ul><li><a href="#overlapped" class="table-of-contents__link toc-highlight">OVERLAPPED</a></li></ul></li><li><a href="#å…³é”®å‡½æ•°" class="table-of-contents__link toc-highlight">å…³é”®å‡½æ•°</a><ul><li><a href="#å‰ç½®çŸ¥è¯†" class="table-of-contents__link toc-highlight">å‰ç½®çŸ¥è¯†</a></li><li><a href="#createiocompletionport" class="table-of-contents__link toc-highlight">CreateIoCompletionPort()</a></li><li><a href="#acceptex" class="table-of-contents__link toc-highlight">AcceptEx()</a></li><li><a href="#getqueuedcompletionstatus" class="table-of-contents__link toc-highlight">GetQueuedCompletionStatus()</a></li><li><a href="#wsarecv" class="table-of-contents__link toc-highlight">WSARecv()</a></li><li><a href="#wsasend" class="table-of-contents__link toc-highlight">WSASend()</a></li><li><a href="#postqueuedcompletionstatus" class="table-of-contents__link toc-highlight">PostQueuedCompletionStatus()</a></li></ul></li><li><a href="#æ³¨è§£" class="table-of-contents__link toc-highlight">æ³¨è§£</a><ul><li><a href="#å‚è€ƒé“¾æ¥" class="table-of-contents__link toc-highlight">å‚è€ƒé“¾æ¥</a></li><li><a href="#1-completionkey-è¯¦è§£" class="table-of-contents__link toc-highlight">[1] CompletionKey è¯¦è§£</a><ul><li><a href="#å¦‚ä½•ç†è§£completionkey" class="table-of-contents__link toc-highlight">å¦‚ä½•ç†è§£CompletionKey</a></li><li><a href="#ä½¿ç”¨åœºæ™¯ç¤ºä¾‹" class="table-of-contents__link toc-highlight">ä½¿ç”¨åœºæ™¯ç¤ºä¾‹</a></li><li><a href="#ä¼˜åŠ¿" class="table-of-contents__link toc-highlight">ä¼˜åŠ¿</a></li></ul></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ç¤¾åŒº</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/HengXin666/HXLoLi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">æ›´å¤š</div><ul class="footer__items clean-list"><li class="footer__item">
                <a href="https://docusaurus.io" target="_blank" rel="noreferrer noopener">
                  <img src="/HXLoLi/default-img/buildwith.png" alt="build with docusaurus" width="120" height="50">
                </a>
                </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">ç‰ˆæƒæ‰€æœ‰ Â© 2025 - 2025 HXLoLi, Inc. ç”± Docusaurus æ„å»º.</div></div></div></footer></div>
<div>
    <div id="graph-overlay"></div>
    <div id="graph-container">
      <div id="close-graph-btn" onclick="closeGraph()">
        <div style="padding: 5px">X</div>
      </div>
      <div>
        <h1 style="text-align: center">Graph View</h1>
        <div id="graphview-container" style="display: inline-block;margin: 0 auto"></div>
      </div>
    </div>
    </div>
<script>let graphViewGlobal=null,isOpen=!1;async function initGraphView(){const e=await(await fetch("/docusaurus-graph.json")).json(),n=new NOTE_GRAPH.NoteGraphModel(e);graphViewGlobal=new NOTE_GRAPH.NoteGraphView({container:document.getElementById("graphview-container"),graphModel:n,enableNodeDrag:!0,width:800,height:600})}window.onload=function(){initGraphView()};const graphContainer=document.getElementById("graph-container"),graphOverlay=document.getElementById("graph-overlay");function closeGraph(){graphContainer.style.display="none",graphOverlay.style.display="none"}function openGraph(){!0===isOpen?(closeGraph(),isOpen=!1):window.innerWidth>=800&&window.innerHeight>=720?(graphContainer.style.display="block",graphOverlay.style.display="block",graphViewGlobal.forceGraph.zoomToFit(1e3,20),isOpen=!0):alert("Your screen size must be greater than 800x720.")}graphOverlay.addEventListener("click",closeGraph)</script></body>
</html>