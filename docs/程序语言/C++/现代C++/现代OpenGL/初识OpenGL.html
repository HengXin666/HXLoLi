<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-程序语言/C++/现代C++/现代OpenGL/初识OpenGL/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">学习图形学从 OpenGL 学起 | HXLoLi</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://HengXin666.github.io/HXLoLi/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://HengXin666.github.io/HXLoLi/img/logo.png"><meta data-rh="true" property="og:url" content="https://HengXin666.github.io/HXLoLi/docs/程序语言/C++/现代C++/现代OpenGL/初识OpenGL"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="学习图形学从 OpenGL 学起 | HXLoLi"><meta data-rh="true" name="description" content="[!TIP]"><meta data-rh="true" property="og:description" content="[!TIP]"><link data-rh="true" rel="icon" href="/HXLoLi/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://HengXin666.github.io/HXLoLi/docs/程序语言/C++/现代C++/现代OpenGL/初识OpenGL"><link data-rh="true" rel="alternate" href="https://HengXin666.github.io/HXLoLi/docs/程序语言/C++/现代C++/现代OpenGL/初识OpenGL" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://HengXin666.github.io/HXLoLi/docs/程序语言/C++/现代C++/现代OpenGL/初识OpenGL" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/HXLoLi/blog/rss.xml" title="HXLoLi RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/HXLoLi/blog/atom.xml" title="HXLoLi Atom Feed"><link rel="stylesheet" href="/HXLoLi/assets/css/styles.5448a2bb.css">
<script src="/HXLoLi/assets/js/runtime~main.7d63e226.js" defer="defer"></script>
<script src="/HXLoLi/assets/js/main.e62dba1a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/HXLoLi/img/logo.png"><link rel="preload" as="image" href="/HXLoLi/default-icons/default_folder.svg"><link rel="preload" as="image" href="/HXLoLi//default-icons/alipay.svg"><link rel="preload" as="image" href="/HXLoLi//img/alipay_qr_code.png"><link rel="preload" as="image" href="/HXLoLi//default-icons/wechat.svg"><link rel="preload" as="image" href="/HXLoLi//img/wechat_qr_code.png"><link rel="preload" as="image" href="/HXLoLi//default-icons/cc.svg"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/HXLoLi/"><div class="navbar__logo"><img src="/HXLoLi/img/logo.png" alt="HXLoLi Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/HXLoLi/img/logo.png" alt="HXLoLi Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">HXLoLi</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/HXLoLi/docs/关于">笔记</a><a class="navbar__item navbar__link" href="/HXLoLi/blog">博客</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">更多</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/HXLoLi/blog/archive">归档</a></li><li><a href="https://github.com/HengXin666/HXLoLi" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/HXLoLi/"><img src="/HXLoLi/img/logo.png" alt="HXLoLi Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/HXLoLi/img/logo.png" alt="HXLoLi Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>HXLoLi</b></a><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/HXLoLi/docs/关于">关于</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/计佬常識/数据结构与算法/【algorithm】目録"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>计佬常識</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" style="font-size:14px" href="/HXLoLi/docs/程序语言/C++/【C艹】目录大纲"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>程序语言</div></div></div></a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/【C艹】目录大纲"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>C++</div></div></div></a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/HXLoLi/docs/程序语言/C++/【C艹】目录大纲">【C艹】目录大纲</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/tmp丶C++丶memo/C++基础/面向对象/基本语法"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>tmp丶C++丶memo</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/现代C++/现代C++笔记目录"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>现代C++</div></div><div style="flex:1"><span style="margin-right:8px;padding-left:5px;padding-right:5px;font-size:12px;border-radius:6px;color:#ffffff;background-color:#990099;box-shadow:2px 2px 4px 1px rgba(255, 255, 255, 0.5);white-space:nowrap">现代C++</span><span style="margin-right:8px;padding-left:5px;padding-right:5px;font-size:12px;border-radius:6px;color:#ffffff;background-color:#990099;box-shadow:2px 2px 4px 1px rgba(255, 255, 255, 0.5);white-space:nowrap">C++最佳实践</span></div></div></a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/HXLoLi/docs/程序语言/C++/现代C++/现代C++笔记目录">现代C++笔记目录</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/现代C++/高性能并行编程与优化/一、学C++从CMake学起"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>高性能并行编程与优化</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/现代C++/现代C++项目实战/什么情况下需要封装get和set"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>现代C++项目实战</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/现代C++/现代C++元模版/CRTP-静态多态"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>现代C++元模版</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/现代C++/现代C++网络编程/io丶uring"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>现代C++网络编程</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/现代C++/现代C++协程/【C++】从开始自制协程库,有手就行"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>现代C++协程</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/现代C++/现代C++QT/小彭老师丶Qt入门系列/简简单单开发个记事本，需要用到Qt哪些功能？"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>现代C++QT</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/现代C++/现代OpenGL/初识OpenGL"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>现代OpenGL</div></div><div style="flex:1"><span style="margin-right:8px;padding-left:5px;padding-right:5px;font-size:12px;border-radius:6px;color:#ffffff;background-color:#990099;box-shadow:2px 2px 4px 1px rgba(255, 255, 255, 0.5);white-space:nowrap">图形学</span><span style="margin-right:8px;padding-left:5px;padding-right:5px;font-size:12px;border-radius:6px;color:#ffffff;background-color:#990099;box-shadow:2px 2px 4px 1px rgba(255, 255, 255, 0.5);white-space:nowrap">渲染</span></div></div></a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/HXLoLi/docs/程序语言/C++/现代C++/现代OpenGL/初识OpenGL">初识OpenGL</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/现代C++/源码阅读/雅兰亭库/C++无宏反射研究"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>源码阅读</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/现代C++/环境搭建/vscode相关"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>环境搭建</div></div></div></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/CMake/认识并编写第一个CMake"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>CMake</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/C++第三方库/Protobuf/protobuf安装"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>C++第三方库</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/C++八嘎日志/链接属性/多文件下模版使用"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>C++八嘎日志</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/C++代码规范/开发规范"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>C++代码规范</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/C++/大项目/大项目/开发笔记/工程介绍"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>大项目</div></div></div></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/Java/🐒Java从入门到开溜🐒"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>Java</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/Python/第三方库/Jupyter丶Notebook/Python安装JupyterNotebook配置使用教程"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>Python</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" tabindex="0" href="/HXLoLi/docs/程序语言/Web前端/Web前端目録"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>Web前端</div></div></div></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/游戏引擎/虚幻引擎/【虚幻】目录"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>游戏引擎</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/DevOps与版本控制/Linux/【Linux】目录"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>DevOps与版本控制</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/中间件/Redis/【Redis】目录"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>中间件</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/数据库/MySQL数据库/とある「MySQL」の禁庫目録"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>数据库</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/刷题日志/做题记录"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>刷题日志</div></div><div style="flex:1"><span style="margin-right:8px;padding-left:5px;padding-right:5px;font-size:12px;border-radius:6px;color:#ffffff;background-color:#990099;box-shadow:2px 2px 4px 1px rgba(255, 255, 255, 0.5);white-space:nowrap">刷题</span><span style="margin-right:8px;padding-left:5px;padding-right:5px;font-size:12px;border-radius:6px;color:#ffffff;background-color:#990099;box-shadow:2px 2px 4px 1px rgba(255, 255, 255, 0.5);white-space:nowrap">就业</span><span style="margin-right:8px;padding-left:5px;padding-right:5px;font-size:12px;border-radius:6px;color:#ffffff;background-color:#990099;box-shadow:2px 2px 4px 1px rgba(255, 255, 255, 0.5);white-space:nowrap">竞赛</span></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/嵌入式/杂项/IC通信"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>嵌入式</div></div></div></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" style="font-size:14px" href="/HXLoLi/docs/Game/MineCraft/服务器/脚本"><div style="display:flex;flex-direction:column"><div style="flex:1;display:flex;align-items:center;flex-direction:row"><div><img src="/HXLoLi/default-icons/default_folder.svg" style="width:24px;margin-right:5px"></div><div>Game</div></div></div></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/HXLoLi/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">程序语言</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">C++</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">现代C++</span><meta itemprop="position" content="3"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">现代OpenGL</span><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">初识OpenGL</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>学习图形学从 OpenGL 学起</h1></header>
<div class="markdown-alert markdown-alert-tip">
<p class="markdown-alert-title"><span class="octicon octicon-tip" style="--oct-icon:url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; class=&#x27;octicon octicon-light-bulb mr-2&#x27; viewBox=&#x27;0 0 16 16&#x27; version=&#x27;1.1&#x27; width=&#x27;16&#x27; height=&#x27;16&#x27; aria-hidden=&#x27;true&#x27;%3E%3Cpath d=&#x27;M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;)"></span>Tip</p>
<p>本课内容, 基本上是概念复制粘贴, 代码自己实验, += 体会, == 笔记</p>
</div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ゼロ前言介绍">ゼロ、前言介绍<a href="#ゼロ前言介绍" class="hash-link" aria-label="ゼロ、前言介绍的直接链接" title="ゼロ、前言介绍的直接链接">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="01-原作者">0.1 原作者<a href="#01-原作者" class="hash-link" aria-label="0.1 原作者的直接链接" title="0.1 原作者的直接链接">​</a></h3>
<p>本笔记学习自 <span class="tailwind"><a href="https://www.bilibili.com/video/BV1Na4y1c7tP/" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">【公开课】现代OpenGL保姆级课程, 从零开始打造3D游戏引擎(第一集, 持续更新中)<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span>, 仅为个人笔记~</p>
<div style="text-align:center"><iframe src="https://player.bilibili.com/player.html?isOutside=true&amp;bvid=BV1Na4y1c7tP&amp;danmaku=1&amp;high_quality=1&amp;autoplay=0&amp;p=1" allowfullscreen="" title="Bilibili Video" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts" style="width:75%;height:400px"></iframe></div>
<p>含金量:</p>
<p><img decoding="async" loading="lazy" alt="含金量 ##w700##" src="/HXLoLi/assets/images/HX_2025-06-04_22-32-59-dab5f1e35064c7b597f46ce7875592a2.png" width="1856" height="1035" style="width:700px;border-radius:10px"></p>
<p>优点(其中一点):</p>
<p><img decoding="async" loading="lazy" alt="全中文 ##w700##" src="/HXLoLi/assets/images/HX_2025-06-04_22-55-28-eba373a365d5b7f449a8bce09d321eb7.png" width="2107" height="1098" style="width:700px;border-radius:10px"></p>
<p><img decoding="async" loading="lazy" alt="为人民服务 ##w700##" src="/HXLoLi/assets/images/HX_2025-06-04_22-57-07-d48f9df35b7168e62596923146ed93cb.png" width="2164" height="1175" style="width:700px;border-radius:10px"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="02-课程参考资源">0.2 课程参考资源<a href="#02-课程参考资源" class="hash-link" aria-label="0.2 课程参考资源的直接链接" title="0.2 课程参考资源的直接链接">​</a></h3>
<ul>
<li>Learn OpenGL 网站(非常适合初学者):  <span class="tailwind"><a href="https://learnopengl.com" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">https://learnopengl.com<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></li>
<li>红宝书: 《OpenGL Programming Guide》或称《OpenGL编程指南》</li>
<li>蓝宝书: 《OpenGL Superbible: Comprehensive Tutorial and Reference》</li>
<li>着色器: 《OpenGL 4.0 Shading Language Cookbook》</li>
<li>GPU Gems 系列: <span class="tailwind"><a href="https://developer.nvidia.com/gpugems/gpugems3/foreword" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">https://developer.nvidia.com/gpugems/gpugems3/foreword<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></li>
<li>OpenGL 官方主页: <span class="tailwind"><a href="http://www.opengl.org/" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">http://www.opengl.org/<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></li>
<li>Khronos(OpenGL 的维护团队)主页: <span class="tailwind"><a href="http://www.khronos.org/" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">http://www.khronos.org/<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></li>
<li>GAMES104(不能尬黑, 还是很精彩的课程): <span class="tailwind"><a href="https://games104.boomingtech.com/" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">https://games104.boomingtech.com/<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一什么是渲染">一、什么是渲染<a href="#一什么是渲染" class="hash-link" aria-label="一、什么是渲染的直接链接" title="一、什么是渲染的直接链接">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="11-计算机图形学">1.1 计算机图形学<a href="#11-计算机图形学" class="hash-link" aria-label="1.1 计算机图形学的直接链接" title="1.1 计算机图形学的直接链接">​</a></h3>
<blockquote>
<p>计算机图形学是研究计算机在硬件和软件的帮助下创建计算机图形的科学学科, 是计算机科学的一个分支领域, 主要关注数字合成与操作视觉的图形内容。虽然这个词通常被认为是指三维图形, 事实上同时包括了二维图形以及影像处理。</p>
<ul>
<li>我们的课程将会从实时渲染开始入手</li>
</ul>
</blockquote>
<p><img decoding="async" loading="lazy" alt="计算机图形学 ##W700##" src="/HXLoLi/assets/images/HX_2025-06-04_23-05-55-ca4fbe61a926f8313deac6046d8cd62b.png" width="1902" height="724" style="width:700px;border-radius:10px"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="12-什么是渲染">1.2 什么是渲染<a href="#12-什么是渲染" class="hash-link" aria-label="1.2 什么是渲染的直接链接" title="1.2 什么是渲染的直接链接">​</a></h3>
<blockquote>
<p><strong>渲染(rendering)</strong> 是指将计算机图形学中的场景描述, 以图像形式呈现出来的过程。在计算机图形学中, 场景是由一些基本图形元素(如点、线、面)组成的, 这些元素可以通过计算机程序进行操作和变换, 形成各种各样的场景。渲染的过程就是将这些场景元素进行处理, 生成最终的图像。渲染还可以分为实时渲染和离线渲染两种方式, <strong>实时渲染</strong>用于实时交互式应用程序(如游戏), <strong>离线渲染</strong>用于制作影视动画等非实时应用。</p>
</blockquote>
<p>简单来说就是根据图形的 <strong>三维的模型数据</strong>, 生成 <strong>二维的画面</strong>。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="13-一切皆三角形">1.3 一切皆三角形<a href="#13-一切皆三角形" class="hash-link" aria-label="1.3 一切皆三角形的直接链接" title="1.3 一切皆三角形的直接链接">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="131-二维">1.3.1 二维<a href="#131-二维" class="hash-link" aria-label="1.3.1 二维的直接链接" title="1.3.1 二维的直接链接">​</a></h4>
<p>渲染的任务是绘制图形, 先别提绘制, 首当其冲的问题是: 如何表示图形?</p>
<blockquote>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="#ff33ff"><mtext>所有的复杂图形, 都可以由三角形构成。</mtext></mstyle></mrow><annotation encoding="application/x-tex">\text{\color{#ff33ff}{所有的复杂图形, 都可以由三角形构成。}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord" style="color:#ff33ff"><span class="mord cjk_fallback" style="color:#ff33ff">所有的复杂图形</span><span class="mord" style="color:#ff33ff">, </span><span class="mord cjk_fallback" style="color:#ff33ff">都可以由三角形构成。</span></span></span></span></span></span></p>
</blockquote>
<p><img decoding="async" loading="lazy" alt="正方形to三角形 ##w500##" src="data:image/png;base64,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" width="959" height="310" style="width:500px;border-radius:10px"></p>
<p><img decoding="async" loading="lazy" alt="圆to三角形 ##w500##" src="/HXLoLi/assets/images/HX_2025-06-04_23-13-54-b9dff100750993aae1da0c1c1c0b164b.png" width="1411" height="573" style="width:500px;border-radius:10px"></p>
<blockquote>
<p>(圆也是可以逼近的 (积分思想))</p>
</blockquote>
<p>计算机图形学经典名言: <strong>看起来是对的, 那他就是对的。</strong></p>
<p>毕竟计算机图形学渲染出来的东西是给人看的, 不论用什么方法, 能够让人信服, 就是最大的胜利。即使用多边形近似.</p>
<p><img decoding="async" loading="lazy" alt="圆to三角形 ##w500##" src="/HXLoLi/assets/images/HX_2025-06-04_23-15-33-10b22589b50f66578ca95a13c81b96d2.png" width="1713" height="781" style="width:500px;border-radius:10px"></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="132-三维">1.3.2 三维<a href="#132-三维" class="hash-link" aria-label="1.3.2 三维的直接链接" title="1.3.2 三维的直接链接">​</a></h4>
<p>如果是三维空间中的实心物体呢? 因为我们屏幕实际上是二维的, 因此我们只需要表示表面就可以了!</p>
<p>计算机图形学: <strong>画皮</strong></p>
<p><img decoding="async" loading="lazy" alt="三维球to三角形 ##w700##" src="/HXLoLi/assets/images/HX_2025-06-04_23-20-49-6c2433604e8eefa800e9c09d79fb278c.png" width="1895" height="1008" style="width:700px;border-radius:10px"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="14-高模-vs-低模">1.4 高模 vs 低模<a href="#14-高模-vs-低模" class="hash-link" aria-label="1.4 高模 vs 低模的直接链接" title="1.4 高模 vs 低模的直接链接">​</a></h3>
<p>当然, 为了保证高质量, 需要三角形足够密集, 让人看不出这是多边形拼凑出来的, 让人信以为真这是一条光滑的曲面。因此有了高模和低模的区分。</p>
<p>一般建模师都会先在低模上进行操作, 完成后再通过 <strong>网格细分算法(subdivision)</strong> 把低模自动转换为平滑的高模, 然后由雕刻师在高模上完成细节刻画。</p>
<p><img decoding="async" loading="lazy" alt="高低模 ##w600##" src="/HXLoLi/assets/images/HX_2025-06-04_23-22-29-834c4c1535f72139560dc230d61bc4e5.png" width="1388" height="660" style="width:600px;border-radius:10px"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="15-渲染的本质">1.5 渲染的本质<a href="#15-渲染的本质" class="hash-link" aria-label="1.5 渲染的本质的直接链接" title="1.5 渲染的本质的直接链接">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="151-如何用一系列坐标表示一个方块">1.5.1 如何用一系列坐标表示一个方块?<a href="#151-如何用一系列坐标表示一个方块" class="hash-link" aria-label="1.5.1 如何用一系列坐标表示一个方块?的直接链接" title="1.5.1 如何用一系列坐标表示一个方块?的直接链接">​</a></h4>
<blockquote>
<p>顶点坐标+顶点之间的连接关系</p>
</blockquote>
<p><img decoding="async" loading="lazy" alt="表示方块 ##w600##" src="/HXLoLi/assets/images/HX_2025-06-04_23-28-08-da20329483e311cfd4449ec8f2bc70c4.png" width="1735" height="983" style="width:600px;border-radius:10px"></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="152-渲染的本质">1.5.2 渲染的本质<a href="#152-渲染的本质" class="hash-link" aria-label="1.5.2 渲染的本质的直接链接" title="1.5.2 渲染的本质的直接链接">​</a></h4>
<p>你要输入的是一张纸, 上面写着字:</p>
<blockquote>
<p>(0, 0)(0, 1)(1, 0)</p>
</blockquote>
<p>这就是三维模型数据。</p>
<p>你把写着这 6 个神秘数字的纸条塞进了一个叫&quot;显卡&quot;的机器里。</p>
<p>&quot;显卡&quot;缓缓(不到 1/60 秒)打印出一张字符画:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-text codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">1 0 0 0 0 0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">1 1 0 0 0 0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">1 1 1 0 0 0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">1 1 1 1 0 0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">1 1 1 1 1 0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">1 1 1 1 1 1</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">text</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这就是二维画面。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="153-人们对渲染的错误理解">1.5.3 人们对渲染的错误理解<a href="#153-人们对渲染的错误理解" class="hash-link" aria-label="1.5.3 人们对渲染的错误理解的直接链接" title="1.5.3 人们对渲染的错误理解的直接链接">​</a></h4>
<p>在B站搜索&quot;什么是渲染&quot;会看到很多这样的封面。似乎渲染就是给灰色的模型&quot;上色&quot;?</p>
<p><img decoding="async" loading="lazy" alt="大错特错 ##w500##" src="/HXLoLi/assets/images/HX_2025-06-04_23-35-53-cf72abdb4c6aa427a08c9e2f43ee43bc.png" width="953" height="884" style="width:500px;border-radius:10px"></p>
<blockquote>
<p>请忽略左下角</p>
</blockquote>
<p>实际上, 即使是左边的图像, 也是渲染过的结果, 只不过是低配版的渲染。</p>
<p>渲染并不是给灰色的模型&quot;上色&quot;, 模型本身不存在灰色不灰色, 灰色的是显示在屏幕上的模型的二维投影, <b style="color:gold">真正的模型是内存中的一堆三维顶点坐标, 渲染是把这一堆三维坐标根据指定的视角、灯光、材质等信息, 投影成二维图像</b>, 即使你指定的材质刚好是灰色的。</p>
<p><img decoding="async" loading="lazy" alt="什么是渲染 ##w600##" src="/HXLoLi/assets/images/HX_2025-06-04_23-32-51-706ad2fbc31838c67e09bc1bd7fe1743.png" width="1547" height="541" style="width:600px;border-radius:10px"></p>
<p>你在 Blender 建模窗口里看到的, 之所以是灰模, 不是因为没有渲染, 而是因为他为了让你能为了让你能快速预览模型的大致形状而不用风扇狂转, 采用了<strong>最低配的渲染模式</strong>。</p>
<p><img decoding="async" loading="lazy" alt="各种渲染 ##w700##" src="/HXLoLi/assets/images/HX_2025-06-04_23-41-11-b463a2ad3653af3b683eda0bb6ca8929.png" width="2070" height="538" style="width:700px;border-radius:10px"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="16-实时渲染-vs-离线渲染">1.6 实时渲染 vs 离线渲染<a href="#16-实时渲染-vs-离线渲染" class="hash-link" aria-label="1.6 实时渲染 vs 离线渲染的直接链接" title="1.6 实时渲染 vs 离线渲染的直接链接">​</a></h3>
<p>渲染又可以分为两派人, <strong>实时渲染(real-time rendering)</strong> 和 <strong>离线渲染(offline rendering)</strong>。</p>
<p><strong>实时渲染</strong> 要求在 1/60 秒内完成整个画面的绘制, 通常游戏行业会有这样的要求。</p>
<p>如果不能在 1/60 秒内完成, 就会影响游戏体验, 即使画面再好, 也不会有人能忍受 PPT。</p>
<p>而 <strong>离线渲染</strong> 不注重画面渲染的实时性和速度, 但非常重视画面的质量, 通常是电影行业。</p>
<p>因为电影只需动画公司渲染完成品后, 在影院播放即可, 渲染过程的快慢不影响实际播放。</p>
<p>两个领域看似各玩各的, 其实之间也有许多相互交叉, 相互借鉴的地方。</p>
<p>实时渲染一般会使用<code>光栅化+GPU加速</code>。</p>
<p>而离线渲染会选择更慢但更准确的<code>路径追踪+蒙特卡罗积分</code>。</p>
<p>也有例外的情况, 例如 NVIDIA 实时光线追踪和使用 Unreal 游戏引擎做动画电影的小作坊。</p>
<p>本课程主要介绍的是<strong>实时渲染技术</strong>。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="161-离线渲染---康奈尔箱">1.6.1 离线渲染 - 康奈尔箱<a href="#161-离线渲染---康奈尔箱" class="hash-link" aria-label="1.6.1 离线渲染 - 康奈尔箱的直接链接" title="1.6.1 离线渲染 - 康奈尔箱的直接链接">​</a></h4>
<p><img decoding="async" loading="lazy" alt="离线渲染 ##w700##" src="/HXLoLi/assets/images/HX_2025-06-04_23-45-21-25ab5c04bbbe955387c883df53e0425b.png" width="1976" height="868" style="width:700px;border-radius:10px"></p>
<p>路径追踪 - 照片级真实感, 但是代价呢?</p>
<blockquote>
<p>相传迪士尼的《疯狂动物城》, 需要 10000 个&quot;核时&quot;才能渲染出一帧。什么概念呢? 就是说单核心 CPU, 需要工作 10000 小时, 才能渲染出你看到的一帧, 如果是 100 核 CPU 则只要 100 小时就能出一帧。而电影一般每秒有 24 帧, 考虑到整部电影有一小时多...</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="162-第二条道路---光栅化">1.6.2 第二条道路 - 光栅化<a href="#162-第二条道路---光栅化" class="hash-link" aria-label="1.6.2 第二条道路 - 光栅化的直接链接" title="1.6.2 第二条道路 - 光栅化的直接链接">​</a></h4>
<p>有没有比路径追踪更高效的渲染方案呢? 那就是 <code>光栅化(rasterization)</code>。</p>
<p>他使用遍历的方法, 绘制每个三角形时都检测出中心点包含在三角形内部的像素点, 并填充上颜色, 如下图所示。</p>
<p><img decoding="async" loading="lazy" alt="光栅化 ##w500##" src="/HXLoLi/assets/images/HX_2025-06-04_23-52-03-b75042c19286bf1fe868545977367ed1.png" width="1250" height="527" style="width:500px;border-radius:10px"></p>
<p>三角形的<strong>光栅化</strong>, 比路径追踪的<strong>射线与三角形求交</strong>要高效得多, 且通常不需要多次采样。</p>
<div class="markdown-alert markdown-alert-tip">
<p class="markdown-alert-title"><span class="octicon octicon-tip" style="--oct-icon:url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; class=&#x27;octicon octicon-light-bulb mr-2&#x27; viewBox=&#x27;0 0 16 16&#x27; version=&#x27;1.1&#x27; width=&#x27;16&#x27; height=&#x27;16&#x27; aria-hidden=&#x27;true&#x27;%3E%3Cpath d=&#x27;M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;)"></span>Tip</p>
<p><strong>光栅化是一个可以并行的算法</strong>, 可以在 CPU 上编写软件代码实现, 但效率较低。考虑到光栅化是绘制图形最高效的算法, 人们发明了 GPU, 把光栅化做成硬件电路, 不必软件编程, 软件只需要向 GPU 发出指令, 就可以调用 GPU 的光栅化电路, 并绘制图像。</p>
</div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="163-着色-使物体明暗分明">1.6.3 着色: 使物体明暗分明<a href="#163-着色-使物体明暗分明" class="hash-link" aria-label="1.6.3 着色: 使物体明暗分明的直接链接" title="1.6.3 着色: 使物体明暗分明的直接链接">​</a></h4>
<p>如果只是光栅化, 那么我们看到的图形就都是黑白的二值图像, 根本不会有立体感。</p>
<p>为了让图形看起来立体, 真实, 我们需要像离线渲染的路径追踪一样, 计算物体的光照情况, 给不同的位置上不同的颜色, 这个操作称为 <code>着色(shade)</code>。</p>
<p>确定这个点要绘制后, 就会调用所谓的 <code>着色器(shader)</code>。着色器会根据三角形每一个像素点的位置, 结合物体材质反射率、颜色、该点三维坐标与光源、摄像机的角度位置关系等信息, 在相应的像素点填充上符合<code>光学规律</code>的颜色, 区分出亮部暗部, 让他看起来立体。</p>
<p><img decoding="async" loading="lazy" alt="着色...略 ##w700##" src="/HXLoLi/assets/images/HX_2025-06-05_00-01-37-bc2f71c36c407e9ade492035e56269ba.png" width="1949" height="458" style="width:700px;border-radius:10px"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="17-cpu-vs-gpu">1.7 CPU vs GPU<a href="#17-cpu-vs-gpu" class="hash-link" aria-label="1.7 CPU vs GPU的直接链接" title="1.7 CPU vs GPU的直接链接">​</a></h3>
<p>众所周知, CPU 适合处理一些通用任务, 而 GPU 则更适合处理需要大量计算能力的图形图像和视频任务。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="171-gpu-为实时渲染而生">1.7.1 GPU 为实时渲染而生<a href="#171-gpu-为实时渲染而生" class="hash-link" aria-label="1.7.1 GPU 为实时渲染而生的直接链接" title="1.7.1 GPU 为实时渲染而生的直接链接">​</a></h4>
<p><img decoding="async" loading="lazy" alt="gpu为实时渲染而生" src="/HXLoLi/assets/images/HX_2025-06-05_00-05-55-cc3d1baa20c923f15aa55410af1e1296.png" width="2103" height="915" style="border-radius:10px"></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="172-实时渲染---质量堪忧">1.7.2 实时渲染 - 质量堪忧<a href="#172-实时渲染---质量堪忧" class="hash-link" aria-label="1.7.2 实时渲染 - 质量堪忧的直接链接" title="1.7.2 实时渲染 - 质量堪忧的直接链接">​</a></h4>
<p>硬件加速的光栅化虽然高效, 但由于光栅化只能计算光线的第一次反射, 实时渲染在全局光照方面令人堪忧, 为了实时性不得不牺牲了渲染结果的准确性。</p>
<p><img decoding="async" loading="lazy" alt="使用光栅化渲染 ##w400##" src="/HXLoLi/assets/images/HX_2025-06-05_00-07-29-7e189a3bbd43fa5d4848bc563ca5fc09.png" width="837" height="840" style="width:400px;border-radius:10px"></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="173-实时渲染的进步">1.7.3 实时渲染的进步<a href="#173-实时渲染的进步" class="hash-link" aria-label="1.7.3 实时渲染的进步的直接链接" title="1.7.3 实时渲染的进步的直接链接">​</a></h4>
<p><img decoding="async" loading="lazy" alt="实时渲染的进步 ##w700##" src="/HXLoLi/assets/images/HX_2025-06-05_00-08-37-348953940f84a7d628cce208ecf4e5f9.png" width="2018" height="1106" style="width:700px;border-radius:10px"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="18-从-gpu-到-gpgpu">1.8 从 GPU 到 GPGPU<a href="#18-从-gpu-到-gpgpu" class="hash-link" aria-label="1.8 从 GPU 到 GPGPU的直接链接" title="1.8 从 GPU 到 GPGPU的直接链接">​</a></h3>
<blockquote>
<p>后来, 着色器能够并行运算的特点被发掘, 用于图形渲染以外的通用并行计算工具, 后来OpenGL 4.3 也推出了更适合通用计算任务的&quot;计算着色器(compute shader)&quot;, 这种着色器的语法限制更加宽松, 首次加入了对 block 和 thread 的控制能力, 用途上显然早已和&quot;着色&quot;没什么关联了, 只有并行的优点被保留, GPU 逐渐演变成通用的并行计算硬件。</p>
<p>GPU 强大的并行运算能力和延迟隐藏能力, 对于需要同时处理大量数据的应用场景, 比如物理仿真、音视频处理和人工智能等, GPU 也能发挥更强大的计算能力, 大幅提高吞吐量。</p>
</blockquote>
<p>这种具备通用并行计算能力的 GPU 也被称作 <strong>GPGPU(General Purposed GPU)</strong>。</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="181-gpu-也开始支持光线追踪">1.8.1 GPU 也开始支持光线追踪<a href="#181-gpu-也开始支持光线追踪" class="hash-link" aria-label="1.8.1 GPU 也开始支持光线追踪的直接链接" title="1.8.1 GPU 也开始支持光线追踪的直接链接">​</a></h4>
<blockquote>
<ul>
<li>
<p>屏幕空间反射(SSR)和屏幕空间全局光照(SSGI)虽然高效, 但是只能在二维的已经渲染完毕的屏幕上去做光线追踪。</p>
</li>
<li>
<p>随着硬件的不断加速升级, 光线追踪变得有希望在 1/60 秒内完成。为了让 1080p 分辨率下的光线追踪变成实时(小于 1/60 秒), 后来部分显卡厂商支持起了硬件加速的光线追踪, 称为实时光线追踪(real-time ray-tracing, RTX), 解决了之前 CPU 软件光线追踪太慢, GPU 软件光线追踪差一点就实时的痛点。</p>
</li>
<li>
<p>就像当年光栅化差一点就能实时了, NVIDIA 发明 GPU 用硬件加速<strong>光栅化</strong>一样, 他们现在又发明了硬件加速的<strong>光线追踪</strong>, 同样集成到了 GPU 里, 于是现在的淫威大 GPU 由光线追踪+光栅化+流处理器三个模块组成, 后来还引入了伺候 DLSS 和 AI 降噪的张量计算模块。</p>
</li>
<li>
<p>要注意并不是说 RTX 等于光追, RTX 只是&quot;硬件加速&quot;的光追。正如硬件加速的光栅化一样。我们用 OpenGL 计算着色器, CUDA, OpenCL, 一样可以在任何没有硬件光线追踪功能的 GPU 上进行软件光线追踪, 只不过会比较慢, 难以达到实时而已。</p>
</li>
<li>
<p>虽然硬件光追只加速了 2.4 倍左右, 但是由于实时渲染的特殊性, <strong>同等画质下提升 2.4 倍速度, 就等于同等 1/60 秒的情况下提升了 2.4 倍画质</strong>, 帧率不降提升画质, 是质的飞跃, 这也是为什么在实时领域硬件加速(不论是光栅化还是光线追踪)都显得格外重要。</p>
</li>
</ul>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="182-最终效果比较">1.8.2 最终效果比较<a href="#182-最终效果比较" class="hash-link" aria-label="1.8.2 最终效果比较的直接链接" title="1.8.2 最终效果比较的直接链接">​</a></h4>
<p><img decoding="async" loading="lazy" alt="最终效果比较 ##w700##" src="/HXLoLi/assets/images/HX_2025-06-05_00-12-21-f11de1d08f8261843bb6589d37ed890e.png" width="1899" height="1136" style="width:700px;border-radius:10px"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="19-gpu-渲染一个物体所需的全部流程一览">1.9 GPU 渲染一个物体所需的全部流程一览<a href="#19-gpu-渲染一个物体所需的全部流程一览" class="hash-link" aria-label="1.9 GPU 渲染一个物体所需的全部流程一览的直接链接" title="1.9 GPU 渲染一个物体所需的全部流程一览的直接链接">​</a></h3>
<p><img decoding="async" loading="lazy" alt="GPU 渲染一个物体所需的全部流程一览 ##w700##" src="/HXLoLi/assets/images/HX_2025-06-05_00-13-27-b499641fb568044feb86257ca105f901.png" width="1973" height="931" style="width:700px;border-radius:10px"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="110-题外话-gpu-也可以渲染二维图形">1.10 题外话: GPU 也可以渲染二维图形<a href="#110-题外话-gpu-也可以渲染二维图形" class="hash-link" aria-label="1.10 题外话: GPU 也可以渲染二维图形的直接链接" title="1.10 题外话: GPU 也可以渲染二维图形的直接链接">​</a></h3>
<blockquote>
<p>GPU(图形处理器)在渲染三维图形方面几乎是不可替代的, 但是它们也可以用于渲染二维图形(包括文字和图标), 例如我们平时看到的图形用户界面(GUI)、浏览器(Web)等, 都有 GPU 的功劳。GPU 的渲染能力非常高, 它可以同时渲染许多图形, 还可以使图像处理速度(例如拍照后加美颜滤镜)更快。GPU 可以处理的图形元素包括点、线、矩形、多边形、文本等。它还可以使用多种不同的技术和效果, 如图形加速、抗锯齿和透明度, 以提高图形界面的质量和性能。所以, GPU的用途不仅限于游戏和 3D 应用程序, 它们也可以帮助我们更快更好地渲染的图形用户界面。包括 2D 平面游戏的精灵(Sprite)绘制, 也离不开 GPU 忙碌的身影。</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二初识-opengl">二、初识 OpenGL<a href="#二初识-opengl" class="hash-link" aria-label="二、初识 OpenGL的直接链接" title="二、初识 OpenGL的直接链接">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="21-什么是-opengl">2.1 什么是 OpenGL<a href="#21-什么是-opengl" class="hash-link" aria-label="2.1 什么是 OpenGL的直接链接" title="2.1 什么是 OpenGL的直接链接">​</a></h3>
<p>为了调用 GPU 硬件进行高效的光栅化渲染, 绘制图形, 我们需要使用一些接口, 来命令 GPU 帮助我们进行各种图形的绘制操作。</p>
<blockquote>
<p>与 CPU 的 x86 指令集一家独大不同, GPU 不能说是百家争鸣吧, 至少也可以说是各自为政了。有时同一家厂商不同型号的 GPU, 其汇编指令也会大不相同。为了减轻程序员的负担, 急需一个跨平台, 跨硬件的通用接口, 只要使用这套接口的 GPU, 就能被所有图形程序使用；反之, 所有图形程序只要使用这套通用接口, 就可以在所有支持该接口的 GPU 上运行。</p>
<p>然而无独有偶, 和硬件的百家争鸣一样, 接口也在百家争鸣。这样的&quot;通用接口&quot;有很多, 我们今天要介绍的 OpenGL 就是其中之一。</p>
</blockquote>
<p>OpenGL(英语: Open Graphics Library, 译名: 开放图形库或者&quot;开放式图形库&quot;)是用于渲染2D、3D矢量图形的跨语言、跨平台的应用程序编程接口(API)。这个接口由近350个不同的函数调用组成, 用来从简单的二维图形绘制复杂的三维景象。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="22-opengl-的版本与驱动支持">2.2 OpenGL 的版本与驱动支持<a href="#22-opengl-的版本与驱动支持" class="hash-link" aria-label="2.2 OpenGL 的版本与驱动支持的直接链接" title="2.2 OpenGL 的版本与驱动支持的直接链接">​</a></h3>
<blockquote>
<p>就和 C++ 语言一样, OpenGL 的 API 是有许多版本的, 每个版本 API 的制定, 是由一个名叫 Khronos 的组织发布的。和 C++ 的 ISOCpp 一个尿性, 他们只负责制定 API, 不负责实现, 由各大硬件厂商的驱动来实现。</p>
<p>API 版本每年更新个一两次, 硬件厂商看到了, 就会更新他们的驱动版本, 在新驱动中支持开始新版本的 API。</p>
<p>不能使用最新版本的 API, 有时是受制于软件(驱动)版本, 有时受制于硬件(显卡)架构。如果我们同学没有最新的硬件, 至少可以先更新驱动。</p>
<p>新驱动不仅更新了 API 版本, 支持了新特性, 还可能优化了性能。</p>
</blockquote>
<p>你可以在 Khronos, KHR, 或者说可汗, 的官方网站查看不同版本 gl 函数的 API 文档:</p>
<p><span class="tailwind"><a href="https://registry.khronos.org/OpenGL-Refpages/gl4/html/glRenderbufferStorage.xhtml" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">https://registry.khronos.org/OpenGL-Refpages/gl4/html/glRenderbufferStorage.xhtml<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></p>
<div class="markdown-alert markdown-alert-tip">
<p class="markdown-alert-title"><span class="octicon octicon-tip" style="--oct-icon:url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; class=&#x27;octicon octicon-light-bulb mr-2&#x27; viewBox=&#x27;0 0 16 16&#x27; version=&#x27;1.1&#x27; width=&#x27;16&#x27; height=&#x27;16&#x27; aria-hidden=&#x27;true&#x27;%3E%3Cpath d=&#x27;M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;)"></span>Tip</p>
<p>一般来说新版本都会尽量保留老的函数, 但是 OpenGL 2.0 到 3.0 的跳跃是个例外, 废除了大量立即模式专用的亿些过于迂腐的老函数, 那些在引入新函数的同时依然兼容 2.0 老函数的称为兼容配置(compatible profile), 而只保留 3.0 中那些现代 API 函数的则称为核心配置(core profile), 意思是只保留核心功能。</p>
</div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="23-opengl-版本历史变迁">2.3 OpenGL 版本历史变迁<a href="#23-opengl-版本历史变迁" class="hash-link" aria-label="2.3 OpenGL 版本历史变迁的直接链接" title="2.3 OpenGL 版本历史变迁的直接链接">​</a></h3>
<ul>
<li>OpenGL 1.0 固定管线 <strong>立即模式</strong></li>
<li>OpenGL 2.0 可编程管线 <strong>立即模式</strong></li>
<li>OpenGL 3.0 可编程管线 <strong>现代模式</strong></li>
<li>OpenGL 4.0 可编程管线 <strong>现代模式</strong> 计算着色器等新特性</li>
</ul>
<blockquote>
<p>注: 本课程最高会用到 OpenGL 4.3 版本, 前两课会从较为简单的 OpenGL 2.0 开始介绍。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="24-glsl-版本与-opengl-版本对照">2.4 GLSL 版本与 OpenGL 版本对照<a href="#24-glsl-版本与-opengl-版本对照" class="hash-link" aria-label="2.4 GLSL 版本与 OpenGL 版本对照的直接链接" title="2.4 GLSL 版本与 OpenGL 版本对照的直接链接">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-text codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">GLSL            OpenGL</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">1.10              2.0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">1.20              2.1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">1.30              3.0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">1.40              3.1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">1.50              3.2</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">3.30              3.3</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">4.00              4.0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">4.10              4.1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">4.20              4.2</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">4.30              4.3</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">4.40              4.4</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">4.50              4.5</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">text</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>OpenGL 2.0 的可编程管线, 为了可编程, 引入了着色器</p>
<p>其中片段着色器(fragment shader)允许用户自定义的每个像素的颜色计算公式(故得名着色器), 这个公式后来被人们称作 BRDF；而顶点着色器(vertex shader)允许用户自定义的每个顶点的矩阵投影方式, 修改顶点属性等</p>
<p>比如我们课程是 OpenGL 3.3, 对应的 GLSL 是 3.30, 因此在着色器里写 <code>#version 330</code></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="25-古代-opengl">2.5 古代 OpenGL<a href="#25-古代-opengl" class="hash-link" aria-label="2.5 古代 OpenGL的直接链接" title="2.5 古代 OpenGL的直接链接">​</a></h3>
<p>OpenGL 的接口(API)是有许多版本的。</p>
<p>OpenGL 2.0 及以前的版本, 称之为古代 OpenGL, 例如:</p>
<div class="language-C++ language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:hsl(207, 82%, 66%)">glBegin</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_POINTS</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glVertex3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.5f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glVertex3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.5f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glEnd</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">C++</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>由于我们是一个一个函数调用来传入顶点的坐标, 颜色等信息, 这种模式下的 OpenGL 又被称为 <strong>立即模式(intermediate mode)</strong>, <strong>立即模式</strong> 是古代 OpenGL 特有的, <span style="color:red">效率较低, 且灵活性差, 难以自定义新的属性</span>。</p>
<p><code>glMatrixMode</code>、<code>glPushMatrix</code> 和 <code>glOrtho</code> 等函数也是立即模式的 API 之一, 如果你在一个 OpenGL 教程中看到这样的函数, 那么他就是古代的教程。</p>
<blockquote>
<p>在第一课和第二课的前半段中, 处于教学目的, 我们将简单介绍古代 OpenGL 的立即模式。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="26-现代-opengl">2.6 现代 OpenGL<a href="#26-现代-opengl" class="hash-link" aria-label="2.6 现代 OpenGL的直接链接" title="2.6 现代 OpenGL的直接链接">​</a></h3>
<p>OpenGL 的接口(API)是有许多版本的。
OpenGL 3.0 及以后的版本, 称之为现代 OpenGL, 例如:</p>
<div class="language-c++ language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:hsl(207, 82%, 66%)">glGenVertexArrays</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;</span><span class="token plain">vao</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glBindVertexArrays</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">vao</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">c++</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>特点是有非常多的各种 VAO, VBO, FBO, 各种对象及其绑定(bind)操作。</p>
<p>初学者可能对此心生畏惧, 不要担心, 在小彭老师的答辩比喻法介绍下, 没有什么花里胡哨概念是难理解的, 他会告诉你哪些是需要注意的, 哪些是次要的, 帮你拎出重点, 排除掉亿些不重要的干扰项, 熟练使用 C++ RAII 思想封装, 了却 OpenGL 状态机模型的痛苦。</p>
<blockquote>
<p>从第二课的后半段开始, 我们将由古代 OpenGL 转向现代 OpenGL 的各种花里胡哨。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="27-opengl-实现与不同的-api">2.7 OpenGL 实现与不同的 API<a href="#27-opengl-实现与不同的-api" class="hash-link" aria-label="2.7 OpenGL 实现与不同的 API的直接链接" title="2.7 OpenGL 实现与不同的 API的直接链接">​</a></h3>
<blockquote>
<p>OpenGL 是一个开放的 API 标准, 有许多不同的实现, 通常是由显卡(GPU)硬件厂商实现的。由于很多跨平台软件都会用 OpenGL API 实现图形化, 因此显卡厂商们都会争先恐后地支持 OpenGL。</p>
<p>同理还有 DirectX 系列 API, 他也有非常多的版本, 但他是比尔盖子提出的 Wendous 独占 API, 比尔盖子为了维护微软帝国统治, 特意在 Wendous 平台上不负优化了 OpenGL, 以迫使追求性能的用户多多使用他垄断的 DirectX, 而一旦你的软件使用了 DirectX, 那么就没法再移植到其他平台(比如 Linux, MaikeOS)了。</p>
<p>乔布斯也不甘落后, 在他的 MaikeOS 上推出了 Metal 系列 API, 并宣布 OpenGL 版本停止更新(比盖子还要狠), 永远停止在了 OpenGL 4.1, 导致 MaikeOS 无法使用 OpenGL 4.3 引入的 compute shader 等一系列实用新特性。</p>
<p>为了让没有显卡的用户也能使用图形化程序, 有一个叫做 mesa 的特殊 OpenGL 实现, 他完全在 CPU 上运行, 使用软光栅渲染, 使用 LLVM 编译 shader, 不需要显卡也可以运行。但效率比显卡硬件加速的光栅化(rasterization, 渲染三维图形的关键)低得多。还有一个 OSMesa(off-screen mesa), 用于在没有显示器的情况下(例如服务器)进行离屏渲染。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="28-opengl-扩展">2.8 OpenGL 扩展<a href="#28-opengl-扩展" class="hash-link" aria-label="2.8 OpenGL 扩展的直接链接" title="2.8 OpenGL 扩展的直接链接">​</a></h3>
<p>OpenGL 提供的函数都是通用的, 几乎每个正经的 GPU 都支持的功能。</p>
<p>而有时, 硬件厂商不满足于只提供大锅菜, 还会开小灶, 这就是 OpenGL 扩展, 扩展官方提供的一种添加额外 API 的手段, 用户可以检测当前 OpenGL 实现是否具有某扩展, 如果有, 则可以使用这些函数, 如果没有, 则必须想办法绕道(walk around), 用比较低效的通用 API 实现那个只有 NVIDIA 显卡才具有的扩展, 或者宣布放弃支持非 NVIDIA 显卡。</p>
<p>例如这是一个 NVIDIA 从 Turing 架构开始支持的一个 OpenGL 扩展, 扩展的名字格式如下:</p>
<p>GL_NV_compute_shader_derivatives</p>
<p>Khronos 官方有一个页面来维护这些扩展的描述文档:</p>
<p><span class="tailwind"><a href="https://registry.khronos.org/OpenGL/extensions/NV/NV_compute_shader_derivatives.txt" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">https://registry.khronos.org/OpenGL/extensions/NV/NV_compute_shader_derivatives.txt<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></p>
<blockquote>
<p>这些扩展需要驱动和硬件本身的支持, 老的显卡不一定具有, 往往只有特定品牌, 足够高型号的显卡才具有, 为了照顾没有最新显卡的同学, 小彭老师在实验源码中完全不使用扩展, 如果要使用, 则也会加入分支检测不到扩展时的&quot;绕道&quot;方案。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="29-opengl-与-vulkan---我该学习哪个">2.9 OpenGL 与 Vulkan - 我该学习哪个?<a href="#29-opengl-与-vulkan---我该学习哪个" class="hash-link" aria-label="2.9 OpenGL 与 Vulkan - 我该学习哪个?的直接链接" title="2.9 OpenGL 与 Vulkan - 我该学习哪个?的直接链接">​</a></h3>
<p>Vulkan 是比 OpenGL 更新的跨平台 API, 也是由 Khronos 推出的, 所谓&quot;未来替代品&quot;。</p>
<p>Vulkan 函数接口究极无敌复杂, 还都是 C 风格的, 参数爆多, 一个个指针传来传去, 本来一个简单的需求需要拆分成好几个函数调用才能解决, 例如他画一个三角形要一千行代码, 类推可知画一个正方形要两千行(不是)。OpenGL 帮你掩盖了一部分实现细节, 简化了思考, 而 Vulkan 中这些全部需要你自己去伺候, 虽然提升了上限, 但也对初学者极不友好。</p>
<p>OpenGL 历史悠久, 有许多硬件厂商支持 OpenGL, 而 Vulkan 比较新, 老的显卡可能不支持 Vulkan, 需要通过&quot;翻译层&quot;, 把你的 Vulkan API 调用&quot;翻译&quot;成 OpenGL 或 DirectX才能使用, 导致你辛苦写花里胡哨 Vulkan 半天, 还不如直接使用 OpenGL 高效。</p>
<p>Vulkan 太新了, 他的教程非常少, 有些教程还存在错误, 而网络上关于 Vulkan 资源的稀缺又让你无法验证真伪。同时, Vulkan 很容易报各种莫名其妙的错误信息, 由于过于新鲜导致网上难以找到每个报错对应的解决方案。而 OpenGL 就有着充足的教程资源和错误解决方案, 例如最经典的 learnopengl.com。</p>
<p>总之, Vulkan 过于陡峭的学习曲线决定了学习他的基本都是已经熟练掌握过其他图形 API(例如 OpenGL, DirectX)的专家, 而且由于过于新鲜导致没有多少企业在用, 也没有多少硬件主动支持他, 因此我强烈建议初学者先学习 OpenGL 作为敲门砖, 图形 API 都是有共通点的, 一旦理解原理后再学习其他 API 也不难, 不用担心未来被&quot;取代&quot;之类。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="210-opengl-es---嵌入式特供版">2.10 OpenGL ES - 嵌入式特供版<a href="#210-opengl-es---嵌入式特供版" class="hash-link" aria-label="2.10 OpenGL ES - 嵌入式特供版的直接链接" title="2.10 OpenGL ES - 嵌入式特供版的直接链接">​</a></h3>
<p>OpenGL 设计的接口规范, 对于硬件的要求有些过于高了, 对于低性能平台不友好。</p>
<p>因此后来又推出了 OpenGL ES 接口规范, 就像勺子还分大人勺子和儿童专用勺一样。</p>
<p>OpenGL 多用于电脑端, 因为他们完全跑得起高性能显卡。而 OpenGL ES 多用于移动端, 他是为了伺候手机芯片上低功耗低性能的嵌入式 GPU 的阉割版。</p>
<p>本课程不会教你 OpenGL ES, 但 OpenGL ES 的接口和 OpenGL 非常相似, 学会了 OpenGL 也很容易学会 OpenGL ES, 正如学会 OpenGL 也很容易学会 DirectX 一样</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="211-opengl-的软光栅实现">2.11 OpenGL 的软光栅实现<a href="#211-opengl-的软光栅实现" class="hash-link" aria-label="2.11 OpenGL 的软光栅实现的直接链接" title="2.11 OpenGL 的软光栅实现的直接链接">​</a></h3>
<p>为了让没有显卡的用户也能使用图形化程序, 有一个叫做 mesa 的特殊 OpenGL 实现, 他完全在 CPU 上运行, 使用软光栅渲染, 使用 LLVM 编译 shader, 不需要显卡也可以运行。但效率比显卡硬件加速的光栅化(rasterization, 渲染三维图形的关键)低得多。</p>
<p>Mesa 支持的 OpenGL 版本为 3.3, 据称 Mesa 12 将会支持 OpenGL 4.2。</p>
<p>Mesa 也提供了 Vulkan 的实现, 可以在 <span class="tailwind"><a href="https://mesamatrix.net/" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">https://mesamatrix.net/<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span> 上查看 Mesa 的更多信息。</p>
<p>一些 Intel 集成显卡(内置在 CPU 同一个芯片上的&quot;阉割版&quot;小 GPU)的驱动也会基于 Mesa 实现, 这是因为他们的软件工程师人手不足, 而 Mesa 是一个现成的 OpenGL 实现框架, 所以他们会在 Mesa 基础上进行修改, 实现自己 Intel 集成显卡的 OpenGL 驱动。</p>
<p>一些有钱有势的显卡大厂(如 NVIDIA)则会自己投资自己从零开始自己实现整个 OpenGL, 好处是 NVIDIA 员工最熟悉 NVIDIA 自己的硬件, 让硬件厂商完全把关整个 OpenGL 驱动实现, 能够最大化利用硬件的性能, 缺点是有时会出现实现得有 BUG, 不符合标准的地方。</p>
<blockquote>
<p>建议只在没有显卡或显卡版本过老, 不支持本课程所需的 OpenGL 3.3 时才使用。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="212-opengl-的驱动支持">2.12 OpenGL 的驱动支持<a href="#212-opengl-的驱动支持" class="hash-link" aria-label="2.12 OpenGL 的驱动支持的直接链接" title="2.12 OpenGL 的驱动支持的直接链接">​</a></h3>
<p>驱动都是向前兼容的, 再新的驱动都会兼容老的 API 版本, 而老的驱动却会不支持新的 API 版本。不论是 OpenGL、DirectX、Metal 还是 Vulkan。</p>
<p>如果你的程序希望兼容特别老的显卡, 或者需要在虚拟机环境中运行, 并且不在乎性能:</p>
<p>那就得使用古代 OpenGL 2.0 及以下, 使用最沙雕的立即模式。</p>
<p>如果你的程序不需要兼容特别老的显卡, 并且对性能有所追求, 或者要用到一些新特性:</p>
<p>那就得使用古代 OpenGL 3.0 及以上, 使用 VAO、VBO 那一套。</p>
<p>驱动越新, 支持的 OpenGL 版本越高。显卡越新, 支持的 OpenGL 版本越高。</p>
<p>能够支持的 <code>OpenGL 版本 = min(驱动支持的版本, 显卡支持的版本)</code></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="213-linux-安装-opengl">2.13 Linux 安装 OpenGL<a href="#213-linux-安装-opengl" class="hash-link" aria-label="2.13 Linux 安装 OpenGL的直接链接" title="2.13 Linux 安装 OpenGL的直接链接">​</a></h3>
<p>Arch Linux:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> pacman </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-S</span><span class="token plain"> freeglut glu libglvnd mesa glfw glm</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">shell</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="214-安装显卡驱动">2.14 安装显卡驱动<a href="#214-安装显卡驱动" class="hash-link" aria-label="2.14 安装显卡驱动的直接链接" title="2.14 安装显卡驱动的直接链接">​</a></h3>
<p>刚刚说了, 光有 OpenGL 运行时没用, 还要有实际的显卡驱动才行。</p>
<ul>
<li>请看 <span class="tailwind"><a href="https://www.khronos.org/opengl/wiki/Getting_Started#Windows" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">https://www.khronos.org/opengl/wiki/Getting_Started#Windows<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></li>
<li>按摩店驱动: <span class="tailwind"><a href="http://support.amd.com/en-us/download" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">http://support.amd.com/en-us/download<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></li>
<li>英特尔驱动: <span class="tailwind"><a href="https://downloadcenter.intel.com/" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">https://downloadcenter.intel.com/<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></li>
<li>淫威大驱动: <span class="tailwind"><a href="http://www.nvidia.com/Download/index.aspx" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">http://www.nvidia.com/Download/index.aspx<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></li>
</ul>
<p>没有显卡或搞不定显卡的同学可选择 Mesa 软光栅: 下载 opengl32sw.dll 覆盖 opengl32.dll。</p>
<p>不过如果你玩游戏的话, 通常来说 OpenGL 驱动早已经在你的电脑里了, 这个东西一般是和 Direct3D 一起安装的, 用 dxdiag 或 CPU-Z 工具也可以检测到 OpenGL 安装的版本。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="215-opengl-头文件">2.15 OpenGL 头文件?<a href="#215-opengl-头文件" class="hash-link" aria-label="2.15 OpenGL 头文件?的直接链接" title="2.15 OpenGL 头文件?的直接链接">​</a></h3>
<p>古代 OpenGL 往往用这个系统自带的头文件:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:hsl(355, 65%, 65%)">#</span><span class="token macro property directive keyword" style="color:hsl(286, 60%, 67%)">include</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property string" style="color:hsl(95, 38%, 62%)">&lt;GL/gl.h&gt;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这里面包含的都是些 OpenGL 2.0 以前版本的老函数, 而不具有现代 OpenGL 3.0 以上的新函数, 如果我们想要用现代 OpenGL, 就不能用这个头文件。</p>
<p>现代 OpenGL 没有头文件, 而是必须使用 LoadLibraryA 手动去 OpenGL 的 DLL 里一个个加载那些函数, 如果我们每用一个函数就得手动加载一下函数, 那该有多痛苦啊!</p>
<p>因此, 有了 glad 和 glew 这样的第三方库, 他们会在启动时加载所有的 OpenGL 函数, 放到全局函数指针中去, 这样当你使用时, 就好像在调用一个普通的函数一样, 没有痛苦。</p>
<p>因此为了现代 OpenGL, 我们必须选择一个 API 加载器, 本课程选用了 glad, 当你需要 OpenGL 函数时, 不是去导入那个落伍的 <code>&lt;GL/gl.h&gt;</code>, 而是导入 <code>&lt;glad/glad.h&gt;</code> 作为代替:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:hsl(355, 65%, 65%)">#</span><span class="token macro property directive keyword" style="color:hsl(286, 60%, 67%)">include</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property string" style="color:hsl(95, 38%, 62%)">&lt;glad/glad.h&gt;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>glad 坑点注意:</p>
<p>如果你用了 glad.h, 就不要再导入那个古代的 gl.h 头文件了:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:hsl(355, 65%, 65%)">#</span><span class="token macro property directive keyword" style="color:hsl(286, 60%, 67%)">include</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property string" style="color:hsl(95, 38%, 62%)">&lt;GL/gl.h&gt;</span><span class="token macro property" style="color:hsl(355, 65%, 65%)">      </span><span class="token macro property comment" style="color:hsl(220, 10%, 40%)">// x 不要导入这坨古代垃圾, 会和 glad 冲突!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:hsl(355, 65%, 65%)">#</span><span class="token macro property directive keyword" style="color:hsl(286, 60%, 67%)">include</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property string" style="color:hsl(95, 38%, 62%)">&lt;glad/glad.h&gt;</span><span class="token macro property" style="color:hsl(355, 65%, 65%)">  </span><span class="token macro property comment" style="color:hsl(220, 10%, 40%)">// v 只需导入这个现代的即可!</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>此外还要记住 glad 头文件必须在其他 gl 相关库的前面, 虽说 C++ Guidelines 都要求头文件的顺序理应不影响结果, 但毕竟 glad 是个特殊玩意, 还是得照顾他一下的。</p>
<p>例如 glad 必须放在 glfw 头文件的前面:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:hsl(355, 65%, 65%)">#</span><span class="token macro property directive keyword" style="color:hsl(286, 60%, 67%)">include</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property string" style="color:hsl(95, 38%, 62%)">&lt;glad/glad.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token macro property directive-hash" style="color:hsl(355, 65%, 65%)">#</span><span class="token macro property directive keyword" style="color:hsl(286, 60%, 67%)">include</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property string" style="color:hsl(95, 38%, 62%)">&lt;GLFW/glfw3.h&gt;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>建议自己的 glcommon.h 头文件里写这两行, 然后用 gl 和 glfw 就导入这个 glcommon.h, 这样就能保证顺序不乱。如果用到其他的 gl 相关库也可以往 glcommon.h 里追加。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="216-glad-其实是让我们自己生成的">2.16 glad 其实是让我们自己生成的<a href="#216-glad-其实是让我们自己生成的" class="hash-link" aria-label="2.16 glad 其实是让我们自己生成的的直接链接" title="2.16 glad 其实是让我们自己生成的的直接链接">​</a></h3>
<p>glad 实际上是一个 python 包, 他所做的是根据你指定的版本, 生成加载 OpenGL 全部函数的 glad.c 和头文件 glad.h</p>
<p>例如本项目的 glad.c 和 glad.h 是用以下命令生成的:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">python </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-m</span><span class="token plain"> pip </span><span class="token function" style="color:hsl(207, 82%, 66%)">install</span><span class="token plain"> glad</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">python </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-m</span><span class="token plain"> glad --out-path </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">.</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--generator</span><span class="token plain"> c </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--api</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">gl</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token number" style="color:hsl(29, 54%, 61%)">4.6</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--profile</span><span class="token plain"> compatibility</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">bash</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="217-glfw---跨平台的-opengl-窗体管理库">2.17 glfw - 跨平台的 OpenGL 窗体管理库<a href="#217-glfw---跨平台的-opengl-窗体管理库" class="hash-link" aria-label="2.17 glfw - 跨平台的 OpenGL 窗体管理库的直接链接" title="2.17 glfw - 跨平台的 OpenGL 窗体管理库的直接链接">​</a></h3>
<p><span class="tailwind"><a href="https://github.com/glfw/glfw" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">https://github.com/glfw/glfw<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></p>
<p>GLFW 是配合 OpenGL 使用的轻量级工具程序库, 缩写自 Graphics Library Framework(图形库框架)。GLFW 的主要功能是创建并管理窗口和 OpenGL 上下文, 同时还提供了处理手柄、键盘、鼠标输入的功能。</p>
<blockquote>
<p>注: 他实际上也支持创建 OpenGL ES 和 Vulkan 上下文。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="218-glm---仿-glsl-语法的数学矢量库">2.18 glm - 仿 glsl 语法的数学矢量库<a href="#218-glm---仿-glsl-语法的数学矢量库" class="hash-link" aria-label="2.18 glm - 仿 glsl 语法的数学矢量库的直接链接" title="2.18 glm - 仿 glsl 语法的数学矢量库的直接链接">​</a></h3>
<p><span class="tailwind"><a href="https://github.com/g-truc/glm" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">https://github.com/g-truc/glm<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></p>
<p>glm 和 glsl 的语法如出一辙, 学会了 glsl 等于学会了 glm, 反之亦然。</p>
<p>选择这款最接近 glsl 语法的矢量库将会大大节省我们的重复学习成本。</p>
<blockquote>
<p>此外, glm 还支持 SIMD, 支持 CUDA, 虽然本课程用不到。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="219-opengl-系列术语全家桶总结">2.19 OpenGL 系列术语全家桶总结<a href="#219-opengl-系列术语全家桶总结" class="hash-link" aria-label="2.19 OpenGL 系列术语全家桶总结的直接链接" title="2.19 OpenGL 系列术语全家桶总结的直接链接">​</a></h3>
<ul>
<li>API: opengl(个人电脑)、opengl es(嵌入式平台)、vulkan、metal、directx</li>
<li>OpenGL 模式: compatible(为兼容性保留老功能), core(仅保留最新功能)</li>
<li>上下文创建: wgl(Wendous)、glx(Linux)、egl(嵌入式平台)</li>
<li>窗口创建: glfw、glut</li>
<li>API 加载器: glad、glew</li>
<li>数学矢量库: glm</li>
<li>着色器语言: glsl</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-text codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">API: 为方便实验, 采用容易上手, 兼容性强的 opengl</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">OpenGL 模式: 我们用 core, 直接上手现代 API, 避开古代 OpenGL 的又臭又长</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">上下文创建: 不需要我们程序员考虑, 已经被跨平台的 glfw 或 glut 全权接管</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">窗口创建: 我推荐 glfw, 因为他比较新, 而且用的人比较多</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">API 加载器: 如果需要现代 OpenGL(2.0 以上)就必须用一款加载器, 我们选择 glad</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">数学矢量库: glm 在 C++ 中模仿 glsl 中的 vec3 语法, 减少重复学习的成本</span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">着色器语言: glsl, opengl 专属着色器语言, 可以通过玩 shadertoy 来学习</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">text</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="220-cmake-链接现代-opengl-所需第三方库">2.20 CMake 链接现代 OpenGL 所需第三方库<a href="#220-cmake-链接现代-opengl-所需第三方库" class="hash-link" aria-label="2.20 CMake 链接现代 OpenGL 所需第三方库的直接链接" title="2.20 CMake 链接现代 OpenGL 所需第三方库的直接链接">​</a></h3>
<div class="language-CMake language-cmake codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cmake codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:hsl(286, 60%, 67%)">add_subdirectory</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">glm</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">target_link_libraries</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">main </span><span class="token namespace">PUBLIC</span><span class="token plain"> glm</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">add_subdirectory</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">glfw</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">target_link_libraries</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">main </span><span class="token namespace">PUBLIC</span><span class="token plain"> glfw</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">add_subdirectory</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">glad</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">target_link_libraries</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">main </span><span class="token namespace">PUBLIC</span><span class="token plain"> glad</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">CMake</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="三配置开发环境">三、配置开发环境<a href="#三配置开发环境" class="hash-link" aria-label="三、配置开发环境的直接链接" title="三、配置开发环境的直接链接">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="31-cmake">3.1 CMake<a href="#31-cmake" class="hash-link" aria-label="3.1 CMake的直接链接" title="3.1 CMake的直接链接">​</a></h3>
<p><span class="tailwind"><a href="https://github.com/HengXin666/HXTest/tree/main/src/08-OpenGL" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">https://github.com/HengXin666/HXTest/tree/main/src/08-OpenGL<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span></p>
<p>参考其 CMake:</p>
<div class="language-CMake language-cmake codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cmake codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:hsl(220, 10%, 40%)"># 函数: 禁用所有的警告即错误 (因为本地开启了最严格的编译检查, 不去掉检查, 下面的库都不能编译...)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">function</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">disable_warnings_if_target_exists target</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">TARGET </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">${</span><span class="token plain">target</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token variable" style="color:hsl(207, 82%, 66%)">CMAKE_C_COMPILER_ID</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">MATCHES</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;Clang|GNU&quot;</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">target_compile_options</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">${</span><span class="token plain">target</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"> </span><span class="token namespace">PRIVATE</span><span class="token plain"> -w</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">elseif</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token variable" style="color:hsl(207, 82%, 66%)">MSVC</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">target_compile_options</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">${</span><span class="token plain">target</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"> </span><span class="token namespace">PRIVATE</span><span class="token plain"> /w</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">endif</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">endif</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">endfunction</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># 添加依赖(从子模块)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">add_subdirectory</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">lib/glm</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">add_subdirectory</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">lib/glfw</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">add_subdirectory</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">lib/glad</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># 针对 C 库 target 禁用警告</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">disable_warnings_if_target_exists</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">glfw</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">disable_warnings_if_target_exists</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">glad</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># 链接库</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">target_link_libraries</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">${</span><span class="token plain">TEST_NAME</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"> </span><span class="token namespace">PUBLIC</span><span class="token plain"> glm</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">target_link_libraries</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">${</span><span class="token plain">TEST_NAME</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"> </span><span class="token namespace">PUBLIC</span><span class="token plain"> glfw</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">target_link_libraries</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">${</span><span class="token plain">TEST_NAME</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"> </span><span class="token namespace">PUBLIC</span><span class="token plain"> glad</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">CMake</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="32-代码">3.2 代码<a href="#32-代码" class="hash-link" aria-label="3.2 代码的直接链接" title="3.2 代码的直接链接">​</a></h3>
<p>然后是一个测试程序, 判断您是否配置好了:</p>
<!-- -->
<!-- -->
<p>如果运行显示下面文章, 并且出现窗口还渲染了渐进色三角形, 那么你成功了!</p>
<blockquote>
<p>OpenGL version: 4.6.0 NVIDIA 570.153.02</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="四opengl-样板代码">四、OpenGL 样板代码<a href="#四opengl-样板代码" class="hash-link" aria-label="四、OpenGL 样板代码的直接链接" title="四、OpenGL 样板代码的直接链接">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="41-第一个-opengl-程序---从初始化-glfw-开始">4.1 第一个 OpenGL 程序 - 从初始化 GLFW 开始<a href="#41-第一个-opengl-程序---从初始化-glfw-开始" class="hash-link" aria-label="4.1 第一个 OpenGL 程序 - 从初始化 GLFW 开始的直接链接" title="4.1 第一个 OpenGL 程序 - 从初始化 GLFW 开始的直接链接">​</a></h3>
<p>在开始画图之前, 需要先初始化 GLFW 这个库:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token macro property directive-hash" style="color:hsl(355, 65%, 65%)">#</span><span class="token macro property directive keyword" style="color:hsl(286, 60%, 67%)">include</span><span class="token macro property" style="color:hsl(355, 65%, 65%)"> </span><span class="token macro property string" style="color:hsl(95, 38%, 62%)">&lt;GLFW/glfw3.h&gt;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwInit</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"> </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// 初始化 GLFW 库</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>加上错误处理这个次要干扰项:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwInit</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">throw</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token function" style="color:hsl(207, 82%, 66%)">runtime_error</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;failed to initialize GLFW&quot;</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>诸如 <code>glfwInit</code> 这样的 C 语言函数都约定, 返回非 0 值表示出错, 如果我们不去判断他的返回值, 那么一旦出错将不会有任何提示, 继续执行后面的代码!不好意思, gl 家族都是纯 C 语言的函数, 他们没有办法使用 C++ 的异常, 而出了一个小错就直接把整个进程 <code>exit(-1)</code> 掉又过于武断, 所以只好用返回值告诉调用者&quot;我是不是出错了, 出了什么错&quot;的信息。</p>
</blockquote>
<div class="markdown-alert markdown-alert-tip">
<p class="markdown-alert-title"><span class="octicon octicon-tip" style="--oct-icon:url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; class=&#x27;octicon octicon-light-bulb mr-2&#x27; viewBox=&#x27;0 0 16 16&#x27; version=&#x27;1.1&#x27; width=&#x27;16&#x27; height=&#x27;16&#x27; aria-hidden=&#x27;true&#x27;%3E%3Cpath d=&#x27;M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;)"></span>Tip</p>
<p>本课程使用 C++ 编程, 为了在这种传统的 C 语言风格错误处理和 C++ 方便调试的异常之间转换, 我们需要检测每一个 gl 家族的 C 语言函数返回值, 检测到出错时, 就立刻抛出 C++ 异常。而一般的调试器或 IDE 都会在抛出异常时断点, 大大方便了我们调试!</p>
</div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="42-使用-glfw-创建一个窗口">4.2 使用 GLFW 创建一个窗口<a href="#42-使用-glfw-创建一个窗口" class="hash-link" aria-label="4.2 使用 GLFW 创建一个窗口的直接链接" title="4.2 使用 GLFW 创建一个窗口的直接链接">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:hsl(220, 10%, 40%)">// 创建一个宽 640 像素, 长 480 像素, 标题为&quot;Example&quot;的窗口。</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">auto</span><span class="token plain"> window </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwCreateWindow</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">640</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">480</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;Example&quot;</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>创建完窗口后, 我们就要在其上绘制图案了。如何让 gl 函数知道我们要在哪一个窗口上画图呢?OpenGL 有一个概念叫做上下文, 大致意思是:</p>
<ul>
<li>你让我画一个方块, 但是在哪里画呢? 你得先告诉我一个上下文语境啊!</li>
</ul>
<p>要把刚刚创建的窗口设为接下来 gl 函数的上下文:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:hsl(207, 82%, 66%)">glfwMakeContextCurrent</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>加入一些无关紧要的干扰项后, 就是完整的代码了:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">GLFWwindow</span><span class="token operator" style="color:hsl(207, 82%, 66%)">*</span><span class="token plain"> window </span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwCreateWindow</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">640</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">480</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;Example&quot;</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token constant" style="color:hsl(29, 54%, 61%)">NULL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token constant" style="color:hsl(29, 54%, 61%)">NULL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token plain">window</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwTerminate</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">throw</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:hsl(220, 14%, 71%)">::</span><span class="token function" style="color:hsl(207, 82%, 66%)">runtime_error</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;GLFW failed to create window&quot;</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwMakeContextCurrent</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>现在你应该看懂了吧~</p>
</blockquote>
<div class="markdown-alert markdown-alert-tip">
<p class="markdown-alert-title"><span class="octicon octicon-tip" style="--oct-icon:url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; class=&#x27;octicon octicon-light-bulb mr-2&#x27; viewBox=&#x27;0 0 16 16&#x27; version=&#x27;1.1&#x27; width=&#x27;16&#x27; height=&#x27;16&#x27; aria-hidden=&#x27;true&#x27;%3E%3Cpath d=&#x27;M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;)"></span>Tip</p>
<p>你可以把上下文想象成一个全局变量。而 <code>glfwMakeContextCurrent</code> 则是会初始化那个变量, 使其中的&quot;屏幕&quot;指针指向你创建的窗口 window。</p>
<p>当你调用 gl 函数时, 这个函数会去读取这个全局的&quot;单例&quot;, 并修改其中的状态。</p>
</div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="43-初始化-glad">4.3 初始化 GLAD<a href="#43-初始化-glad" class="hash-link" aria-label="4.3 初始化 GLAD的直接链接" title="4.3 初始化 GLAD的直接链接">​</a></h3>
<p>有了上下文以后, 就可以初始化 GLAD 这个库了。</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:hsl(207, 82%, 66%)">gladLoadGL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"> </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// 初始化 GLAD, 加载函数指针</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="markdown-alert markdown-alert-warning">
<p class="markdown-alert-title"><span class="octicon octicon-warning" style="--oct-icon:url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; class=&#x27;octicon octicon-alert mr-2&#x27; viewBox=&#x27;0 0 16 16&#x27; version=&#x27;1.1&#x27; width=&#x27;16&#x27; height=&#x27;16&#x27; aria-hidden=&#x27;true&#x27;%3E%3Cpath d=&#x27;M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;)"></span>Warning</p>
<p>由于我们使用 <code>glad/glad.h</code> 而不是 <code>GL/gl.h</code>, 必须先 <code>gladLoadGL</code> 后才能正常使用 <code>gl 函数</code>, 如果不先 <code>gladLoadGL</code> 的话, <code>gl 函数</code>就还是空指针, 试图调用他们就会直接崩溃。</p>
</div>
<blockquote>
<p>注意: <code>gladLoadGL</code> 必须在 <code>glfwMakeContextCurrent</code> 之后, 因为 GLAD 的初始化也是需要调用 gl 函数的, <strong>需要一个 OpenGL 上下文</strong>。</p>
</blockquote>
<p>加上错误处理这个次要干扰项:</p>
<!-- -->
<!-- -->
<div class="markdown-alert markdown-alert-note">
<p class="markdown-alert-title"><span class="octicon octicon-note" style="--oct-icon:url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; class=&#x27;octicon octicon-info mr-2&#x27; viewBox=&#x27;0 0 16 16&#x27; version=&#x27;1.1&#x27; width=&#x27;16&#x27; height=&#x27;16&#x27; aria-hidden=&#x27;true&#x27;%3E%3Cpath d=&#x27;M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;)"></span>Note</p>
<p>由于我们使用 <code>glad/glad.h</code> 而不是 <code>GL/gl.h</code>, 必须先 <code>gladLoadGL</code> 后才能正常使用 <code>gl 函数</code>, 如果不先 <code>gladLoadGL</code> 的话, <code>gl 函数</code>就还是 <strong>空指针</strong>, 试图调用他们就会直接崩溃。</p>
</div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="44-终于可以开始画图了吗">4.4 终于可以开始画图了吗?<a href="#44-终于可以开始画图了吗" class="hash-link" aria-label="4.4 终于可以开始画图了吗?的直接链接" title="4.4 终于可以开始画图了吗?的直接链接">​</a></h3>
<p>在 <code>glfwMakeContextCurrent</code> 确定了绘图的上下文, <code>gladLoadGL</code> 加载了 <code>gl 函数</code>后, 我们终于可以开始调用 gl 函数进行绘图了!我们的整个程序看起来像这样:</p>
<ol>
<li><code>glfwInit();</code></li>
<li><code>glfwMakeContextCurrent(window);</code></li>
<li><code>gladLoadGL();</code></li>
<li>画图;</li>
</ol>
<p>但是这样的话我们只画了一次图就退出了, 窗口会在屏幕上一闪而过(只停留1帧)。</p>
<p>为了让窗口持续存在, 我们需要用一个死循环卡住窗口, 不让他直接退出。</p>
<p>把上面的 <code>4.</code> 更正为: <code>while (true) { 画图; }</code></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="45-检测窗口是否已经关闭">4.5 检测窗口是否已经关闭<a href="#45-检测窗口是否已经关闭" class="hash-link" aria-label="4.5 检测窗口是否已经关闭的直接链接" title="4.5 检测窗口是否已经关闭的直接链接">​</a></h3>
<p>但是 <code>while (true)</code> 死循环又卡的太死了, 我们点击窗口右上角的<code>关闭按钮 x</code>, 他也不退出!</p>
<p>所以加上 <code>glfwWindowShouldClose(window)</code> 判断当前窗口是不是被点击了关闭按钮:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:hsl(207, 82%, 66%)">glfwInit</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwMakeContextCurrent</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">gladLoadGL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwWindowShouldClose</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    画图</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果点击了 window 上的关闭按钮, <code>glfwWindowShouldClose</code> 就会返回 <code>true</code>, 再加上 <code>!</code> 运算符就变成 <code>false</code> 了, 使得循环在点击关闭按钮时退出!</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="46-拉取最新事件---glfwpollevents">4.6 拉取&quot;最新事件&quot; - glfwPollEvents<a href="#46-拉取最新事件---glfwpollevents" class="hash-link" aria-label="4.6 拉取&quot;最新事件&quot; - glfwPollEvents的直接链接" title="4.6 拉取&quot;最新事件&quot; - glfwPollEvents的直接链接">​</a></h3>
<p>很可惜, 加上了 <code>glfwWindowShouldClose</code> 判断也 <strong>不会</strong> 在点击关闭按钮时退出, 因为 glfw 窗口有一个事件(event)系统, 事件是从操作系统队列中取得的, 如果不去主动获取, 那么就不会知道有一个&quot;点击关闭按钮&quot;的事件发生, 因此我们必须在每次循环结束后使用 glfwPollEvents 从操作系统那里获取&quot;最新事件&quot;, 才能让 <code>glfwWindowShouldClose</code> 生效。</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:hsl(286, 60%, 67%)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwWindowShouldClose</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    画图</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwPollEvents</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="markdown-alert markdown-alert-tip">
<p class="markdown-alert-title"><span class="octicon octicon-tip" style="--oct-icon:url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; class=&#x27;octicon octicon-light-bulb mr-2&#x27; viewBox=&#x27;0 0 16 16&#x27; version=&#x27;1.1&#x27; width=&#x27;16&#x27; height=&#x27;16&#x27; aria-hidden=&#x27;true&#x27;%3E%3Cpath d=&#x27;M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;)"></span>Tip</p>
<p>你因为看到外面下雨了, 就决定把自己关在家里不出去, 但是你既不看天气预报, 也不看窗外, 怎么知道外面雨停了没呢?你就会一直等下去。而 <code>glfwPollEvents</code> 就是你看新闻的动作。</p>
</div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="47-把我的画图指令提交---glflush">4.7 把我的画图指令提交 - glFlush<a href="#47-把我的画图指令提交---glflush" class="hash-link" aria-label="4.7 把我的画图指令提交 - glFlush的直接链接" title="4.7 把我的画图指令提交 - glFlush的直接链接">​</a></h3>
<p>等一下, 我们画的图没有在窗口中显示出来!原来, gl 的画图函数为了高效, 是有一个命令队列的, 只有在调用 glFlush 时, 才会把命令提交到驱动中去, 并在窗口中显示。</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:hsl(286, 60%, 67%)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwWindowShouldClose</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    画图</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">glFlush</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwPollEvents</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="markdown-alert markdown-alert-tip">
<p class="markdown-alert-title"><span class="octicon octicon-tip" style="--oct-icon:url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; class=&#x27;octicon octicon-light-bulb mr-2&#x27; viewBox=&#x27;0 0 16 16&#x27; version=&#x27;1.1&#x27; width=&#x27;16&#x27; height=&#x27;16&#x27; aria-hidden=&#x27;true&#x27;%3E%3Cpath d=&#x27;M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;)"></span>Tip</p>
<p>你是一个小说家, 你写了许多小说, 但是你很困惑, 为什么没有人喜欢我的小说。原来, 你根本就没有把写好的小说投稿到出版社, 那确实不可能有人看得到你的小说了。</p>
</div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="48-双缓冲专用提交函数---glfwswapbuffers">4.8 双缓冲专用提交函数 - glfwSwapBuffers<a href="#48-双缓冲专用提交函数---glfwswapbuffers" class="hash-link" aria-label="4.8 双缓冲专用提交函数 - glfwSwapBuffers的直接链接" title="4.8 双缓冲专用提交函数 - glfwSwapBuffers的直接链接">​</a></h3>
<blockquote>
<p>以前的窗口都是单缓冲的, 由于时代的进步, 现在的 glfw 创建窗口默认都会创建双缓冲的窗口, 需要调用 <code>glfwSwapBuffers</code> 代替 <code>glFlush</code>。</p>
</blockquote>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:hsl(286, 60%, 67%)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwWindowShouldClose</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    画图</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwSwapBuffers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwPollEvents</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="49-双缓冲原理---小说家的寓言故事">4.9 双缓冲原理 - 小说家的寓言故事<a href="#49-双缓冲原理---小说家的寓言故事" class="hash-link" aria-label="4.9 双缓冲原理 - 小说家的寓言故事的直接链接" title="4.9 双缓冲原理 - 小说家的寓言故事的直接链接">​</a></h3>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>《单缓冲》</mtext></mrow><annotation encoding="application/x-tex">《单缓冲》</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord cjk_fallback">《单缓冲》</span></span></span></span></span>
<p>想象一个纸资源非常稀缺的世界, 地球上只有一张纸, 好消息是这张纸可以无限擦写。</p>
<p>你给读者写小说时, 就在这纸上写一篇, 然后把纸寄给读者。但是这是地球上唯一一张纸, 读者拿去看了, 你就没有纸了, 你没法写小说了!你现在必须干等着读者看完纸上的小说, 寄回来, 才能把纸擦掉重新写第二篇小说。而当你写第二篇小说的时候, 读者也只能干等着你写完, 把那地球上唯一的一张纸寄过来, 你们两个都恨透了这无聊的等待。</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>《双缓冲》</mtext></mrow><annotation encoding="application/x-tex">《双缓冲》</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord cjk_fallback">《双缓冲》</span></span></span></span></span>
<p>后来科学家在地球上发现了第二张纸, 他立马把这张纸送给了地球上最杰出的小说家——你了。有了第二张纸, 你开发了一种新打法, 可以让作者始终有活干, 读者始终有小说读。</p>
<p>设两张纸编号为 A 和 B, 你首先在 A 纸上写小说, 把 A 纸寄给读者后, 读者拿起 A 纸开始阅读你的 A 小说。此时你不用干等着读者读完你的 A 小说, 寄完后你可以继续在 B 上写新的小说。等读者读完了 A 小说, 把 A 寄回你家后, 你的 B 小说也写完了, 寄给读者。读者开始阅读 B 小说, 与此同时你也回收了 A 小说的纸, 写起新的小说来, 大家都不用干等了。</p>
<blockquote>
<p>实际上就是, 有两个缓冲区, <code>我写的</code>和<code>你看的</code></p>
<p>当我写好了, 就可以直接和你看的交换</p>
<p>这样你看的就又是全新的, 我也可以继续写了</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="410-真的可以开始画图啦">4.10 真的可以开始画图啦~<a href="#410-真的可以开始画图啦" class="hash-link" aria-label="4.10 真的可以开始画图啦~的直接链接" title="4.10 真的可以开始画图啦~的直接链接">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:hsl(286, 60%, 67%)">int</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">main</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwInit</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwMakeContextCurrent</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">gladLoadGL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwWindowShouldClose</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:hsl(207, 82%, 66%)">render</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"> </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// 我们决定把画图的部分统一封装在另一个 render 函数里</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwSwapBuffers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwPollEvents</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="五空间坐标系">五、空间坐标系<a href="#五空间坐标系" class="hash-link" aria-label="五、空间坐标系的直接链接" title="五、空间坐标系的直接链接">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="51-屏幕空间坐标系二维">5.1 屏幕空间坐标系(二维)<a href="#51-屏幕空间坐标系二维" class="hash-link" aria-label="5.1 屏幕空间坐标系(二维)的直接链接" title="5.1 屏幕空间坐标系(二维)的直接链接">​</a></h3>
<p>屏幕是二维的, 当我们要画一个点时, 如何告诉屏幕我要画的是哪一个像素点?</p>
<blockquote>
<p>计算机图形学普遍采用的是<code>笛卡尔坐标系</code>, 他具有 x 轴和 y 轴两条相互垂直的直线。(也就是初中学的平面直角坐标系)</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="52-屏幕空间坐标的取值范围">5.2 屏幕空间坐标的取值范围<a href="#52-屏幕空间坐标的取值范围" class="hash-link" aria-label="5.2 屏幕空间坐标的取值范围的直接链接" title="5.2 屏幕空间坐标的取值范围的直接链接">​</a></h3>
<blockquote>
<p>由于计算机的显示器是一块固定大小的方形屏幕, x 和 y 坐标无法向两端无限延伸, 是有范围的, 不同的图形 API 对屏幕空间的 x 和 y 坐标范围规定也有所不同.</p>
</blockquote>
<p>OpenGL 中, 规定:</p>
<ul>
<li>
<p>x 和 y 的取值为从 -1.0 到 1.0。</p>
</li>
<li>
<p>x 轴正方向向右, y 轴正方向向上, 屏幕中心为原点。</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="opengl坐标系" src="/HXLoLi/assets/images/HX_2025-06-06_11-37-50-a62608ba6e0288134168cee5afeb4377.png" width="940" height="866" style="border-radius:10px"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="53-屏幕不是正方形的情况">5.3 屏幕不是正方形的情况<a href="#53-屏幕不是正方形的情况" class="hash-link" aria-label="5.3 屏幕不是正方形的情况的直接链接" title="5.3 屏幕不是正方形的情况的直接链接">​</a></h3>
<p>注意到我们计算机的显示器往往不是正方形的, 通常是 <code>16: 9</code> 的横向长方形(对于手机则是纵向长方形), 这种情况下 x 和 y 坐标取值依然不变, 还是 -1.0 到 1.0。只是整体被压扁了。</p>
<p>因此, 我们需要乘以一个<code>宽高比</code>!</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="54-屏幕分辨率---空间离散化">5.4 屏幕分辨率 - 空间离散化<a href="#54-屏幕分辨率---空间离散化" class="hash-link" aria-label="5.4 屏幕分辨率 - 空间离散化的直接链接" title="5.4 屏幕分辨率 - 空间离散化的直接链接">​</a></h3>
<p>显示器有一个重要参数叫做分辨率, 例如我的显示器分辨率是 1920x1080 的, 意味着他宽度(x 方向)上有 1920 个像素点, 高度(y 方向)上有 1080 个像素点。</p>
<p>OpenGL 在绘制一个点时, 就把你提供的浮点坐标 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mclose">)</span></span></span></span> 转换成像素的坐标:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mtext>round</mtext><mo stretchy="false">(</mo><mi>x</mi><mo>×</mo><mn>1920</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>round</mtext><mo stretchy="false">(</mo><mi>y</mi><mo>×</mo><mn>1080</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> (\text{round}(x \times 1920), \text{round}(y \times 1080))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord text"><span class="mord">round</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1920</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord text"><span class="mord">round</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1080</span><span class="mclose">))</span></span></span></span></span>
<p>其中 round 是取整函数, 求最接近的整数。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="55-rgb-组合---颜色离散化">5.5 RGB 组合 - 颜色离散化<a href="#55-rgb-组合---颜色离散化" class="hash-link" aria-label="5.5 RGB 组合 - 颜色离散化的直接链接" title="5.5 RGB 组合 - 颜色离散化的直接链接">​</a></h3>
<p>如果你近距离观察显示器, 就会发现他实际上由一个个像素点组成, 每一个像素点又都由红、绿、蓝三个 LED 灯组成, 计算机通过调节三个 LED 灯不同亮度的组合, 从远处看, 就好像有各种不同的颜色一样。</p>
<p>这三个灯的亮度有 256 个档位可供调节, 刚好对应于 8 位无符号整数 <code>unsigned char</code> 的表示范围 [0, 255], 因此会有&quot;颜色就是RGB&quot;, &quot;RGB 就是三个 uchar&quot;的说法。</p>
<p>特别的, 对于 RGBA, 实际上加了一个透明度表示~</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="56-虽然我们的输入是浮点数-最终的结果却都是离散化的">5.6 虽然我们的输入是浮点数, 最终的结果却都是离散化的<a href="#56-虽然我们的输入是浮点数-最终的结果却都是离散化的" class="hash-link" aria-label="5.6 虽然我们的输入是浮点数, 最终的结果却都是离散化的的直接链接" title="5.6 虽然我们的输入是浮点数, 最终的结果却都是离散化的的直接链接">​</a></h3>
<p>我们提供的 <code>glVertex2f(x, y)</code> 坐标是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-1, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span> 浮点数。</p>
<p>但是 OpenGL 为了在离散的屏幕上绘制, 会用:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>f</mi><mi>l</mi><mi>o</mi><mi>o</mi><mi>r</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo>−</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">)</mo><mo>∗</mo><mn>1920</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>f</mi><mi>l</mi><mi>o</mi><mi>o</mi><mi>r</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>y</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo>−</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">)</mo><mo>∗</mo><mn>1080</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(floor((x/2 - 1/2) * 1920), floor((y/2 - 1/2) * 1080))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal" style="margin-right:0.02778em">oor</span><span class="mopen">((</span><span class="mord mathnormal">x</span><span class="mord">/2</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1/2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1920</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal" style="margin-right:0.02778em">oor</span><span class="mopen">((</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mord">/2</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1/2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1080</span><span class="mclose">))</span></span></span></span></span>
<p>转换成整数坐标, 并点亮相应的像素。</p>
<p>我们提供的 <code>glColor3f(r, g, b)</code> 颜色是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span> 的浮点数。</p>
<p>但是 OpenGL 为了操控只能 256 档调节亮度的三原色 LED, 会用:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>f</mi><mi>l</mi><mi>o</mi><mi>o</mi><mi>r</mi><mo stretchy="false">(</mo><mi>r</mi><mo>∗</mo><mn>255</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>f</mi><mi>l</mi><mi>o</mi><mi>o</mi><mi>r</mi><mo stretchy="false">(</mo><mi>g</mi><mo>∗</mo><mn>255</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>f</mi><mi>l</mi><mi>o</mi><mi>o</mi><mi>r</mi><mo stretchy="false">(</mo><mi>b</mi><mo>∗</mo><mn>255</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(floor(r * 255), floor(g * 255), floor(b * 255))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal" style="margin-right:0.02778em">oor</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">255</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal" style="margin-right:0.02778em">oor</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">255</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal" style="margin-right:0.02778em">oor</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">255</span><span class="mclose">))</span></span></span></span></span>
<p>的档次来点亮三颗 LED。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="57-屏幕也有-z-方向">5.7 屏幕也有 Z 方向<a href="#57-屏幕也有-z-方向" class="hash-link" aria-label="5.7 屏幕也有 Z 方向的直接链接" title="5.7 屏幕也有 Z 方向的直接链接">​</a></h3>
<p>OpenGL 规定朝向屏幕里面为 z 轴正方向</p>
<blockquote>
<p>这是为了服务于 OpenGL 的&quot;深度测试(depth test)&quot;的功能, 他们管 z 坐标叫&quot;深度&quot;, 点的 z 越大就说明他&quot;陷入屏幕越深&quot;, 也就是离人眼更远</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="58-深度测试">5.8 深度测试<a href="#58-深度测试" class="hash-link" aria-label="5.8 深度测试的直接链接" title="5.8 深度测试的直接链接">​</a></h3>
<blockquote>
<p>由于光学规律, 远处的物体会被近处的物体遮挡, OpenGL 为了模拟现实中的这种遮挡效果, 会给每个像素除了 RGB 值外, 额外加一个深度值的信息。</p>
</blockquote>
<blockquote>
<p>每次绘制一个点时, 会检测当前点的 z 值是否小于缓冲中的深度值, 如果小于等于则成功绘制, 覆盖旧物体；否则认为该点被前景遮挡, 放弃绘制新物体。</p>
</blockquote>
<blockquote>
<p>这种格式的图像又称 RGBD 图, 在计算机视觉中非常有用, 由于现有的 png 格式支持 alpha 透明度通道, 深度值 D 通常会夺舍保存到 alpha 通道里。</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="59-屏幕空间的裁剪">5.9 屏幕空间的裁剪<a href="#59-屏幕空间的裁剪" class="hash-link" aria-label="5.9 屏幕空间的裁剪的直接链接" title="5.9 屏幕空间的裁剪的直接链接">​</a></h3>
<blockquote>
<p>如果画了一个 x 或 y 坐标超出 [-1, 1] 区间的点, OpenGL 则会认为他已经不可能显示在屏幕上了, 所以会把这个点裁剪(clip)掉, 不予显示, 也不会对他进行任何着色器计算。以节省性能.</p>
</blockquote>
<div class="markdown-alert markdown-alert-tip">
<p class="markdown-alert-title"><span class="octicon octicon-tip" style="--oct-icon:url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; class=&#x27;octicon octicon-light-bulb mr-2&#x27; viewBox=&#x27;0 0 16 16&#x27; version=&#x27;1.1&#x27; width=&#x27;16&#x27; height=&#x27;16&#x27; aria-hidden=&#x27;true&#x27;%3E%3Cpath d=&#x27;M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;)"></span>Tip</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mtext>方向也会裁剪</mtext></mrow><annotation encoding="application/x-tex">Z 方向也会裁剪</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mord cjk_fallback">方向也会裁剪</span></span></span></span></p>
<p>就和 x, y 坐标一样, z 坐标超过 -1 到 1 范围的点会被&quot;裁剪&quot;掉。</p>
<p>你可能疑惑, x 和 y 会超出屏幕被裁剪可以理解, 因为他们本来就不可能在屏幕上显示了, z 坐标也裁剪, 看起来好像没有这个必要?</p>
<p>有必要的, 因为 OpenGL 的深度缓冲是有限精度的, 通常是 24 位无符号整数, 把 0 到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>24</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{24}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">24</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span> 映射到 z 浮点坐标的 -1 到 1, 如果 z 浮点坐标无限制, 那么定点量化的深度缓冲就容纳不下了。</p>
</div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="六绘制各种图形">六、绘制各种图形<a href="#六绘制各种图形" class="hash-link" aria-label="六、绘制各种图形的直接链接" title="六、绘制各种图形的直接链接">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="61-三维世界到二维屏幕的转换">6.1 三维世界到二维屏幕的转换<a href="#61-三维世界到二维屏幕的转换" class="hash-link" aria-label="6.1 三维世界到二维屏幕的转换的直接链接" title="6.1 三维世界到二维屏幕的转换的直接链接">​</a></h3>
<p>无论我们想要表现的图形空间是多么丰富多彩的三维世界, 最终都需要投影到二维的屏幕上呈现给用户欣赏。</p>
<p>在三维世界坐标和二维屏幕(准确的说还是三维屏幕, 其中 z 坐标用于深度检测)之间转换的, 是一个矩阵, 我们将在下一课中详细介绍投影矩阵等知识。</p>
<p>目前我们只考虑二维图形的绘制, 在默认的配置下(没有手动指定过任何矩阵), OpenGL 会把我们输入的世界空间坐标直接当作屏幕空间坐标。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="62-指定一个顶点的坐标">6.2 指定一个顶点的坐标<a href="#62-指定一个顶点的坐标" class="hash-link" aria-label="6.2 指定一个顶点的坐标的直接链接" title="6.2 指定一个顶点的坐标的直接链接">​</a></h3>
<p>要画一个点, 可以用 glVertex3f 函数, 他有三个参数, 分别是你要画点的 x, y, z 坐标。</p>
<p>由于目前我们只是在二维屏幕上画图, 也暂时不打算启用深度测试, z 坐标暂时没有意义, 可以始终为 0。</p>
<blockquote>
<p>默认的配置下(没有指定过矩阵), OpenGL 会把世界空间坐标直接当作屏幕空间坐标。</p>
</blockquote>
<!-- -->
<!-- -->
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="63-画一个点">6.3 画一个点<a href="#63-画一个点" class="hash-link" aria-label="6.3 画一个点的直接链接" title="6.3 画一个点的直接链接">​</a></h3>
<p>但是光靠 glVertex3f 指定一个顶点坐标还没有用。OpenGL 支持多重绘图模式:</p>
<ul>
<li>
<p>点 <code>GL_POINTS</code></p>
</li>
<li>
<p>线 <code>GL_LINES</code></p>
</li>
<li>
<p>面 <code>GL_TRIANGLES</code></p>
</li>
</ul>
<p>我们可以用 <code>glBegin(GL_xxx)</code> 来指定一个绘图模式, 然后通过 <code>glVertex3f</code> 指定这种模式下的一些顶点坐标, 最后调用 <code>glEnd()</code> 结束绘制。</p>
<p>例如要告诉 OpenGL 接下来的顶点数据是让你用来绘制&quot;点&quot;可以这样写:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:hsl(207, 82%, 66%)">glBegin</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_POINTS</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glVertex3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glEnd</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="64-画一个直径-64-个像素的点">6.4 画一个直径 64 个像素的点<a href="#64-画一个直径-64-个像素的点" class="hash-link" aria-label="6.4 画一个直径 64 个像素的点的直接链接" title="6.4 画一个直径 64 个像素的点的直接链接">​</a></h3>
<p>可以用 <code>glPointSize</code> 函数指定点绘制的大小。</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:hsl(207, 82%, 66%)">glPointSize</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">64.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glBegin</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_POINTS</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glVertex3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glEnd</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="65-画一个直径-64-个像素的-圆形的点">6.5 画一个直径 64 个像素的, 圆形的点<a href="#65-画一个直径-64-个像素的-圆形的点" class="hash-link" aria-label="6.5 画一个直径 64 个像素的, 圆形的点的直接链接" title="6.5 画一个直径 64 个像素的, 圆形的点的直接链接">​</a></h3>
<p>glEnable 函数可以启用 OpenGL 的一些特性, 例如 <code>GL_POINT_SMOOTH</code> 会让点的形状变成圆形的(而不是默认的方形)。</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:hsl(207, 82%, 66%)">glEnable</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_POINT_SMOOTH</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glPointSize</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">64.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glBegin</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_POINTS</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glVertex3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glEnd</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="66-启用抗锯齿">6.6 启用抗锯齿<a href="#66-启用抗锯齿" class="hash-link" aria-label="6.6 启用抗锯齿的直接链接" title="6.6 启用抗锯齿的直接链接">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:hsl(207, 82%, 66%)">glEnable</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_POINT_SMOOTH</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glEnable</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_BLEND</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"> </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// BLEND 的原理我们之后的课程讲解!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glBlendFunc</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_SRC_ALPHA</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> GL_ONE_MINUS_SRC_ALPHA</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glPointSize</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">64.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glBegin</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_POINTS</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glVertex3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glEnd</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="67-状态机模型-一次设置-永久生效-直到再次设置或取消">6.7 状态机模型: 一次设置, 永久生效, 直到再次设置或取消<a href="#67-状态机模型-一次设置-永久生效-直到再次设置或取消" class="hash-link" aria-label="6.7 状态机模型: 一次设置, 永久生效, 直到再次设置或取消的直接链接" title="6.7 状态机模型: 一次设置, 永久生效, 直到再次设置或取消的直接链接">​</a></h3>
<p>这些东西可以放在 main 函数里, 因为 OpenGL 使用的是&quot;状态机模型&quot;, 任何东西只需要设置一次, 以后会一直保持这个设置不变, 直到你再调用或者 glDisable。(和 EasyX 一样)</p>
<p><code>glEnd()</code> 也可以加上 <code>CHECK_GL</code>, 检测绘制过程是否出错。</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:hsl(286, 60%, 67%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">show</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">glBegin</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_POINTS</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">glVertex3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">CHECK_GL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token function" style="color:hsl(207, 82%, 66%)">glEnd</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">int</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">main</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// ...</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">CHECK_GL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token function" style="color:hsl(207, 82%, 66%)">glEnable</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_POINT_SMOOTH</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">CHECK_GL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token function" style="color:hsl(207, 82%, 66%)">glEnable</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_BLEND</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"> </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// BLEND 的原理我们之后的课程讲解!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">CHECK_GL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token function" style="color:hsl(207, 82%, 66%)">glBlendFunc</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_SRC_ALPHA</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> GL_ONE_MINUS_SRC_ALPHA</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">CHECK_GL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token function" style="color:hsl(207, 82%, 66%)">glPointSize</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">64.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">!</span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwWindowShouldClose</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:hsl(207, 82%, 66%)">show</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwSwapBuffers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">window</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"> </span><span class="token comment" style="color:hsl(220, 10%, 40%)">// 双缓冲</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token function" style="color:hsl(207, 82%, 66%)">glfwPollEvents</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="68-画多个顶点">6.8 画多个顶点<a href="#68-画多个顶点" class="hash-link" aria-label="6.8 画多个顶点的直接链接" title="6.8 画多个顶点的直接链接">​</a></h3>
<p>正如 <code>GL_POINTS</code> 这个名字所暗示的那样, 这个模式下只要指定多个顶点坐标, 就可以绘制多个点。要绘制三个点可以这样写:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:hsl(207, 82%, 66%)">glBegin</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_POINTS</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glVertex3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.5f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glVertex3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.5f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.5f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glVertex3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.5f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.5f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glEnd</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="69-每个顶点指定不同的颜色">6.9 每个顶点指定不同的颜色<a href="#69-每个顶点指定不同的颜色" class="hash-link" aria-label="6.9 每个顶点指定不同的颜色的直接链接" title="6.9 每个顶点指定不同的颜色的直接链接">​</a></h3>
<p>每个顶点可以通过 <code>glColor3f</code> 分别指定颜色, 以<code>(R, G, B)</code>三个 0 到 1 之间的浮点数来指定:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_m3Ux" style="border-top-left-radius:0px;border-top-right-radius:0px"><pre tabindex="0" class="prism-code language-cpp codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187 codeBlockLinesWithNumbering_OFgW"><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:hsl(207, 82%, 66%)">glBegin</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">GL_POINTS</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glColor3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">1.f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glVertex3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.5f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glColor3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">1.f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glVertex3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.5f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.5f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glColor3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">1.f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">1.f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">glVertex3f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.5f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">-</span><span class="token number" style="color:hsl(29, 54%, 61%)">0.5f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0.0f</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">CHECK_GL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token function" style="color:hsl(207, 82%, 66%)">glEnd</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span></span><br></span></code></pre><div class="buttonGroup_6DOT"><span class="languageName_x0G5">cpp</span><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="610-画三角形">6.10 画三角形<a href="#610-画三角形" class="hash-link" aria-label="6.10 画三角形的直接链接" title="6.10 画三角形的直接链接">​</a></h3>
<p><code>GL_POINTS</code> 把每个坐标当作单独的点来绘制, 而 <code>GL_TRIANGLES</code> 则是把三个坐标点连成一个三角形来绘制:</p>
<!-- -->
<!-- -->
<!-- -->
<!-- -->
<!-- -->
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="611-画圆">6.11 画圆<a href="#611-画圆" class="hash-link" aria-label="6.11 画圆的直接链接" title="6.11 画圆的直接链接">​</a></h3>
<p>我们尝试一下使用三角形来画圆吧...</p>
<p>先从点出发:</p>
<!-- -->
<!-- -->
<p>然后修改为三角形模式即可:</p>
<!-- -->
<!-- -->
<!-- -->
<!-- -->
<blockquote>
<p><img decoding="async" loading="lazy" alt="甜甜圈原理" src="/HXLoLi/assets/images/HX_2025-06-06_16-45-08-face7f8c186f6b68e58693ad0285d259.png" width="1778" height="844" style="border-radius:10px"></p>
<p>甜甜圈加载动画的原理, 实际上就是两个三角形</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="612-附-其他绘图模式">6.12 附: 其他绘图模式<a href="#612-附-其他绘图模式" class="hash-link" aria-label="6.12 附: 其他绘图模式的直接链接" title="6.12 附: 其他绘图模式的直接链接">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6121-gl_triangle_fan-三角形扇">6.12.1 GL_TRIANGLE_FAN 三角形扇<a href="#6121-gl_triangle_fan-三角形扇" class="hash-link" aria-label="6.12.1 GL_TRIANGLE_FAN 三角形扇的直接链接" title="6.12.1 GL_TRIANGLE_FAN 三角形扇的直接链接">​</a></h4>
<blockquote>
<p>所有三角形都共享第一个顶点, 像&quot;扇形&quot;一样辐射出去。</p>
</blockquote>
<p>顶点序列: <code>v0, v1, v2, v3, v4, ...</code></p>
<p>构成的三角形为:</p>
<ul>
<li>
<p>三角形1: <code>v0, v1, v2</code></p>
</li>
<li>
<p>三角形2: <code>v0, v2, v3</code></p>
</li>
<li>
<p>三角形3: <code>v0, v3, v4</code></p>
</li>
<li>
<p>...</p>
</li>
</ul>
<blockquote>
<p>更适合绘制&quot;扇形&quot;或凸多边形(如圆形、饼图等)。</p>
<p>所有三角形以中心顶点为共同点。</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6122-gl_triangle_strip-三角形带">6.12.2 GL_TRIANGLE_STRIP 三角形带<a href="#6122-gl_triangle_strip-三角形带" class="hash-link" aria-label="6.12.2 GL_TRIANGLE_STRIP 三角形带的直接链接" title="6.12.2 GL_TRIANGLE_STRIP 三角形带的直接链接">​</a></h4>
<blockquote>
<p>每当提供一个新顶点, 都会与前两个顶点组成一个新的三角形, 且三角形之间共享边。呈&quot;带状&quot;连接。</p>
</blockquote>
<p>顶点序列: <code>v0, v1, v2, v3, v4, ...</code></p>
<p>构成的三角形为:</p>
<ul>
<li>
<p>三角形1: <code>v0, v1, v2</code></p>
</li>
<li>
<p>三角形2: <code>v1, v2, v3</code></p>
</li>
<li>
<p>三角形3: <code>v2, v3, v4</code></p>
</li>
</ul>
<div class="markdown-alert markdown-alert-tip">
<p class="markdown-alert-title"><span class="octicon octicon-tip" style="--oct-icon:url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; class=&#x27;octicon octicon-light-bulb mr-2&#x27; viewBox=&#x27;0 0 16 16&#x27; version=&#x27;1.1&#x27; width=&#x27;16&#x27; height=&#x27;16&#x27; aria-hidden=&#x27;true&#x27;%3E%3Cpath d=&#x27;M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;)"></span>Tip</p>
<p>注意: 为了保持面向一致, OpenGL 会对偶数索引进行顶点顺序反转(比如: 第2个三角形是 v2,v1,v3)</p>
</div>
<blockquote>
<p>节省顶点数量: 每增加一个顶点, 只增加一个三角形。</p>
<p>更适合绘制&quot;条带状&quot;或长条形状(例如地形网格)。</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="七回家作业">七、回家作业<a href="#七回家作业" class="hash-link" aria-label="七、回家作业的直接链接" title="七、回家作业的直接链接">​</a></h2>
<p><img decoding="async" loading="lazy" alt="回家作业" src="/HXLoLi/assets/images/HX_2025-06-06_16-48-02-d7f3601280d2b6c7a0c8472a1e08ac59.png" width="1761" height="965" style="border-radius:10px"></p>
<!-- -->
</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/HengXin666/HXLoLi/edit/main/docs/002-程序语言/001-C++/003-现代C++/008-现代OpenGL/001-初识OpenGL/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">最后<!-- -->由 <b>Heng_Xin_666</b> <!-- -->于 <b><time datetime="2025-06-06T11:46:31.000Z" itemprop="dateModified">2025年6月6日</time></b> <!-- -->更新</span></div></div></footer></article><div style="display:flex;justify-content:flex-end;margin-top:20px">请作者喝奶茶:<div class="icon-container" style="margin-left:10px"><img src="/HXLoLi//default-icons/alipay.svg" alt="Alipay Icon" class="icon"><img src="/HXLoLi//img/alipay_qr_code.png" alt="QR Code" class="qr-code"></div><div class="icon-container" style="margin-left:10px"><img src="/HXLoLi//default-icons/wechat.svg" alt="Alipay Icon" class="icon"><img src="/HXLoLi//img/wechat_qr_code.png" alt="QR Code" class="qr-code"></div></div><div style="display:flex;justify-content:flex-end"><span style="font-size:12px">本文遵循 <img src="/HXLoLi//default-icons/cc.svg" alt="CC" style="width:14px"> <span class="tailwind"><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="relative inline-block transition-all duration-300 text-fuchsia-400 hover:text-pink-700" target="_blank" rel="noopener noreferrer">CC 4.0 BY-SA<span class="absolute right-0 bottom-0 h-0.5 bg-purple-700 w-0 transition-all duration-500"></span><span class="absolute left-0 bottom-0 h-0.5 bg-purple-700 w-0"></span></a></span> 版权协议, 转载请标明出处</span></div><div><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/HXLoLi/docs/程序语言/C++/现代C++/现代C++QT/QML/QML与C++交互"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">QML与C++交互</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/HXLoLi/docs/程序语言/C++/现代C++/源码阅读/雅兰亭库/C++无宏反射研究"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">C++无宏反射研究</div></a></nav></div></div><div>Loading Comments...</div></div><div class="col col--3"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop"><div class="tailwind"><div class="text-fuchsia-400" style="border-left:1px solid var(--ifm-toc-border-color)"><div class="ml-4 -mb-2" style="border-bottom:1.5px solid var(--ifm-toc-border-color)">0<!-- -->%</div></div></div><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ゼロ前言介绍" class="table-of-contents__link toc-highlight">ゼロ、前言介绍</a><ul><li><a href="#01-原作者" class="table-of-contents__link toc-highlight">0.1 原作者</a></li><li><a href="#02-课程参考资源" class="table-of-contents__link toc-highlight">0.2 课程参考资源</a></li></ul></li><li><a href="#一什么是渲染" class="table-of-contents__link toc-highlight">一、什么是渲染</a><ul><li><a href="#11-计算机图形学" class="table-of-contents__link toc-highlight">1.1 计算机图形学</a></li><li><a href="#12-什么是渲染" class="table-of-contents__link toc-highlight">1.2 什么是渲染</a></li><li><a href="#13-一切皆三角形" class="table-of-contents__link toc-highlight">1.3 一切皆三角形</a><ul><li><a href="#131-二维" class="table-of-contents__link toc-highlight">1.3.1 二维</a></li><li><a href="#132-三维" class="table-of-contents__link toc-highlight">1.3.2 三维</a></li></ul></li><li><a href="#14-高模-vs-低模" class="table-of-contents__link toc-highlight">1.4 高模 vs 低模</a></li><li><a href="#15-渲染的本质" class="table-of-contents__link toc-highlight">1.5 渲染的本质</a><ul><li><a href="#151-如何用一系列坐标表示一个方块" class="table-of-contents__link toc-highlight">1.5.1 如何用一系列坐标表示一个方块?</a></li><li><a href="#152-渲染的本质" class="table-of-contents__link toc-highlight">1.5.2 渲染的本质</a></li><li><a href="#153-人们对渲染的错误理解" class="table-of-contents__link toc-highlight">1.5.3 人们对渲染的错误理解</a></li></ul></li><li><a href="#16-实时渲染-vs-离线渲染" class="table-of-contents__link toc-highlight">1.6 实时渲染 vs 离线渲染</a><ul><li><a href="#161-离线渲染---康奈尔箱" class="table-of-contents__link toc-highlight">1.6.1 离线渲染 - 康奈尔箱</a></li><li><a href="#162-第二条道路---光栅化" class="table-of-contents__link toc-highlight">1.6.2 第二条道路 - 光栅化</a></li><li><a href="#163-着色-使物体明暗分明" class="table-of-contents__link toc-highlight">1.6.3 着色: 使物体明暗分明</a></li></ul></li><li><a href="#17-cpu-vs-gpu" class="table-of-contents__link toc-highlight">1.7 CPU vs GPU</a><ul><li><a href="#171-gpu-为实时渲染而生" class="table-of-contents__link toc-highlight">1.7.1 GPU 为实时渲染而生</a></li><li><a href="#172-实时渲染---质量堪忧" class="table-of-contents__link toc-highlight">1.7.2 实时渲染 - 质量堪忧</a></li><li><a href="#173-实时渲染的进步" class="table-of-contents__link toc-highlight">1.7.3 实时渲染的进步</a></li></ul></li><li><a href="#18-从-gpu-到-gpgpu" class="table-of-contents__link toc-highlight">1.8 从 GPU 到 GPGPU</a><ul><li><a href="#181-gpu-也开始支持光线追踪" class="table-of-contents__link toc-highlight">1.8.1 GPU 也开始支持光线追踪</a></li><li><a href="#182-最终效果比较" class="table-of-contents__link toc-highlight">1.8.2 最终效果比较</a></li></ul></li><li><a href="#19-gpu-渲染一个物体所需的全部流程一览" class="table-of-contents__link toc-highlight">1.9 GPU 渲染一个物体所需的全部流程一览</a></li><li><a href="#110-题外话-gpu-也可以渲染二维图形" class="table-of-contents__link toc-highlight">1.10 题外话: GPU 也可以渲染二维图形</a></li></ul></li><li><a href="#二初识-opengl" class="table-of-contents__link toc-highlight">二、初识 OpenGL</a><ul><li><a href="#21-什么是-opengl" class="table-of-contents__link toc-highlight">2.1 什么是 OpenGL</a></li><li><a href="#22-opengl-的版本与驱动支持" class="table-of-contents__link toc-highlight">2.2 OpenGL 的版本与驱动支持</a></li><li><a href="#23-opengl-版本历史变迁" class="table-of-contents__link toc-highlight">2.3 OpenGL 版本历史变迁</a></li><li><a href="#24-glsl-版本与-opengl-版本对照" class="table-of-contents__link toc-highlight">2.4 GLSL 版本与 OpenGL 版本对照</a></li><li><a href="#25-古代-opengl" class="table-of-contents__link toc-highlight">2.5 古代 OpenGL</a></li><li><a href="#26-现代-opengl" class="table-of-contents__link toc-highlight">2.6 现代 OpenGL</a></li><li><a href="#27-opengl-实现与不同的-api" class="table-of-contents__link toc-highlight">2.7 OpenGL 实现与不同的 API</a></li><li><a href="#28-opengl-扩展" class="table-of-contents__link toc-highlight">2.8 OpenGL 扩展</a></li><li><a href="#29-opengl-与-vulkan---我该学习哪个" class="table-of-contents__link toc-highlight">2.9 OpenGL 与 Vulkan - 我该学习哪个?</a></li><li><a href="#210-opengl-es---嵌入式特供版" class="table-of-contents__link toc-highlight">2.10 OpenGL ES - 嵌入式特供版</a></li><li><a href="#211-opengl-的软光栅实现" class="table-of-contents__link toc-highlight">2.11 OpenGL 的软光栅实现</a></li><li><a href="#212-opengl-的驱动支持" class="table-of-contents__link toc-highlight">2.12 OpenGL 的驱动支持</a></li><li><a href="#213-linux-安装-opengl" class="table-of-contents__link toc-highlight">2.13 Linux 安装 OpenGL</a></li><li><a href="#214-安装显卡驱动" class="table-of-contents__link toc-highlight">2.14 安装显卡驱动</a></li><li><a href="#215-opengl-头文件" class="table-of-contents__link toc-highlight">2.15 OpenGL 头文件?</a></li><li><a href="#216-glad-其实是让我们自己生成的" class="table-of-contents__link toc-highlight">2.16 glad 其实是让我们自己生成的</a></li><li><a href="#217-glfw---跨平台的-opengl-窗体管理库" class="table-of-contents__link toc-highlight">2.17 glfw - 跨平台的 OpenGL 窗体管理库</a></li><li><a href="#218-glm---仿-glsl-语法的数学矢量库" class="table-of-contents__link toc-highlight">2.18 glm - 仿 glsl 语法的数学矢量库</a></li><li><a href="#219-opengl-系列术语全家桶总结" class="table-of-contents__link toc-highlight">2.19 OpenGL 系列术语全家桶总结</a></li><li><a href="#220-cmake-链接现代-opengl-所需第三方库" class="table-of-contents__link toc-highlight">2.20 CMake 链接现代 OpenGL 所需第三方库</a></li></ul></li><li><a href="#三配置开发环境" class="table-of-contents__link toc-highlight">三、配置开发环境</a><ul><li><a href="#31-cmake" class="table-of-contents__link toc-highlight">3.1 CMake</a></li><li><a href="#32-代码" class="table-of-contents__link toc-highlight">3.2 代码</a></li></ul></li><li><a href="#四opengl-样板代码" class="table-of-contents__link toc-highlight">四、OpenGL 样板代码</a><ul><li><a href="#41-第一个-opengl-程序---从初始化-glfw-开始" class="table-of-contents__link toc-highlight">4.1 第一个 OpenGL 程序 - 从初始化 GLFW 开始</a></li><li><a href="#42-使用-glfw-创建一个窗口" class="table-of-contents__link toc-highlight">4.2 使用 GLFW 创建一个窗口</a></li><li><a href="#43-初始化-glad" class="table-of-contents__link toc-highlight">4.3 初始化 GLAD</a></li><li><a href="#44-终于可以开始画图了吗" class="table-of-contents__link toc-highlight">4.4 终于可以开始画图了吗?</a></li><li><a href="#45-检测窗口是否已经关闭" class="table-of-contents__link toc-highlight">4.5 检测窗口是否已经关闭</a></li><li><a href="#46-拉取最新事件---glfwpollevents" class="table-of-contents__link toc-highlight">4.6 拉取&quot;最新事件&quot; - glfwPollEvents</a></li><li><a href="#47-把我的画图指令提交---glflush" class="table-of-contents__link toc-highlight">4.7 把我的画图指令提交 - glFlush</a></li><li><a href="#48-双缓冲专用提交函数---glfwswapbuffers" class="table-of-contents__link toc-highlight">4.8 双缓冲专用提交函数 - glfwSwapBuffers</a></li><li><a href="#49-双缓冲原理---小说家的寓言故事" class="table-of-contents__link toc-highlight">4.9 双缓冲原理 - 小说家的寓言故事</a></li><li><a href="#410-真的可以开始画图啦" class="table-of-contents__link toc-highlight">4.10 真的可以开始画图啦~</a></li></ul></li><li><a href="#五空间坐标系" class="table-of-contents__link toc-highlight">五、空间坐标系</a><ul><li><a href="#51-屏幕空间坐标系二维" class="table-of-contents__link toc-highlight">5.1 屏幕空间坐标系(二维)</a></li><li><a href="#52-屏幕空间坐标的取值范围" class="table-of-contents__link toc-highlight">5.2 屏幕空间坐标的取值范围</a></li><li><a href="#53-屏幕不是正方形的情况" class="table-of-contents__link toc-highlight">5.3 屏幕不是正方形的情况</a></li><li><a href="#54-屏幕分辨率---空间离散化" class="table-of-contents__link toc-highlight">5.4 屏幕分辨率 - 空间离散化</a></li><li><a href="#55-rgb-组合---颜色离散化" class="table-of-contents__link toc-highlight">5.5 RGB 组合 - 颜色离散化</a></li><li><a href="#56-虽然我们的输入是浮点数-最终的结果却都是离散化的" class="table-of-contents__link toc-highlight">5.6 虽然我们的输入是浮点数, 最终的结果却都是离散化的</a></li><li><a href="#57-屏幕也有-z-方向" class="table-of-contents__link toc-highlight">5.7 屏幕也有 Z 方向</a></li><li><a href="#58-深度测试" class="table-of-contents__link toc-highlight">5.8 深度测试</a></li><li><a href="#59-屏幕空间的裁剪" class="table-of-contents__link toc-highlight">5.9 屏幕空间的裁剪</a></li></ul></li><li><a href="#六绘制各种图形" class="table-of-contents__link toc-highlight">六、绘制各种图形</a><ul><li><a href="#61-三维世界到二维屏幕的转换" class="table-of-contents__link toc-highlight">6.1 三维世界到二维屏幕的转换</a></li><li><a href="#62-指定一个顶点的坐标" class="table-of-contents__link toc-highlight">6.2 指定一个顶点的坐标</a></li><li><a href="#63-画一个点" class="table-of-contents__link toc-highlight">6.3 画一个点</a></li><li><a href="#64-画一个直径-64-个像素的点" class="table-of-contents__link toc-highlight">6.4 画一个直径 64 个像素的点</a></li><li><a href="#65-画一个直径-64-个像素的-圆形的点" class="table-of-contents__link toc-highlight">6.5 画一个直径 64 个像素的, 圆形的点</a></li><li><a href="#66-启用抗锯齿" class="table-of-contents__link toc-highlight">6.6 启用抗锯齿</a></li><li><a href="#67-状态机模型-一次设置-永久生效-直到再次设置或取消" class="table-of-contents__link toc-highlight">6.7 状态机模型: 一次设置, 永久生效, 直到再次设置或取消</a></li><li><a href="#68-画多个顶点" class="table-of-contents__link toc-highlight">6.8 画多个顶点</a></li><li><a href="#69-每个顶点指定不同的颜色" class="table-of-contents__link toc-highlight">6.9 每个顶点指定不同的颜色</a></li><li><a href="#610-画三角形" class="table-of-contents__link toc-highlight">6.10 画三角形</a></li><li><a href="#611-画圆" class="table-of-contents__link toc-highlight">6.11 画圆</a></li><li><a href="#612-附-其他绘图模式" class="table-of-contents__link toc-highlight">6.12 附: 其他绘图模式</a><ul><li><a href="#6121-gl_triangle_fan-三角形扇" class="table-of-contents__link toc-highlight">6.12.1 GL_TRIANGLE_FAN 三角形扇</a></li><li><a href="#6122-gl_triangle_strip-三角形带" class="table-of-contents__link toc-highlight">6.12.2 GL_TRIANGLE_STRIP 三角形带</a></li></ul></li></ul></li><li><a href="#七回家作业" class="table-of-contents__link toc-highlight">七、回家作业</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/HengXin666/HXLoLi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item">
                <a href="https://docusaurus.io" target="_blank" rel="noreferrer noopener">
                  <img src="/HXLoLi/default-img/buildwith.png" alt="build with docusaurus" width="120" height="50">
                </a>
                </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">版权所有 © 2025 - 2025 HXLoLi, Inc. 由 Docusaurus 构建.</div></div></div></footer></div>
</body>
</html>