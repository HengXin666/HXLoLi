# 跨度
## 说明
越界访问，有时也称为缓冲区溢出，从 C 的时代以来就一直是一个
严重的问题。考虑下面的例子:

```C++
void func1(int* p, int n) { // n 是什么？
    for (int i = 0; i < n; ++i) {
    	p[i] = 7; // 是否可行？
    }
}
```

`span<T>` 类模板就这样被放到 C++ 核心指南的支持库中。

```C++
void func(span<int> a) { // span 包含一个指针和一条大小信息
    for (int& x : a) {
    	x = 7; // 可以
    }
}
```
范围 for 从`跨度`中提取范围，并准确地遍历正确数量的元素（无需代价高昂的范围检查）。

这个例子说明了一个适当的抽象可以同时简化写法并提升性能。对于算法来说，相较于挨个检查每一个访问的元素，明确地使用一个范围（比如 span）要容易得多，开销也更低

> 基于范围的`for(:)` 与 普通基于判断的`for(;;)` 实际上前者就是后者的一个语法糖，只是要编译器帮我们把`for(:)`转化为`for(;;)`.